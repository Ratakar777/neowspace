/*! For license information please see main.5f66d090.js.LICENSE.txt */
(()=>{var e={3546:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=r}var s=e.length,a=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function c(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,r=0,i=0;e[n]===a;)r++,n++;for(var o=(e.length-n)*l+1>>>0,u=new Uint8Array(o);e[n];){var c=t[e.charCodeAt(n)];if(255===c)return;for(var d=0,h=o-1;(0!==c||d<i)&&-1!==h;h--,d++)c+=s*u[h]>>>0,u[h]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");i=d,n++}for(var f=o-i;f!==o&&0===u[f];)f++;for(var p=new Uint8Array(r+(o-f)),m=r;f!==o;)p[m++]=u[f++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var l=(o-i)*u+1>>>0,c=new Uint8Array(l);i!==o;){for(var d=t[i],h=0,f=l-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*c[f]>>>0,c[f]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,i++}for(var p=l-r;p!==l&&0===c[p];)p++;for(var m=a.repeat(n);p<l;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:c,decode:function(e){var t=c(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},7758:(e,t,n)=>{const r=n(3546);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},9563:(e,t,n)=>{"use strict";t._O=t.Jq=t.KB=t.u8=t.cv=void 0,t.Ik=t.A9=t.n_=t.gM=void 0;const r=n(918);function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(e){return i(e),r.Buffer.from(e.buffer,e.byteOffset,e.length)}class s{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}class l extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class u extends l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}class c extends l{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(!(e instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof d||this.layout instanceof h}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.decode(e,t+this.offset)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.layout.encode(e,t,n+this.offset)}}class d extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readUIntLE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeUIntLE(e,n,this.span),this.span}}class h extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readUIntBE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeUIntBE(e,n,this.span),this.span}}class f extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readIntLE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeIntLE(e,n,this.span),this.span}}class p extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readIntBE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeIntBE(e,n,this.span),this.span}}const m=Math.pow(2,32);function g(e){const t=Math.floor(e/m);return{hi32:t,lo32:e-t*m}}function y(e,t){return e*m+t}class v extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=o(e),r=n.readUInt32LE(t);return y(n.readUInt32LE(t+4),r)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=g(e),i=o(t);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}class b extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=o(e);return y(n.readUInt32BE(t),n.readUInt32BE(t+4))}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=g(e),i=o(t);return i.writeUInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}class w extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=o(e),r=n.readUInt32LE(t);return y(n.readInt32LE(t+4),r)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=g(e),i=o(t);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}class x extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=o(e);return y(n.readInt32BE(t),n.readUInt32BE(t+4))}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=g(e),i=o(t);return i.writeInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}class k extends s{constructor(e){super(4,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readFloatLE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeFloatLE(e,n),4}}class _ extends s{constructor(e){super(4,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readFloatBE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeFloatBE(e,n),4}}class S extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readDoubleLE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeDoubleLE(e,n),8}}class E extends s{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readDoubleBE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeDoubleBE(e,n),8}}class C extends s{constructor(e,t,n){if(!(e instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof l&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof l)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof l&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];let r=0,i=this.count;for(i instanceof l&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.elementLayout,i=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof l&&this.count.encode(e.length,t,n),i}}class A extends s{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof s),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===n&&(n=t,t=void 0);for(const o of e)if(0>o.span&&void 0===o.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(i){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=n;let i=0,o=0;for(const s of this.fields){let r=s.span;if(o=0<r?r:0,void 0!==s.property){const i=e[s.property];void 0!==i&&(o=s.encode(i,t,n),0>r&&(r=s.getSpan(t,n)))}i=n,n+=r}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}class I{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}class M extends I{constructor(e,t){if(!(e instanceof l&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}class j extends s{constructor(e,t,n){let r;if(e instanceof d||e instanceof h)r=new M(new c(e));else if(e instanceof l&&e.isCount())r=new M(e);else{if(!(e instanceof I))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");r=e}if(void 0===t&&(t=null),!(null===t||t instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof d||e instanceof h)&&(i+=r.layout.span)),super(i,n),this.discriminator=r,this.usesPrefixDiscriminator=e instanceof d||e instanceof h,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.discriminator,i=r.decode(e,n),o=this.registry[i];if(void 0===o){const o=this.defaultLayout;let s=0;this.usesPrefixDiscriminator&&(s=r.layout.span),t=this.makeDestinationObject(),t[r.property]=i,t[o.property]=o.decode(e,n+s)}else t=o.decode(e,n);return t}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new T(this,e,t,n);return this.registry[e]=r,r}getVariant(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=e instanceof Uint8Array?this.discriminator.decode(e,n):e,this.registry[t]}}class T extends s{constructor(e,t,n,r){if(!(e instanceof j))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof s))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(e,t+n)),n+r}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function B(e){return 0>e&&(e+=4294967296),e}class P extends s{constructor(e,t,n){if(!(e instanceof d||e instanceof h))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof t&&void 0===n&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=B(e),this},this._packedGetValue=function(){return r}}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.makeDestinationObject(),r=this.word.decode(e,t);this._packedSetValue(r);for(const i of this.fields)void 0!==i.property&&(n[i.property]=i.decode(e));return n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.word.decode(t,n);this._packedSetValue(r);for(const i of this.fields)if(void 0!==i.property){const t=e[i.property];void 0!==t&&i.encode(t)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new N(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new R(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class N{constructor(e,t,n){if(!(e instanceof P))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=B(this.valueMask<<this.start),this.property=n}decode(e,t){return B(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!==typeof e||!Number.isInteger(e)||e!==B(e&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=B(e<<this.start);this.container._packedSetValue(B(t&~this.wordMask)|n)}}class R extends N{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"===typeof e&&(e=+e),super.encode(e)}}class L extends s{constructor(e,t){if(!(e instanceof l&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof l||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.span;return 0>n&&(n=this.length.decode(e,t)),o(e).slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof l&&(r=e.length),!(e instanceof Uint8Array&&r===e.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>t.length)throw new RangeError("encoding overruns Uint8Array");const i=o(e);return o(t).write(i.toString("hex"),n,r,"hex"),this.length instanceof l&&this.length.encode(r,t,n),r}}class O extends s{constructor(e){super(-1,e)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.getSpan(e,t);return o(e).slice(t,t+n-1).toString("utf-8")}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"string"!==typeof e&&(e=String(e));const i=r.Buffer.from(e,"utf8"),s=i.length;if(n+s>t.length)throw new RangeError("encoding overruns Buffer");const a=o(t);return i.copy(a,n),a[n+s]=0,s+1}}class D extends s{constructor(e,t){if("string"===typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(e),e.length-t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return o(e).slice(t,t+n).toString("utf-8")}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"string"!==typeof e&&(e=String(e));const i=r.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(o(t),n),s}}class U extends s{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}}t.cv=(e,t,n)=>new c(e,t,n),t.u8=e=>new d(1,e),t.KB=e=>new d(2,e),t.Jq=e=>new d(4,e),t._O=e=>new v(e),t.gM=e=>new w(e),t.n_=(e,t,n)=>new A(e,t,n),t.A9=(e,t,n)=>new C(e,t,n),t.Ik=(e,t)=>new L(e,t)},131:(e,t,n)=>{"use strict";var r=n(5734).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,l=e.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,o=0;e[n]===l;)i++,n++;for(var s=(e.length-n)*u+1>>>0,c=new Uint8Array(s);n<e.length;){var d=t[e.charCodeAt(n)];if(255===d)return;for(var h=0,f=s-1;(0!==d||h<o)&&-1!==f;f--,h++)d+=a*c[f]>>>0,c[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=h,n++}for(var p=s-o;p!==s&&0===c[p];)p++;var m=r.allocUnsafe(i+(s-p));m.fill(0,0,i);for(var g=i;p!==s;)m[g++]=c[p++];return m}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,n++;for(var u=(s-o)*c+1>>>0,d=new Uint8Array(u);o!==s;){for(var h=t[o],f=0,p=u-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,o++}for(var m=u-i;m!==u&&0===d[m];)m++;for(var g=l.repeat(n);m<u;++m)g+=e.charAt(d[m]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},6460:(e,t,n)=>{var r=n(131);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},889:(e,t,n)=>{!function(e){"use strict";var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=t(),a=t([1]),l=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function m(e,t,n,r,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^n[r+o];return(1&s-1>>>8)-1}function g(e,t,n,r){return m(e,t,n,r,16)}function y(e,t,n,r){return m(e,t,n,r,32)}function v(e,t,n,r){!function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,y=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,v=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,x=o,k=s,_=a,S=l,E=u,C=c,A=d,I=h,M=f,j=p,T=m,B=g,P=y,N=v,R=b,L=w,O=0;O<20;O+=2)x^=(i=(P^=(i=(M^=(i=(E^=(i=x+P|0)<<7|i>>>25)+x|0)<<9|i>>>23)+E|0)<<13|i>>>19)+M|0)<<18|i>>>14,C^=(i=(k^=(i=(N^=(i=(j^=(i=C+k|0)<<7|i>>>25)+C|0)<<9|i>>>23)+j|0)<<13|i>>>19)+N|0)<<18|i>>>14,T^=(i=(A^=(i=(_^=(i=(R^=(i=T+A|0)<<7|i>>>25)+T|0)<<9|i>>>23)+R|0)<<13|i>>>19)+_|0)<<18|i>>>14,L^=(i=(B^=(i=(I^=(i=(S^=(i=L+B|0)<<7|i>>>25)+L|0)<<9|i>>>23)+S|0)<<13|i>>>19)+I|0)<<18|i>>>14,x^=(i=(S^=(i=(_^=(i=(k^=(i=x+S|0)<<7|i>>>25)+x|0)<<9|i>>>23)+k|0)<<13|i>>>19)+_|0)<<18|i>>>14,C^=(i=(E^=(i=(I^=(i=(A^=(i=C+E|0)<<7|i>>>25)+C|0)<<9|i>>>23)+A|0)<<13|i>>>19)+I|0)<<18|i>>>14,T^=(i=(j^=(i=(M^=(i=(B^=(i=T+j|0)<<7|i>>>25)+T|0)<<9|i>>>23)+B|0)<<13|i>>>19)+M|0)<<18|i>>>14,L^=(i=(R^=(i=(N^=(i=(P^=(i=L+R|0)<<7|i>>>25)+L|0)<<9|i>>>23)+P|0)<<13|i>>>19)+N|0)<<18|i>>>14;x=x+o|0,k=k+s|0,_=_+a|0,S=S+l|0,E=E+u|0,C=C+c|0,A=A+d|0,I=I+h|0,M=M+f|0,j=j+p|0,T=T+m|0,B=B+g|0,P=P+y|0,N=N+v|0,R=R+b|0,L=L+w|0,e[0]=x>>>0&255,e[1]=x>>>8&255,e[2]=x>>>16&255,e[3]=x>>>24&255,e[4]=k>>>0&255,e[5]=k>>>8&255,e[6]=k>>>16&255,e[7]=k>>>24&255,e[8]=_>>>0&255,e[9]=_>>>8&255,e[10]=_>>>16&255,e[11]=_>>>24&255,e[12]=S>>>0&255,e[13]=S>>>8&255,e[14]=S>>>16&255,e[15]=S>>>24&255,e[16]=E>>>0&255,e[17]=E>>>8&255,e[18]=E>>>16&255,e[19]=E>>>24&255,e[20]=C>>>0&255,e[21]=C>>>8&255,e[22]=C>>>16&255,e[23]=C>>>24&255,e[24]=A>>>0&255,e[25]=A>>>8&255,e[26]=A>>>16&255,e[27]=A>>>24&255,e[28]=I>>>0&255,e[29]=I>>>8&255,e[30]=I>>>16&255,e[31]=I>>>24&255,e[32]=M>>>0&255,e[33]=M>>>8&255,e[34]=M>>>16&255,e[35]=M>>>24&255,e[36]=j>>>0&255,e[37]=j>>>8&255,e[38]=j>>>16&255,e[39]=j>>>24&255,e[40]=T>>>0&255,e[41]=T>>>8&255,e[42]=T>>>16&255,e[43]=T>>>24&255,e[44]=B>>>0&255,e[45]=B>>>8&255,e[46]=B>>>16&255,e[47]=B>>>24&255,e[48]=P>>>0&255,e[49]=P>>>8&255,e[50]=P>>>16&255,e[51]=P>>>24&255,e[52]=N>>>0&255,e[53]=N>>>8&255,e[54]=N>>>16&255,e[55]=N>>>24&255,e[56]=R>>>0&255,e[57]=R>>>8&255,e[58]=R>>>16&255,e[59]=R>>>24&255,e[60]=L>>>0&255,e[61]=L>>>8&255,e[62]=L>>>16&255,e[63]=L>>>24&255}(e,t,n,r)}function b(e,t,n,r){!function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,u=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,c=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,f=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,m=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,y=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,v=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,x=0;x<20;x+=2)o^=(i=(y^=(i=(f^=(i=(u^=(i=o+y|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+f|0)<<18|i>>>14,c^=(i=(s^=(i=(v^=(i=(p^=(i=c+s|0)<<7|i>>>25)+c|0)<<9|i>>>23)+p|0)<<13|i>>>19)+v|0)<<18|i>>>14,m^=(i=(d^=(i=(a^=(i=(b^=(i=m+d|0)<<7|i>>>25)+m|0)<<9|i>>>23)+b|0)<<13|i>>>19)+a|0)<<18|i>>>14,w^=(i=(g^=(i=(h^=(i=(l^=(i=w+g|0)<<7|i>>>25)+w|0)<<9|i>>>23)+l|0)<<13|i>>>19)+h|0)<<18|i>>>14,o^=(i=(l^=(i=(a^=(i=(s^=(i=o+l|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,c^=(i=(u^=(i=(h^=(i=(d^=(i=c+u|0)<<7|i>>>25)+c|0)<<9|i>>>23)+d|0)<<13|i>>>19)+h|0)<<18|i>>>14,m^=(i=(p^=(i=(f^=(i=(g^=(i=m+p|0)<<7|i>>>25)+m|0)<<9|i>>>23)+g|0)<<13|i>>>19)+f|0)<<18|i>>>14,w^=(i=(b^=(i=(v^=(i=(y^=(i=w+b|0)<<7|i>>>25)+w|0)<<9|i>>>23)+y|0)<<13|i>>>19)+v|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=c>>>0&255,e[5]=c>>>8&255,e[6]=c>>>16&255,e[7]=c>>>24&255,e[8]=m>>>0&255,e[9]=m>>>8&255,e[10]=m>>>16&255,e[11]=m>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=d>>>0&255,e[17]=d>>>8&255,e[18]=d>>>16&255,e[19]=d>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=f>>>0&255,e[25]=f>>>8&255,e[26]=f>>>16&255,e[27]=f>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,n,r)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function x(e,t,n,r,i,o,s){var a,l,u=new Uint8Array(16),c=new Uint8Array(64);for(l=0;l<16;l++)u[l]=0;for(l=0;l<8;l++)u[l]=o[l];for(;i>=64;){for(v(c,u,s,w),l=0;l<64;l++)e[t+l]=n[r+l]^c[l];for(a=1,l=8;l<16;l++)a=a+(255&u[l])|0,u[l]=255&a,a>>>=8;i-=64,t+=64,r+=64}if(i>0)for(v(c,u,s,w),l=0;l<i;l++)e[t+l]=n[r+l]^c[l];return 0}function k(e,t,n,r,i){var o,s,a=new Uint8Array(16),l=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=r[s];for(;n>=64;){for(v(l,a,i,w),s=0;s<64;s++)e[t+s]=l[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;n-=64,t+=64}if(n>0)for(v(l,a,i,w),s=0;s<n;s++)e[t+s]=l[s];return 0}function _(e,t,n,r,i){var o=new Uint8Array(32);b(o,r,i,w);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=r[a+16];return k(e,t,n,s,o)}function S(e,t,n,r,i,o,s){var a=new Uint8Array(32);b(a,o,s,w);for(var l=new Uint8Array(8),u=0;u<8;u++)l[u]=o[u+16];return x(e,t,n,r,i,l,a)}var E=function(e){var t,n,r,i,o,s,a,l;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),l=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|l<<8),this.r[9]=l>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function C(e,t,n,r,i,o){var s=new E(o);return s.update(n,r,i),s.finish(e,t),0}function A(e,t,n,r,i,o){var s=new Uint8Array(16);return C(s,0,n,r,i,o),g(e,t,s,0)}function I(e,t,n,r,i){var o;if(n<32)return-1;for(S(e,0,t,0,n,r,i),C(e,16,e,32,n-32,e),o=0;o<16;o++)e[o]=0;return 0}function M(e,t,n,r,i){var o,s=new Uint8Array(32);if(n<32)return-1;if(_(s,0,32,r,i),0!==A(t,16,t,32,n-32,s))return-1;for(S(e,0,t,0,n,r,i),o=0;o<32;o++)e[o]=0;return 0}function j(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function T(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function B(e,t,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(e[o]^t[o]),e[o]^=r,t[o]^=r}function P(e,n){var r,i,o,s=t(),a=t();for(r=0;r<16;r++)a[r]=n[r];for(T(a),T(a),T(a),i=0;i<2;i++){for(s[0]=a[0]-65517,r=1;r<15;r++)s[r]=a[r]-65535-(s[r-1]>>16&1),s[r-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,B(a,s,1-o)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function N(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return P(n,e),P(r,t),y(n,0,r,0)}function R(e){var t=new Uint8Array(32);return P(t,e),1&t[0]}function L(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function O(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function D(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function U(e,t,n){var r,i,o=0,s=0,a=0,l=0,u=0,c=0,d=0,h=0,f=0,p=0,m=0,g=0,y=0,v=0,b=0,w=0,x=0,k=0,_=0,S=0,E=0,C=0,A=0,I=0,M=0,j=0,T=0,B=0,P=0,N=0,R=0,L=n[0],O=n[1],D=n[2],U=n[3],z=n[4],F=n[5],H=n[6],W=n[7],$=n[8],K=n[9],q=n[10],V=n[11],G=n[12],J=n[13],Y=n[14],Z=n[15];o+=(r=t[0])*L,s+=r*O,a+=r*D,l+=r*U,u+=r*z,c+=r*F,d+=r*H,h+=r*W,f+=r*$,p+=r*K,m+=r*q,g+=r*V,y+=r*G,v+=r*J,b+=r*Y,w+=r*Z,s+=(r=t[1])*L,a+=r*O,l+=r*D,u+=r*U,c+=r*z,d+=r*F,h+=r*H,f+=r*W,p+=r*$,m+=r*K,g+=r*q,y+=r*V,v+=r*G,b+=r*J,w+=r*Y,x+=r*Z,a+=(r=t[2])*L,l+=r*O,u+=r*D,c+=r*U,d+=r*z,h+=r*F,f+=r*H,p+=r*W,m+=r*$,g+=r*K,y+=r*q,v+=r*V,b+=r*G,w+=r*J,x+=r*Y,k+=r*Z,l+=(r=t[3])*L,u+=r*O,c+=r*D,d+=r*U,h+=r*z,f+=r*F,p+=r*H,m+=r*W,g+=r*$,y+=r*K,v+=r*q,b+=r*V,w+=r*G,x+=r*J,k+=r*Y,_+=r*Z,u+=(r=t[4])*L,c+=r*O,d+=r*D,h+=r*U,f+=r*z,p+=r*F,m+=r*H,g+=r*W,y+=r*$,v+=r*K,b+=r*q,w+=r*V,x+=r*G,k+=r*J,_+=r*Y,S+=r*Z,c+=(r=t[5])*L,d+=r*O,h+=r*D,f+=r*U,p+=r*z,m+=r*F,g+=r*H,y+=r*W,v+=r*$,b+=r*K,w+=r*q,x+=r*V,k+=r*G,_+=r*J,S+=r*Y,E+=r*Z,d+=(r=t[6])*L,h+=r*O,f+=r*D,p+=r*U,m+=r*z,g+=r*F,y+=r*H,v+=r*W,b+=r*$,w+=r*K,x+=r*q,k+=r*V,_+=r*G,S+=r*J,E+=r*Y,C+=r*Z,h+=(r=t[7])*L,f+=r*O,p+=r*D,m+=r*U,g+=r*z,y+=r*F,v+=r*H,b+=r*W,w+=r*$,x+=r*K,k+=r*q,_+=r*V,S+=r*G,E+=r*J,C+=r*Y,A+=r*Z,f+=(r=t[8])*L,p+=r*O,m+=r*D,g+=r*U,y+=r*z,v+=r*F,b+=r*H,w+=r*W,x+=r*$,k+=r*K,_+=r*q,S+=r*V,E+=r*G,C+=r*J,A+=r*Y,I+=r*Z,p+=(r=t[9])*L,m+=r*O,g+=r*D,y+=r*U,v+=r*z,b+=r*F,w+=r*H,x+=r*W,k+=r*$,_+=r*K,S+=r*q,E+=r*V,C+=r*G,A+=r*J,I+=r*Y,M+=r*Z,m+=(r=t[10])*L,g+=r*O,y+=r*D,v+=r*U,b+=r*z,w+=r*F,x+=r*H,k+=r*W,_+=r*$,S+=r*K,E+=r*q,C+=r*V,A+=r*G,I+=r*J,M+=r*Y,j+=r*Z,g+=(r=t[11])*L,y+=r*O,v+=r*D,b+=r*U,w+=r*z,x+=r*F,k+=r*H,_+=r*W,S+=r*$,E+=r*K,C+=r*q,A+=r*V,I+=r*G,M+=r*J,j+=r*Y,T+=r*Z,y+=(r=t[12])*L,v+=r*O,b+=r*D,w+=r*U,x+=r*z,k+=r*F,_+=r*H,S+=r*W,E+=r*$,C+=r*K,A+=r*q,I+=r*V,M+=r*G,j+=r*J,T+=r*Y,B+=r*Z,v+=(r=t[13])*L,b+=r*O,w+=r*D,x+=r*U,k+=r*z,_+=r*F,S+=r*H,E+=r*W,C+=r*$,A+=r*K,I+=r*q,M+=r*V,j+=r*G,T+=r*J,B+=r*Y,P+=r*Z,b+=(r=t[14])*L,w+=r*O,x+=r*D,k+=r*U,_+=r*z,S+=r*F,E+=r*H,C+=r*W,A+=r*$,I+=r*K,M+=r*q,j+=r*V,T+=r*G,B+=r*J,P+=r*Y,N+=r*Z,w+=(r=t[15])*L,s+=38*(k+=r*D),a+=38*(_+=r*U),l+=38*(S+=r*z),u+=38*(E+=r*F),c+=38*(C+=r*H),d+=38*(A+=r*W),h+=38*(I+=r*$),f+=38*(M+=r*K),p+=38*(j+=r*q),m+=38*(T+=r*V),g+=38*(B+=r*G),y+=38*(P+=r*J),v+=38*(N+=r*Y),b+=38*(R+=r*Z),o=(r=(o+=38*(x+=r*O))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),b=(r=b+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=l,e[4]=u,e[5]=c,e[6]=d,e[7]=h,e[8]=f,e[9]=p,e[10]=m,e[11]=g,e[12]=y,e[13]=v,e[14]=b,e[15]=w}function z(e,t){U(e,t,t)}function F(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)z(i,i),2!==r&&4!==r&&U(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function H(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=250;r>=0;r--)z(i,i),1!==r&&U(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function W(e,n,r){var i,o,s=new Uint8Array(32),a=new Float64Array(80),u=t(),c=t(),d=t(),h=t(),f=t(),p=t();for(o=0;o<31;o++)s[o]=n[o];for(s[31]=127&n[31]|64,s[0]&=248,L(a,r),o=0;o<16;o++)c[o]=a[o],h[o]=u[o]=d[o]=0;for(u[0]=h[0]=1,o=254;o>=0;--o)B(u,c,i=s[o>>>3]>>>(7&o)&1),B(d,h,i),O(f,u,d),D(u,u,d),O(d,c,h),D(c,c,h),z(h,f),z(p,u),U(u,d,u),U(d,c,f),O(f,u,d),D(u,u,d),z(c,u),D(d,h,p),U(u,d,l),O(u,u,h),U(d,d,u),U(u,h,p),U(h,c,a),z(c,f),B(u,c,i),B(d,h,i);for(o=0;o<16;o++)a[o+16]=u[o],a[o+32]=d[o],a[o+48]=c[o],a[o+64]=h[o];var m=a.subarray(32),g=a.subarray(16);return F(m,m),U(g,g,m),P(e,g),0}function $(e,t){return W(e,t,o)}function K(e,t){return r(t,32),$(e,t)}function q(e,t,n){var r=new Uint8Array(32);return W(r,n,t),b(e,i,r,w)}E.prototype.blocks=function(e,t,n){for(var r,i,o,s,a,l,u,c,d,h,f,p,m,g,y,v,b,w,x,k=this.fin?0:2048,_=this.h[0],S=this.h[1],E=this.h[2],C=this.h[3],A=this.h[4],I=this.h[5],M=this.h[6],j=this.h[7],T=this.h[8],B=this.h[9],P=this.r[0],N=this.r[1],R=this.r[2],L=this.r[3],O=this.r[4],D=this.r[5],U=this.r[6],z=this.r[7],F=this.r[8],H=this.r[9];n>=16;)h=d=0,h+=(_+=8191&(r=255&e[t+0]|(255&e[t+1])<<8))*P,h+=(S+=8191&(r>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*H),h+=(E+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*F),h+=(C+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*z),d=(h+=(A+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*U))>>>13,h&=8191,h+=(I+=a>>>1&8191)*(5*D),h+=(M+=8191&(a>>>14|(l=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*O),h+=(j+=8191&(l>>>11|(u=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*L),h+=(T+=8191&(u>>>8|(c=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*R),f=d+=(h+=(B+=c>>>5|k)*(5*N))>>>13,f+=_*N,f+=S*P,f+=E*(5*H),f+=C*(5*F),d=(f+=A*(5*z))>>>13,f&=8191,f+=I*(5*U),f+=M*(5*D),f+=j*(5*O),f+=T*(5*L),d+=(f+=B*(5*R))>>>13,f&=8191,p=d,p+=_*R,p+=S*N,p+=E*P,p+=C*(5*H),d=(p+=A*(5*F))>>>13,p&=8191,p+=I*(5*z),p+=M*(5*U),p+=j*(5*D),p+=T*(5*O),m=d+=(p+=B*(5*L))>>>13,m+=_*L,m+=S*R,m+=E*N,m+=C*P,d=(m+=A*(5*H))>>>13,m&=8191,m+=I*(5*F),m+=M*(5*z),m+=j*(5*U),m+=T*(5*D),g=d+=(m+=B*(5*O))>>>13,g+=_*O,g+=S*L,g+=E*R,g+=C*N,d=(g+=A*P)>>>13,g&=8191,g+=I*(5*H),g+=M*(5*F),g+=j*(5*z),g+=T*(5*U),y=d+=(g+=B*(5*D))>>>13,y+=_*D,y+=S*O,y+=E*L,y+=C*R,d=(y+=A*N)>>>13,y&=8191,y+=I*P,y+=M*(5*H),y+=j*(5*F),y+=T*(5*z),v=d+=(y+=B*(5*U))>>>13,v+=_*U,v+=S*D,v+=E*O,v+=C*L,d=(v+=A*R)>>>13,v&=8191,v+=I*N,v+=M*P,v+=j*(5*H),v+=T*(5*F),b=d+=(v+=B*(5*z))>>>13,b+=_*z,b+=S*U,b+=E*D,b+=C*O,d=(b+=A*L)>>>13,b&=8191,b+=I*R,b+=M*N,b+=j*P,b+=T*(5*H),w=d+=(b+=B*(5*F))>>>13,w+=_*F,w+=S*z,w+=E*U,w+=C*D,d=(w+=A*O)>>>13,w&=8191,w+=I*L,w+=M*R,w+=j*N,w+=T*P,x=d+=(w+=B*(5*H))>>>13,x+=_*H,x+=S*F,x+=E*z,x+=C*U,d=(x+=A*D)>>>13,x&=8191,x+=I*O,x+=M*L,x+=j*R,x+=T*N,_=h=8191&(d=(d=((d+=(x+=B*P)>>>13)<<2)+d|0)+(h&=8191)|0),S=f+=d>>>=13,E=p&=8191,C=m&=8191,A=g&=8191,I=y&=8191,M=v&=8191,j=b&=8191,T=w&=8191,B=x&=8191,t+=16,n-=16;this.h[0]=_,this.h[1]=S,this.h[2]=E,this.h[3]=C,this.h[4]=A,this.h[5]=I,this.h[6]=M,this.h[7]=j,this.h[8]=T,this.h[9]=B},E.prototype.finish=function(e,t){var n,r,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,s[0]=this.h[0]+5,n=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+n,n=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,r=(1^n)-1,o=0;o<10;o++)s[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},E.prototype.update=function(e,t,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(e,t,i),t+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var V=I,G=M;var J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Y(e,t,n,r){for(var i,o,s,a,l,u,c,d,h,f,p,m,g,y,v,b,w,x,k,_,S,E,C,A,I,M,j=new Int32Array(16),T=new Int32Array(16),B=e[0],P=e[1],N=e[2],R=e[3],L=e[4],O=e[5],D=e[6],U=e[7],z=t[0],F=t[1],H=t[2],W=t[3],$=t[4],K=t[5],q=t[6],V=t[7],G=0;r>=128;){for(k=0;k<16;k++)_=8*k+G,j[k]=n[_+0]<<24|n[_+1]<<16|n[_+2]<<8|n[_+3],T[k]=n[_+4]<<24|n[_+5]<<16|n[_+6]<<8|n[_+7];for(k=0;k<80;k++)if(i=B,o=P,s=N,a=R,l=L,u=O,c=D,U,h=z,f=F,p=H,m=W,g=$,y=K,v=q,V,C=65535&(E=V),A=E>>>16,I=65535&(S=U),M=S>>>16,C+=65535&(E=($>>>14|L<<18)^($>>>18|L<<14)^(L>>>9|$<<23)),A+=E>>>16,I+=65535&(S=(L>>>14|$<<18)^(L>>>18|$<<14)^($>>>9|L<<23)),M+=S>>>16,C+=65535&(E=$&K^~$&q),A+=E>>>16,I+=65535&(S=L&O^~L&D),M+=S>>>16,S=J[2*k],C+=65535&(E=J[2*k+1]),A+=E>>>16,I+=65535&S,M+=S>>>16,S=j[k%16],A+=(E=T[k%16])>>>16,I+=65535&S,M+=S>>>16,I+=(A+=(C+=65535&E)>>>16)>>>16,C=65535&(E=x=65535&C|A<<16),A=E>>>16,I=65535&(S=w=65535&I|(M+=I>>>16)<<16),M=S>>>16,C+=65535&(E=(z>>>28|B<<4)^(B>>>2|z<<30)^(B>>>7|z<<25)),A+=E>>>16,I+=65535&(S=(B>>>28|z<<4)^(z>>>2|B<<30)^(z>>>7|B<<25)),M+=S>>>16,A+=(E=z&F^z&H^F&H)>>>16,I+=65535&(S=B&P^B&N^P&N),M+=S>>>16,d=65535&(I+=(A+=(C+=65535&E)>>>16)>>>16)|(M+=I>>>16)<<16,b=65535&C|A<<16,C=65535&(E=m),A=E>>>16,I=65535&(S=a),M=S>>>16,A+=(E=x)>>>16,I+=65535&(S=w),M+=S>>>16,P=i,N=o,R=s,L=a=65535&(I+=(A+=(C+=65535&E)>>>16)>>>16)|(M+=I>>>16)<<16,O=l,D=u,U=c,B=d,F=h,H=f,W=p,$=m=65535&C|A<<16,K=g,q=y,V=v,z=b,k%16===15)for(_=0;_<16;_++)S=j[_],C=65535&(E=T[_]),A=E>>>16,I=65535&S,M=S>>>16,S=j[(_+9)%16],C+=65535&(E=T[(_+9)%16]),A+=E>>>16,I+=65535&S,M+=S>>>16,w=j[(_+1)%16],C+=65535&(E=((x=T[(_+1)%16])>>>1|w<<31)^(x>>>8|w<<24)^(x>>>7|w<<25)),A+=E>>>16,I+=65535&(S=(w>>>1|x<<31)^(w>>>8|x<<24)^w>>>7),M+=S>>>16,w=j[(_+14)%16],A+=(E=((x=T[(_+14)%16])>>>19|w<<13)^(w>>>29|x<<3)^(x>>>6|w<<26))>>>16,I+=65535&(S=(w>>>19|x<<13)^(x>>>29|w<<3)^w>>>6),M+=S>>>16,M+=(I+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,j[_]=65535&I|M<<16,T[_]=65535&C|A<<16;C=65535&(E=z),A=E>>>16,I=65535&(S=B),M=S>>>16,S=e[0],A+=(E=t[0])>>>16,I+=65535&S,M+=S>>>16,M+=(I+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,e[0]=B=65535&I|M<<16,t[0]=z=65535&C|A<<16,C=65535&(E=F),A=E>>>16,I=65535&(S=P),M=S>>>16,S=e[1],A+=(E=t[1])>>>16,I+=65535&S,M+=S>>>16,M+=(I+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,e[1]=P=65535&I|M<<16,t[1]=F=65535&C|A<<16,C=65535&(E=H),A=E>>>16,I=65535&(S=N),M=S>>>16,S=e[2],A+=(E=t[2])>>>16,I+=65535&S,M+=S>>>16,M+=(I+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,e[2]=N=65535&I|M<<16,t[2]=H=65535&C|A<<16,C=65535&(E=W),A=E>>>16,I=65535&(S=R),M=S>>>16,S=e[3],A+=(E=t[3])>>>16,I+=65535&S,M+=S>>>16,M+=(I+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,e[3]=R=65535&I|M<<16,t[3]=W=65535&C|A<<16,C=65535&(E=$),A=E>>>16,I=65535&(S=L),M=S>>>16,S=e[4],A+=(E=t[4])>>>16,I+=65535&S,M+=S>>>16,M+=(I+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,e[4]=L=65535&I|M<<16,t[4]=$=65535&C|A<<16,C=65535&(E=K),A=E>>>16,I=65535&(S=O),M=S>>>16,S=e[5],A+=(E=t[5])>>>16,I+=65535&S,M+=S>>>16,M+=(I+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,e[5]=O=65535&I|M<<16,t[5]=K=65535&C|A<<16,C=65535&(E=q),A=E>>>16,I=65535&(S=D),M=S>>>16,S=e[6],A+=(E=t[6])>>>16,I+=65535&S,M+=S>>>16,M+=(I+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,e[6]=D=65535&I|M<<16,t[6]=q=65535&C|A<<16,C=65535&(E=V),A=E>>>16,I=65535&(S=U),M=S>>>16,S=e[7],A+=(E=t[7])>>>16,I+=65535&S,M+=S>>>16,M+=(I+=(A+=(C+=65535&E)>>>16)>>>16)>>>16,e[7]=U=65535&I|M<<16,t[7]=V=65535&C|A<<16,G+=128,r-=128}return r}function Z(e,t,n){var r,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Y(i,o,t,n),n%=128,r=0;r<n;r++)s[r]=t[a-n+r];for(s[n]=128,s[(n=256-128*(n<112?1:0))-9]=0,p(s,n-8,a/536870912|0,a<<3),Y(i,o,s,n),r=0;r<8;r++)p(e,8*r,i[r],o[r]);return 0}function X(e,n){var r=t(),i=t(),o=t(),s=t(),a=t(),l=t(),u=t(),d=t(),h=t();D(r,e[1],e[0]),D(h,n[1],n[0]),U(r,r,h),O(i,e[0],e[1]),O(h,n[0],n[1]),U(i,i,h),U(o,e[3],n[3]),U(o,o,c),U(s,e[2],n[2]),O(s,s,s),D(a,i,r),D(l,s,o),O(u,s,o),O(d,i,r),U(e[0],a,l),U(e[1],d,u),U(e[2],u,l),U(e[3],a,d)}function Q(e,t,n){var r;for(r=0;r<4;r++)B(e[r],t[r],n)}function ee(e,n){var r=t(),i=t(),o=t();F(o,n[2]),U(r,n[0],o),U(i,n[1],o),P(e,i),e[31]^=R(r)<<7}function te(e,t,n){var r,i;for(j(e[0],s),j(e[1],a),j(e[2],a),j(e[3],s),i=255;i>=0;--i)Q(e,t,r=n[i/8|0]>>(7&i)&1),X(t,e),X(e,e),Q(e,t,r)}function ne(e,n){var r=[t(),t(),t(),t()];j(r[0],d),j(r[1],h),j(r[2],a),U(r[3],d,h),te(e,r,n)}function re(e,n,i){var o,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||r(n,32),Z(s,n,32),s[0]&=248,s[31]&=127,s[31]|=64,ne(a,s),ee(e,a),o=0;o<32;o++)n[o+32]=e[o];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function oe(e,t){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*ie[i-(r-32)],n=Math.floor((t[i]+128)/256),t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*ie[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*ie[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function se(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;oe(e,n)}function ae(e,n,r,i){var o,s,a=new Uint8Array(64),l=new Uint8Array(64),u=new Uint8Array(64),c=new Float64Array(64),d=[t(),t(),t(),t()];Z(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=r+64;for(o=0;o<r;o++)e[64+o]=n[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(Z(u,e.subarray(32),r+32),se(u),ne(d,u),ee(e,d),o=32;o<64;o++)e[o]=i[o];for(Z(l,e,r+64),se(l),o=0;o<64;o++)c[o]=0;for(o=0;o<32;o++)c[o]=u[o];for(o=0;o<32;o++)for(s=0;s<32;s++)c[o+s]+=l[o]*a[s];return oe(e.subarray(32),c),h}function le(e,n,r,i){var o,l=new Uint8Array(32),c=new Uint8Array(64),d=[t(),t(),t(),t()],h=[t(),t(),t(),t()];if(r<64)return-1;if(function(e,n){var r=t(),i=t(),o=t(),l=t(),c=t(),d=t(),h=t();return j(e[2],a),L(e[1],n),z(o,e[1]),U(l,o,u),D(o,o,e[2]),O(l,e[2],l),z(c,l),z(d,c),U(h,d,c),U(r,h,o),U(r,r,l),H(r,r),U(r,r,o),U(r,r,l),U(r,r,l),U(e[0],r,l),z(i,e[0]),U(i,i,l),N(i,o)&&U(e[0],e[0],f),z(i,e[0]),U(i,i,l),N(i,o)?-1:(R(e[0])===n[31]>>7&&D(e[0],s,e[0]),U(e[3],e[0],e[1]),0)}(h,i))return-1;for(o=0;o<r;o++)e[o]=n[o];for(o=0;o<32;o++)e[o+32]=i[o];if(Z(c,e,r),se(c),te(d,h,c),ne(h,n.subarray(32)),X(d,h),ee(l,d),r-=64,y(n,0,l,0)){for(o=0;o<r;o++)e[o]=0;return-1}for(o=0;o<r;o++)e[o]=n[o+64];return r}var ue=16,ce=64,de=32,he=64;function fe(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function me(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:S,crypto_stream:_,crypto_stream_salsa20_xor:x,crypto_stream_salsa20:k,crypto_onetimeauth:C,crypto_onetimeauth_verify:A,crypto_verify_16:g,crypto_verify_32:y,crypto_secretbox:I,crypto_secretbox_open:M,crypto_scalarmult:W,crypto_scalarmult_base:$,crypto_box_beforenm:q,crypto_box_afternm:V,crypto_box:function(e,t,n,r,i,o){var s=new Uint8Array(32);return q(s,i,o),V(e,t,n,r,s)},crypto_box_open:function(e,t,n,r,i,o){var s=new Uint8Array(32);return q(s,i,o),G(e,t,n,r,s)},crypto_box_keypair:K,crypto_hash:Z,crypto_sign:ae,crypto_sign_keypair:re,crypto_sign_open:le,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ue,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:ce,crypto_sign_PUBLICKEYBYTES:de,crypto_sign_SECRETKEYBYTES:he,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:u,L:ie,pack:ee,pack25519:P,unpack25519:L,M:U,A:O,S:z,Z:D,pow2523:H,add:X,set25519:j,modL:oe,scalarmult:te,scalarbase:ne},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,n){pe(e,t,n),fe(n,t);for(var r=new Uint8Array(32+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+32]=e[o];return I(i,r,r.length,t,n),i.subarray(ue)},e.secretbox.open=function(e,t,n){pe(e,t,n),fe(n,t);for(var r=new Uint8Array(ue+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+ue]=e[o];return r.length<32||0!==M(i,r,r.length,t,n)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ue,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return W(n,e,t),n},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return $(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,r,i){var o=e.box.before(r,i);return e.secretbox(t,n,o)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return q(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,i){var o=e.box.before(r,i);return e.secretbox.open(t,n,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return K(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return $(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==he)throw new Error("bad secret key size");var n=new Uint8Array(ce+e.length);return ae(n,e,e.length,t),n},e.sign.open=function(e,t){if(pe(e,t),t.length!==de)throw new Error("bad public key size");var n=new Uint8Array(e.length),r=le(n,e,e.length,t);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached=function(t,n){for(var r=e.sign(t,n),i=new Uint8Array(ce),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached.verify=function(e,t,n){if(pe(e,t,n),t.length!==ce)throw new Error("bad signature size");if(n.length!==de)throw new Error("bad public key size");var r,i=new Uint8Array(ce+e.length),o=new Uint8Array(ce+e.length);for(r=0;r<ce;r++)i[r]=t[r];for(r=0;r<e.length;r++)i[r+ce]=e[r];return le(o,i,i.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(de),t=new Uint8Array(he);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==he)throw new Error("bad secret key size");for(var t=new Uint8Array(de),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(de),n=new Uint8Array(he),r=0;r<32;r++)n[r]=e[r];return re(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=de,e.sign.secretKeyLength=he,e.sign.seedLength=32,e.sign.signatureLength=ce,e.hash=function(e){pe(e);var t=new Uint8Array(64);return Z(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===m(e,0,t,0,e.length))},e.setPRNG=function(e){r=e},function(){var t="undefined"!==typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,n){var r,i=new Uint8Array(n);for(r=0;r<n;r+=65536)t.getRandomValues(i.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)e[r]=i[r];me(i)}))}else(t=n(8848))&&t.randomBytes&&e.setPRNG((function(e,n){var r,i=t.randomBytes(n);for(r=0;r<n;r++)e[r]=i[r];me(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},7171:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=r}var s=e.length,a=e.charAt(0),l=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function c(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,r=0,i=0;e[n]===a;)r++,n++;for(var o=(e.length-n)*l+1>>>0,u=new Uint8Array(o);e[n];){var c=t[e.charCodeAt(n)];if(255===c)return;for(var d=0,h=o-1;(0!==c||d<i)&&-1!==h;h--,d++)c+=s*u[h]>>>0,u[h]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");i=d,n++}for(var f=o-i;f!==o&&0===u[f];)f++;for(var p=new Uint8Array(r+(o-f)),m=r;f!==o;)p[m++]=u[f++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var l=(o-i)*u+1>>>0,c=new Uint8Array(l);i!==o;){for(var d=t[i],h=0,f=l-1;(0!==d||h<r)&&-1!==f;f--,h++)d+=256*c[f]>>>0,c[f]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");r=h,i++}for(var p=l-r;p!==l&&0===c[p];)p++;for(var m=a.repeat(n);p<l;++p)m+=e.charAt(c[p]);return m},decodeUnsafe:c,decode:function(e){var t=c(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},5699:(e,t,n)=>{const r=n(7171);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},7532:function(e){"use strict";!function(t){function n(e){return parseInt(e)===e}function r(e){if(!n(e.length))return!1;for(var t=0;t<e.length;t++)if(!n(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!r(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(n(e.length)&&r(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function o(e){return new Uint8Array(e)}function s(e,t,n,r,i){null==r&&null==i||(e=e.slice?e.slice(r,i):Array.prototype.slice.call(e,r,i)),t.set(e,n)}var a={toBytes:function(e){var t=[],n=0;for(e=encodeURI(e);n<e.length;){var r=e.charCodeAt(n++);37===r?(t.push(parseInt(e.substr(n,2),16)),n+=2):t.push(r)}return i(t)},fromBytes:function(e){for(var t=[],n=0;n<e.length;){var r=e[n];r<128?(t.push(String.fromCharCode(r)),n++):r>191&&r<224?(t.push(String.fromCharCode((31&r)<<6|63&e[n+1])),n+=2):(t.push(String.fromCharCode((15&r)<<12|(63&e[n+1])<<6|63&e[n+2])),n+=3)}return t.join("")}},l=function(){var e="0123456789abcdef";return{toBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},fromBytes:function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(e[(240&i)>>4]+e[15&i])}return n.join("")}}}(),u={16:10,24:12,32:14},c=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],d=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],f=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],p=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],g=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],y=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],v=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],b=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],w=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],x=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],k=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],_=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],S=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function E(e){for(var t=[],n=0;n<e.length;n+=4)t.push(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);return t}var C=function(e){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};C.prototype._prepare=function(){var e=u[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var n,r=4*(e+1),i=this.key.length/4,o=E(this.key);for(t=0;t<i;t++)n=t>>2,this._Ke[n][t%4]=o[t],this._Kd[e-n][t%4]=o[t];for(var s,a=0,l=i;l<r;){if(s=o[i-1],o[0]^=d[s>>16&255]<<24^d[s>>8&255]<<16^d[255&s]<<8^d[s>>24&255]^c[a]<<24,a+=1,8!=i)for(t=1;t<i;t++)o[t]^=o[t-1];else{for(t=1;t<i/2;t++)o[t]^=o[t-1];s=o[i/2-1],o[i/2]^=d[255&s]^d[s>>8&255]<<8^d[s>>16&255]<<16^d[s>>24&255]<<24;for(t=i/2+1;t<i;t++)o[t]^=o[t-1]}for(t=0;t<i&&l<r;)h=l>>2,f=l%4,this._Ke[h][f]=o[t],this._Kd[e-h][f]=o[t++],l++}for(var h=1;h<e;h++)for(var f=0;f<4;f++)s=this._Kd[h][f],this._Kd[h][f]=x[s>>24&255]^k[s>>16&255]^_[s>>8&255]^S[255&s]},C.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,n=[0,0,0,0],r=E(e),i=0;i<4;i++)r[i]^=this._Ke[0][i];for(var s=1;s<t;s++){for(i=0;i<4;i++)n[i]=f[r[i]>>24&255]^p[r[(i+1)%4]>>16&255]^m[r[(i+2)%4]>>8&255]^g[255&r[(i+3)%4]]^this._Ke[s][i];r=n.slice()}var a,l=o(16);for(i=0;i<4;i++)a=this._Ke[t][i],l[4*i]=255&(d[r[i]>>24&255]^a>>24),l[4*i+1]=255&(d[r[(i+1)%4]>>16&255]^a>>16),l[4*i+2]=255&(d[r[(i+2)%4]>>8&255]^a>>8),l[4*i+3]=255&(d[255&r[(i+3)%4]]^a);return l},C.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,n=[0,0,0,0],r=E(e),i=0;i<4;i++)r[i]^=this._Kd[0][i];for(var s=1;s<t;s++){for(i=0;i<4;i++)n[i]=y[r[i]>>24&255]^v[r[(i+3)%4]>>16&255]^b[r[(i+2)%4]>>8&255]^w[255&r[(i+1)%4]]^this._Kd[s][i];r=n.slice()}var a,l=o(16);for(i=0;i<4;i++)a=this._Kd[t][i],l[4*i]=255&(h[r[i]>>24&255]^a>>24),l[4*i+1]=255&(h[r[(i+3)%4]>>16&255]^a>>16),l[4*i+2]=255&(h[r[(i+2)%4]>>8&255]^a>>8),l[4*i+3]=255&(h[255&r[(i+1)%4]]^a);return l};var A=function(e){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new C(e)};A.prototype.encrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),n=o(16),r=0;r<e.length;r+=16)s(e,n,0,r,r+16),s(n=this._aes.encrypt(n),t,r);return t},A.prototype.decrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),n=o(16),r=0;r<e.length;r+=16)s(e,n,0,r,r+16),s(n=this._aes.decrypt(n),t,r);return t};var I=function(e,t){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastCipherblock=i(t,!0),this._aes=new C(e)};I.prototype.encrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),n=o(16),r=0;r<e.length;r+=16){s(e,n,0,r,r+16);for(var a=0;a<16;a++)n[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(n),s(this._lastCipherblock,t,r)}return t},I.prototype.decrypt=function(e){if((e=i(e)).length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),n=o(16),r=0;r<e.length;r+=16){s(e,n,0,r,r+16),n=this._aes.decrypt(n);for(var a=0;a<16;a++)t[r+a]=n[a]^this._lastCipherblock[a];s(e,this._lastCipherblock,0,r,r+16)}return t};var M=function(e,t,n){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=o(16);n||(n=1),this.segmentSize=n,this._shiftRegister=i(t,!0),this._aes=new C(e)};M.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,n=i(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)n[r+o]^=t[o];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(n,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n},M.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,n=i(e,!0),r=0;r<n.length;r+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)n[r+o]^=t[o];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,r,r+this.segmentSize)}return n};var j=function(e,t){if(!(this instanceof j))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastPrecipher=i(t,!0),this._lastPrecipherIndex=16,this._aes=new C(e)};j.prototype.encrypt=function(e){for(var t=i(e,!0),n=0;n<t.length;n++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[n]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},j.prototype.decrypt=j.prototype.encrypt;var T=function(e){if(!(this instanceof T))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"===typeof e?(this._counter=o(16),this.setValue(e)):this.setBytes(e)};T.prototype.setValue=function(e){if("number"!==typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},T.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},T.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var B=function(e,t){if(!(this instanceof B))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof T||(t=new T(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new C(e)};B.prototype.encrypt=function(e){for(var t=i(e,!0),n=0;n<t.length;n++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[n]^=this._remainingCounter[this._remainingCounterIndex++];return t},B.prototype.decrypt=B.prototype.encrypt;var P={AES:C,Counter:T,ModeOfOperation:{ecb:A,cbc:I,cfb:M,ofb:j,ctr:B},utils:{hex:l,utf8:a},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,n=o(e.length+t);s(e,n);for(var r=e.length;r<n.length;r++)n[r]=t;return n},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var n=e.length-t,r=0;r<t;r++)if(e[n+r]!==t)throw new Error("PKCS#7 invalid padding byte");var a=o(n);return s(e,a,0,0,n),a}}},_arrayTest:{coerceArray:i,createArray:o,copyArray:s}};e.exports=P}()},2470:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=a(e),s=o[0],l=o[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,l)),c=0,d=l>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[c++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,u=r-i;a<u;a+=s)o.push(l(e,a,a+s>u?u:a+s));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},3289:(e,t)=>{"use strict";t.oU=function(e){{const t=Buffer.from(e);t.reverse();const n=t.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}},t.k$=function(e,t){{const n=e.toString(16),r=Buffer.from(n.padStart(2*t,"0").slice(0,2*t),"hex");return r.reverse(),r}}},4166:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var s;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(6601).Buffer}catch(I){}function a(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function l(e,t,n){var r=a(e,n);return n-1>=t&&(r|=a(e,n-1)<<4),r}function u(e,t,n,i){for(var o=0,s=0,a=Math.min(e.length,n),l=t;l<a;l++){var u=e.charCodeAt(l)-48;o*=i,s=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&s<i,"Invalid character"),o+=s}return o}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,s=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=l(e,t,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=l(e,t,r)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,s=o%r,a=Math.min(o,o-s)+n,l=0,c=n;c<a;c+=r)l=u(e,c,c+r,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==s){var d=1;for(l=u(e,c,e.length,t),c=0;c<s;c++)d*=t;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){c(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(I){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],l=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),n=0!==o||s!==this.length-1?h[6-l.length]+l+n:l+n}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var u=f[e],c=p[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var m=d.modrn(c).toString(e);n=(d=d.idivn(c)).isZero()?m+n:h[u-m.length]+m+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function m(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,l=s/67108864|0;n.words[0]=a;for(var u=1;u<r;u++){for(var c=l>>>26,d=67108863&l,h=Math.min(u,t.length-1),f=Math.max(0,u-e.length+1);f<=h;f++){var p=u-f|0;c+=(s=(i=0|e.words[p])*(o=0|t.words[f])+d)/67108864|0,d=67108863&s}n.words[u]=0|d,l=0|c}return 0!==l?n.words[u]=0|l:n.length--,n._strip()}o.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;e[n++]=255&s,n<e.length&&(e[n++]=s>>8&255),n<e.length&&(e[n++]=s>>16&255),6===o?(n<e.length&&(e[n++]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|r;e[n--]=255&s,n>=0&&(e[n--]=s>>8&255),n>=0&&(e[n--]=s>>16&255),6===o?(n>=0&&(e[n--]=s>>24&255),r=0,o=0):(r=s>>>24,o+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,s=0;s<r.length;s++)o=(t=(0|n.words[s])-(0|r.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<n.length;s++)o=(t=(0|n.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,n){var r,i,o,s=e.words,a=t.words,l=n.words,u=0,c=0|s[0],d=8191&c,h=c>>>13,f=0|s[1],p=8191&f,m=f>>>13,g=0|s[2],y=8191&g,v=g>>>13,b=0|s[3],w=8191&b,x=b>>>13,k=0|s[4],_=8191&k,S=k>>>13,E=0|s[5],C=8191&E,A=E>>>13,I=0|s[6],M=8191&I,j=I>>>13,T=0|s[7],B=8191&T,P=T>>>13,N=0|s[8],R=8191&N,L=N>>>13,O=0|s[9],D=8191&O,U=O>>>13,z=0|a[0],F=8191&z,H=z>>>13,W=0|a[1],$=8191&W,K=W>>>13,q=0|a[2],V=8191&q,G=q>>>13,J=0|a[3],Y=8191&J,Z=J>>>13,X=0|a[4],Q=8191&X,ee=X>>>13,te=0|a[5],ne=8191&te,re=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],le=8191&ae,ue=ae>>>13,ce=0|a[8],de=8191&ce,he=ce>>>13,fe=0|a[9],pe=8191&fe,me=fe>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(u+(r=Math.imul(d,F))|0)+((8191&(i=(i=Math.imul(d,H))+Math.imul(h,F)|0))<<13)|0;u=((o=Math.imul(h,H))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,F),i=(i=Math.imul(p,H))+Math.imul(m,F)|0,o=Math.imul(m,H);var ye=(u+(r=r+Math.imul(d,$)|0)|0)+((8191&(i=(i=i+Math.imul(d,K)|0)+Math.imul(h,$)|0))<<13)|0;u=((o=o+Math.imul(h,K)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(y,F),i=(i=Math.imul(y,H))+Math.imul(v,F)|0,o=Math.imul(v,H),r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(m,$)|0,o=o+Math.imul(m,K)|0;var ve=(u+(r=r+Math.imul(d,V)|0)|0)+((8191&(i=(i=i+Math.imul(d,G)|0)+Math.imul(h,V)|0))<<13)|0;u=((o=o+Math.imul(h,G)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(w,F),i=(i=Math.imul(w,H))+Math.imul(x,F)|0,o=Math.imul(x,H),r=r+Math.imul(y,$)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,$)|0,o=o+Math.imul(v,K)|0,r=r+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(m,V)|0,o=o+Math.imul(m,G)|0;var be=(u+(r=r+Math.imul(d,Y)|0)|0)+((8191&(i=(i=i+Math.imul(d,Z)|0)+Math.imul(h,Y)|0))<<13)|0;u=((o=o+Math.imul(h,Z)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(_,F),i=(i=Math.imul(_,H))+Math.imul(S,F)|0,o=Math.imul(S,H),r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(x,$)|0,o=o+Math.imul(x,K)|0,r=r+Math.imul(y,V)|0,i=(i=i+Math.imul(y,G)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,G)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,Y)|0,o=o+Math.imul(m,Z)|0;var we=(u+(r=r+Math.imul(d,Q)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(h,Q)|0))<<13)|0;u=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(C,F),i=(i=Math.imul(C,H))+Math.imul(A,F)|0,o=Math.imul(A,H),r=r+Math.imul(_,$)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,K)|0,r=r+Math.imul(w,V)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,G)|0,r=r+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,Z)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,Z)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,ee)|0;var xe=(u+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(h,ne)|0))<<13)|0;u=((o=o+Math.imul(h,re)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(M,F),i=(i=Math.imul(M,H))+Math.imul(j,F)|0,o=Math.imul(j,H),r=r+Math.imul(C,$)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(A,$)|0,o=o+Math.imul(A,K)|0,r=r+Math.imul(_,V)|0,i=(i=i+Math.imul(_,G)|0)+Math.imul(S,V)|0,o=o+Math.imul(S,G)|0,r=r+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,Z)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,Z)|0,r=r+Math.imul(y,Q)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(m,ne)|0,o=o+Math.imul(m,re)|0;var ke=(u+(r=r+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,se)|0)+Math.imul(h,oe)|0))<<13)|0;u=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(B,F),i=(i=Math.imul(B,H))+Math.imul(P,F)|0,o=Math.imul(P,H),r=r+Math.imul(M,$)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(j,$)|0,o=o+Math.imul(j,K)|0,r=r+Math.imul(C,V)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,G)|0,r=r+Math.imul(_,Y)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(S,Y)|0,o=o+Math.imul(S,Z)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(y,ne)|0,i=(i=i+Math.imul(y,re)|0)+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(m,oe)|0,o=o+Math.imul(m,se)|0;var _e=(u+(r=r+Math.imul(d,le)|0)|0)+((8191&(i=(i=i+Math.imul(d,ue)|0)+Math.imul(h,le)|0))<<13)|0;u=((o=o+Math.imul(h,ue)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(R,F),i=(i=Math.imul(R,H))+Math.imul(L,F)|0,o=Math.imul(L,H),r=r+Math.imul(B,$)|0,i=(i=i+Math.imul(B,K)|0)+Math.imul(P,$)|0,o=o+Math.imul(P,K)|0,r=r+Math.imul(M,V)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(j,V)|0,o=o+Math.imul(j,G)|0,r=r+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,Z)|0)+Math.imul(A,Y)|0,o=o+Math.imul(A,Z)|0,r=r+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(S,Q)|0,o=o+Math.imul(S,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,r=r+Math.imul(p,le)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(m,le)|0,o=o+Math.imul(m,ue)|0;var Se=(u+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,he)|0)+Math.imul(h,de)|0))<<13)|0;u=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(D,F),i=(i=Math.imul(D,H))+Math.imul(U,F)|0,o=Math.imul(U,H),r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(L,$)|0,o=o+Math.imul(L,K)|0,r=r+Math.imul(B,V)|0,i=(i=i+Math.imul(B,G)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,G)|0,r=r+Math.imul(M,Y)|0,i=(i=i+Math.imul(M,Z)|0)+Math.imul(j,Y)|0,o=o+Math.imul(j,Z)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,r=r+Math.imul(_,ne)|0,i=(i=i+Math.imul(_,re)|0)+Math.imul(S,ne)|0,o=o+Math.imul(S,re)|0,r=r+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,r=r+Math.imul(y,le)|0,i=(i=i+Math.imul(y,ue)|0)+Math.imul(v,le)|0,o=o+Math.imul(v,ue)|0,r=r+Math.imul(p,de)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(m,de)|0,o=o+Math.imul(m,he)|0;var Ee=(u+(r=r+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,me)|0)+Math.imul(h,pe)|0))<<13)|0;u=((o=o+Math.imul(h,me)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(D,$),i=(i=Math.imul(D,K))+Math.imul(U,$)|0,o=Math.imul(U,K),r=r+Math.imul(R,V)|0,i=(i=i+Math.imul(R,G)|0)+Math.imul(L,V)|0,o=o+Math.imul(L,G)|0,r=r+Math.imul(B,Y)|0,i=(i=i+Math.imul(B,Z)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,Z)|0,r=r+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,ee)|0,r=r+Math.imul(C,ne)|0,i=(i=i+Math.imul(C,re)|0)+Math.imul(A,ne)|0,o=o+Math.imul(A,re)|0,r=r+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,se)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,se)|0,r=r+Math.imul(w,le)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(x,le)|0,o=o+Math.imul(x,ue)|0,r=r+Math.imul(y,de)|0,i=(i=i+Math.imul(y,he)|0)+Math.imul(v,de)|0,o=o+Math.imul(v,he)|0;var Ce=(u+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,me)|0)+Math.imul(m,pe)|0))<<13)|0;u=((o=o+Math.imul(m,me)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(D,V),i=(i=Math.imul(D,G))+Math.imul(U,V)|0,o=Math.imul(U,G),r=r+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Z)|0)+Math.imul(L,Y)|0,o=o+Math.imul(L,Z)|0,r=r+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,r=r+Math.imul(M,ne)|0,i=(i=i+Math.imul(M,re)|0)+Math.imul(j,ne)|0,o=o+Math.imul(j,re)|0,r=r+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,r=r+Math.imul(_,le)|0,i=(i=i+Math.imul(_,ue)|0)+Math.imul(S,le)|0,o=o+Math.imul(S,ue)|0,r=r+Math.imul(w,de)|0,i=(i=i+Math.imul(w,he)|0)+Math.imul(x,de)|0,o=o+Math.imul(x,he)|0;var Ae=(u+(r=r+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,me)|0)+Math.imul(v,pe)|0))<<13)|0;u=((o=o+Math.imul(v,me)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(D,Y),i=(i=Math.imul(D,Z))+Math.imul(U,Y)|0,o=Math.imul(U,Z),r=r+Math.imul(R,Q)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(L,Q)|0,o=o+Math.imul(L,ee)|0,r=r+Math.imul(B,ne)|0,i=(i=i+Math.imul(B,re)|0)+Math.imul(P,ne)|0,o=o+Math.imul(P,re)|0,r=r+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(j,oe)|0,o=o+Math.imul(j,se)|0,r=r+Math.imul(C,le)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(A,le)|0,o=o+Math.imul(A,ue)|0,r=r+Math.imul(_,de)|0,i=(i=i+Math.imul(_,he)|0)+Math.imul(S,de)|0,o=o+Math.imul(S,he)|0;var Ie=(u+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,me)|0)+Math.imul(x,pe)|0))<<13)|0;u=((o=o+Math.imul(x,me)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(D,Q),i=(i=Math.imul(D,ee))+Math.imul(U,Q)|0,o=Math.imul(U,ee),r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(L,ne)|0,o=o+Math.imul(L,re)|0,r=r+Math.imul(B,oe)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,r=r+Math.imul(M,le)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(j,le)|0,o=o+Math.imul(j,ue)|0,r=r+Math.imul(C,de)|0,i=(i=i+Math.imul(C,he)|0)+Math.imul(A,de)|0,o=o+Math.imul(A,he)|0;var Me=(u+(r=r+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,me)|0)+Math.imul(S,pe)|0))<<13)|0;u=((o=o+Math.imul(S,me)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,r=Math.imul(D,ne),i=(i=Math.imul(D,re))+Math.imul(U,ne)|0,o=Math.imul(U,re),r=r+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(L,oe)|0,o=o+Math.imul(L,se)|0,r=r+Math.imul(B,le)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(P,le)|0,o=o+Math.imul(P,ue)|0,r=r+Math.imul(M,de)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(j,de)|0,o=o+Math.imul(j,he)|0;var je=(u+(r=r+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,me)|0)+Math.imul(A,pe)|0))<<13)|0;u=((o=o+Math.imul(A,me)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,r=Math.imul(D,oe),i=(i=Math.imul(D,se))+Math.imul(U,oe)|0,o=Math.imul(U,se),r=r+Math.imul(R,le)|0,i=(i=i+Math.imul(R,ue)|0)+Math.imul(L,le)|0,o=o+Math.imul(L,ue)|0,r=r+Math.imul(B,de)|0,i=(i=i+Math.imul(B,he)|0)+Math.imul(P,de)|0,o=o+Math.imul(P,he)|0;var Te=(u+(r=r+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,me)|0)+Math.imul(j,pe)|0))<<13)|0;u=((o=o+Math.imul(j,me)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(D,le),i=(i=Math.imul(D,ue))+Math.imul(U,le)|0,o=Math.imul(U,ue),r=r+Math.imul(R,de)|0,i=(i=i+Math.imul(R,he)|0)+Math.imul(L,de)|0,o=o+Math.imul(L,he)|0;var Be=(u+(r=r+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,me)|0)+Math.imul(P,pe)|0))<<13)|0;u=((o=o+Math.imul(P,me)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,r=Math.imul(D,de),i=(i=Math.imul(D,he))+Math.imul(U,de)|0,o=Math.imul(U,he);var Pe=(u+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,me)|0)+Math.imul(L,pe)|0))<<13)|0;u=((o=o+Math.imul(L,me)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863;var Ne=(u+(r=Math.imul(D,pe))|0)+((8191&(i=(i=Math.imul(D,me))+Math.imul(U,pe)|0))<<13)|0;return u=((o=Math.imul(U,me))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,l[0]=ge,l[1]=ye,l[2]=ve,l[3]=be,l[4]=we,l[5]=xe,l[6]=ke,l[7]=_e,l[8]=Se,l[9]=Ee,l[10]=Ce,l[11]=Ae,l[12]=Ie,l[13]=Me,l[14]=je,l[15]=Te,l[16]=Be,l[17]=Pe,l[18]=Ne,0!==u&&(l[19]=u,n.length++),n};function y(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var s=i;i=0;for(var a=67108863&r,l=Math.min(o,t.length-1),u=Math.max(0,o-e.length+1);u<=l;u++){var c=o-u,d=(0|e.words[c])*(0|t.words[u]),h=67108863&d;a=67108863&(h=h+a|0),i+=(s=(s=s+(d/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}n.words[o]=a,r=s,s=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function v(e,t,n){return y(e,t,n)}function b(e,t){this.x=e,this.y=t}Math.imul||(g=m),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):n<63?m(this,e,t):n<1024?y(this,e,t):v(this,e,t)},b.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},b.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},b.prototype.permute=function(e,t,n,r,i,o){for(var s=0;s<o;s++)r[s]=t[e[s]],i[s]=n[e[s]]},b.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,l=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var d=l,h=u,f=0;f<s;f++){var p=n[c+f],m=r[c+f],g=n[c+f+s],y=r[c+f+s],v=d*g-h*y;y=d*y+h*g,g=v,n[c+f]=p+g,r[c+f]=m+y,n[c+f+s]=p-g,r[c+f+s]=m-y,f!==a&&(v=l*d-u*h,h=l*h+u*d,d=v)}},b.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},b.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},b.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},b.prototype.convert13b=function(e,t,n,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],n[2*s]=8191&o,o>>>=13,n[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===o),r(0===(-8192&o))},b.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},b.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),s=new Array(r),a=new Array(r),l=new Array(r),u=new Array(r),c=new Array(r),d=new Array(r),h=n.words;h.length=r,this.convert13b(e.words,e.length,s,r),this.convert13b(t.words,t.length,u,r),this.transform(s,o,a,l,r,i),this.transform(u,o,c,d,r,i);for(var f=0;f<r;f++){var p=a[f]*c[f]-l[f]*d[f];l[f]=a[f]*d[f]+l[f]*c[f],a[f]=p}return this.conjugate(a,l,r),this.transform(a,l,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),v(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"===typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=s>>>26,this.words[i]=67108863&s}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,l=(0|this.words[t])-a<<n;this.words[t]=l|s,s=a>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,l=n;if(i-=s,i=Math.max(0,i),l){for(var u=0;u<s;u++)l.words[u]=this.words[u];l.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var d=0|this.words[u];this.words[u]=c<<26-o|d>>>o,c=d&a}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,s=e.length+n;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+a;var l=(0|e.words[i])*t;a=((o-=67108863&l)>>26)-(l/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,s=0|i.words[i.length-1];0!==(n=26-this._countBits(s))&&(i=i.ushln(n),r.iushln(n),s=0|i.words[i.length-1]);var a,l=r.length-i.length;if("mod"!==t){(a=new o(null)).length=l+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var c=r.clone()._ishlnsubmul(i,1,l);0===c.negative&&(r=c,a&&(a.words[l]=1));for(var d=l-1;d>=0;d--){var h=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(h=Math.min(h/s|0,67108863),r._ishlnsubmul(i,h,d);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);a&&(a.words[d]=h)}return a&&a._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:a||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),l=new o(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),d=t.clone();!t.isZero();){for(var h=0,f=1;0===(t.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(c),s.isub(d)),i.iushrn(1),s.iushrn(1);for(var p=0,m=1;0===(n.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(c),l.isub(d)),a.iushrn(1),l.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(a),s.isub(l)):(n.isub(t),a.isub(i),l.isub(s))}return{a:a,b:l,gcd:n.iushln(u)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),l=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,c=1;0===(t.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(l),s.iushrn(1);for(var d=0,h=1;0===(n.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(n.iushrn(d);d-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(a)):(n.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,s=n;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new C(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function x(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function k(){x.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){x.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){x.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){x.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function C(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){C.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}x.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},x.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},x.prototype.split=function(e,t){e.iushrn(this.n,0,t)},x.prototype.imulK=function(e){return e.imul(this.k)},i(k,x),k.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&n)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},k.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,x),i(S,x),i(E,x),E.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new k;else if("p224"===e)t=new _;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return w[e]=t,t},C.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},C.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},C.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},C.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},C.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},C.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},C.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},C.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},C.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},C.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},C.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},C.prototype.isqr=function(e){return this.imul(e,e.clone())},C.prototype.sqr=function(e){return this.mul(e,e)},C.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);r(!i.isZero());var a=new o(1).toRed(this),l=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new o(2*c*c).toRed(this);0!==this.pow(c,u).cmp(l);)c.redIAdd(l);for(var d=this.pow(c,i),h=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),p=s;0!==f.cmp(a);){for(var m=f,g=0;0!==m.cmp(a);g++)m=m.redSqr();r(g<p);var y=this.pow(d,new o(1).iushln(p-g-1));h=h.redMul(y),d=y.redSqr(),f=f.redMul(d),p=g}return h},C.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},C.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],s=0,a=0,l=t.bitLength()%26;for(0===l&&(l=26),r=t.length-1;r>=0;r--){for(var u=t.words[r],c=l-1;c>=0;c--){var d=u>>c&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==s?(s<<=1,s|=d,(4===++a||0===r&&0===c)&&(i=this.mul(i,n[s]),a=0,s=0)):a=0}l=26}return i},C.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},C.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,C),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},3333:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const l=a(n(4166)),u=a(n(3746)),c=s(n(6261)),d=new("function"!==typeof TextDecoder?c.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=Buffer.from(e,"utf8")),u.default.encode(Buffer.from(e))},t.baseDecode=function(e){return Buffer.from(u.default.decode(e))};const h=1024;class f extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=f;class p{constructor(){this.buf=Buffer.alloc(h),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(h)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new l.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(h)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}function m(e,t,n){const r=n.value;n.value=function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(this,t)}catch(i){if(i instanceof RangeError){const e=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new f("Reached the end of buffer when deserializing")}throw i}}}t.BinaryWriter=p;class g{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new l.default(e,"le")}readU128(){const e=this.readBuffer(16);return new l.default(e,"le")}readU256(){const e=this.readBuffer(32);return new l.default(e,"le")}readU512(){const e=this.readBuffer(64);return new l.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new f(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return d.decode(t)}catch(n){throw new f(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let r=0;r<t;++r)n.push(e());return n}}function y(e){return e.charAt(0).toUpperCase()+e.slice(1)}function v(e,t,n,r,i){try{if("string"===typeof r)i[`write${y(r)}`](n);else if(r instanceof Array)if("number"===typeof r[0]){if(n.length!==r[0])throw new f(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(2===r.length&&"number"===typeof r[1]){if(n.length!==r[1])throw new f(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let t=0;t<r[1];t++)v(e,null,n[t],r[0],i)}else i.writeArray(n,(n=>{v(e,t,n,r[0],i)}));else if(void 0!==r.kind)switch(r.kind){case"option":null===n||void 0===n?i.writeU8(0):(i.writeU8(1),v(e,t,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach(((n,o)=>{v(e,t,o,r.key,i),v(e,t,n,r.value,i)}));break;default:throw new f(`FieldType ${r} unrecognized`)}else b(e,n,i)}catch(o){throw o instanceof f&&o.addToFieldPath(t),o}}function b(e,t,n){if("function"===typeof t.borshSerialize)return void t.borshSerialize(n);const r=e.get(t.constructor);if(!r)throw new f(`Class ${t.constructor.name} is missing in schema`);if("struct"===r.kind)r.fields.map((r=>{let[i,o]=r;v(e,i,t[i],o,n)}));else{if("enum"!==r.kind)throw new f(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`);{const i=t[r.field];for(let o=0;o<r.values.length;++o){const[s,a]=r.values[o];if(s===i){n.writeU8(o),v(e,s,t[s],a,n);break}}}}}function w(e,t,n,r){try{if("string"===typeof n)return r[`read${y(n)}`]();if(n instanceof Array){if("number"===typeof n[0])return r.readFixedArray(n[0]);if("number"===typeof n[1]){const t=[];for(let i=0;i<n[1];i++)t.push(w(e,null,n[0],r));return t}return r.readArray((()=>w(e,t,n[0],r)))}if("option"===n.kind){return r.readU8()?w(e,t,n.type,r):void 0}if("map"===n.kind){let i=new Map;const o=r.readU32();for(let s=0;s<o;s++){const o=w(e,t,n.key,r),s=w(e,t,n.value,r);i.set(o,s)}return i}return x(e,n,r)}catch(i){throw i instanceof f&&i.addToFieldPath(t),i}}function x(e,t,n){if("function"===typeof t.borshDeserialize)return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new f(`Class ${t.name} is missing in schema`);if("struct"===r.kind){const r={};for(const[i,o]of e.get(t).fields)r[i]=w(e,i,o,n);return new t(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new f(`Enum index: ${i} is out of range`);const[o,s]=r.values[i];return new t({[o]:w(e,o,s,n)})}throw new f(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}o([m],g.prototype,"readU8",null),o([m],g.prototype,"readU16",null),o([m],g.prototype,"readU32",null),o([m],g.prototype,"readU64",null),o([m],g.prototype,"readU128",null),o([m],g.prototype,"readU256",null),o([m],g.prototype,"readU512",null),o([m],g.prototype,"readString",null),o([m],g.prototype,"readFixedArray",null),o([m],g.prototype,"readArray",null),t.BinaryReader=g,t.serialize=function(e,t){const n=new(arguments.length>2&&void 0!==arguments[2]?arguments[2]:p);return b(e,t,n),n.toArray()},t.deserialize=function(e,t,n){const r=new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:g)(n),i=x(e,t,r);if(r.offset<n.length)throw new f(`Unexpected ${n.length-r.offset} bytes after deserialized data`);return i},t.deserializeUnchecked=function(e,t,n){return x(e,t,new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:g)(n))}},3193:(e,t,n)=>{"use strict";var r=n(5734).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,l=e.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,o=0;e[n]===l;)i++,n++;for(var s=(e.length-n)*u+1>>>0,c=new Uint8Array(s);n<e.length;){var d=t[e.charCodeAt(n)];if(255===d)return;for(var h=0,f=s-1;(0!==d||h<o)&&-1!==f;f--,h++)d+=a*c[f]>>>0,c[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=h,n++}for(var p=s-o;p!==s&&0===c[p];)p++;var m=r.allocUnsafe(i+(s-p));m.fill(0,0,i);for(var g=i;p!==s;)m[g++]=c[p++];return m}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,n++;for(var u=(s-o)*c+1>>>0,d=new Uint8Array(u);o!==s;){for(var h=t[o],f=0,p=u-1;(0!==h||f<i)&&-1!==p;p--,f++)h+=256*d[p]>>>0,d[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=f,o++}for(var m=u-i;m!==u&&0===d[m];)m++;for(var g=l.repeat(n);m<u;++m)g+=e.charAt(d[m]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},3746:(e,t,n)=>{var r=n(3193);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},918:(e,t,n)=>{"use strict";const r=n(2470),i=n(545),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return u(e,t,n)}function u(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=a(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(J(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(J(e,ArrayBuffer)||e&&J(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(J(e,SharedArrayBuffer)||e&&J(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const i=function(e){if(l.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||Y(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||J(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(e).length;default:if(i)return r?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return M(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){let o,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(u(e,o)===u(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(u(e,o+r)!==u(t,r)){n=!1;break}if(n)return o}return-1}function w(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(Y(r))return s;e[n+s]=r}return s}function x(e,t,n,r){return G(q(t,e.length-n),e,n,r)}function k(e,t,n,r){return G(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function _(e,t,n,r){return G(V(t),e,n,r)}function S(e,t,n,r){return G(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,l;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128===(192&n)&&(l=(31&t)<<6|63&n,l>127&&(o=l));break;case 3:n=e[i+1],r=e[i+2],128===(192&n)&&128===(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},l.allocUnsafe=function(e){return d(e)},l.allocUnsafeSlow=function(e){return d(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(J(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),J(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(J(t,Uint8Array))i+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(J(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),u=this.slice(r,i),c=e.slice(t,n);for(let l=0;l<a;++l)if(u[l]!==c[l]){o=u[l],s=c[l];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return k(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const A=4096;function I(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function M(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function j(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=t;o<n;++o)i+=Z[e[o]];return i}function T(e,t,n){const r=e.slice(t,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function B(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,i){H(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function R(e,t,n,r,i){H(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function O(e,t,n,r,o){return t=+t,n>>>=0,o||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return t=+t,n>>>=0,o||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=X((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=X((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=X((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=X((function(e){W(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){P(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){P(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=X((function(e){return N(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=X((function(e){return R(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=X((function(e){return N(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=X((function(e){return R(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return O(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return O(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=l.isBuffer(e)?e:l.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const U={};function z(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function F(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function H(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new U.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){W(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||$(t,e.length-(n+1))}(r,i,o)}function W(e,t){if("number"!==typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function $(e,t,n){if(Math.floor(e)!==e)throw W(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),z("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),z("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=F(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=F(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function q(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function G(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function J(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!==e}const Z=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function X(e){return"undefined"===typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},5542:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib.BlockCipher,r=t.algo,i=[],o=[],s=[],a=[],l=[],u=[],c=[],d=[],h=[],f=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,o[p]=n;var m=e[n],g=e[m],y=e[g],v=257*e[p]^16843008*p;s[n]=v<<24|v>>>8,a[n]=v<<16|v>>>16,l[n]=v<<8|v>>>24,u[n]=v,v=16843009*y^65537*g^257*m^16843008*n,c[p]=v<<24|v>>>8,d[p]=v<<16|v>>>16,h[p]=v<<8|v>>>24,f[p]=v,n?(n=m^e[e[e[y^m]]],r^=e[e[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=r.AES=n.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],s=0;s<r;s++)s<n?o[s]=t[s]:(u=o[s-1],s%n?n>6&&s%n==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=i[(u=u<<8|u>>>24)>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=p[s/n|0]<<24),o[s]=o[s-n]^u);for(var a=this._invKeySchedule=[],l=0;l<r;l++){if(s=r-l,l%4)var u=o[s];else u=o[s-4];a[l]=l<4||s<=4?u:c[i[u>>>24]]^d[i[u>>>16&255]]^h[i[u>>>8&255]]^f[i[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,l,u,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,d,h,f,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,s,a){for(var l=this._nRounds,u=e[t]^n[0],c=e[t+1]^n[1],d=e[t+2]^n[2],h=e[t+3]^n[3],f=4,p=1;p<l;p++){var m=r[u>>>24]^i[c>>>16&255]^o[d>>>8&255]^s[255&h]^n[f++],g=r[c>>>24]^i[d>>>16&255]^o[h>>>8&255]^s[255&u]^n[f++],y=r[d>>>24]^i[h>>>16&255]^o[u>>>8&255]^s[255&c]^n[f++],v=r[h>>>24]^i[u>>>16&255]^o[c>>>8&255]^s[255&d]^n[f++];u=m,c=g,d=y,h=v}m=(a[u>>>24]<<24|a[c>>>16&255]<<16|a[d>>>8&255]<<8|a[255&h])^n[f++],g=(a[c>>>24]<<24|a[d>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^n[f++],y=(a[d>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&c])^n[f++],v=(a[h>>>24]<<24|a[u>>>16&255]<<16|a[c>>>8&255]<<8|a[255&d])^n[f++],e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=v},keySize:8});t.AES=n._createHelper(m)}(),e.AES}(n(8443),n(7492),n(6707),n(254),n(6018))},559:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib.BlockCipher,r=t.algo;const i=16,o=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],s=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var a={pbox:[],sbox:[]};function l(e,t){let n=t>>24&255,r=t>>16&255,i=t>>8&255,o=255&t,s=e.sbox[0][n]+e.sbox[1][r];return s^=e.sbox[2][i],s+=e.sbox[3][o],s}function u(e,t,n){let r,o=t,s=n;for(let a=0;a<i;++a)o^=e.pbox[a],s=l(e,o)^s,r=o,o=s,s=r;return r=o,o=s,s=r,s^=e.pbox[i],o^=e.pbox[i+1],{left:o,right:s}}function c(e,t,n){let r,o=t,s=n;for(let a=i+1;a>1;--a)o^=e.pbox[a],s=l(e,o)^s,r=o,o=s,s=r;return r=o,o=s,s=r,s^=e.pbox[1],o^=e.pbox[0],{left:o,right:s}}function d(e,t,n){for(let i=0;i<4;i++){e.sbox[i]=[];for(let t=0;t<256;t++)e.sbox[i][t]=s[i][t]}let r=0;for(let s=0;s<i+2;s++)e.pbox[s]=o[s]^t[r],r++,r>=n&&(r=0);let a=0,l=0,c=0;for(let o=0;o<i+2;o+=2)c=u(e,a,l),a=c.left,l=c.right,e.pbox[o]=a,e.pbox[o+1]=l;for(let i=0;i<4;i++)for(let t=0;t<256;t+=2)c=u(e,a,l),a=c.left,l=c.right,e.sbox[i][t]=a,e.sbox[i][t+1]=l;return!0}var h=r.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4;d(a,t,n)}},encryptBlock:function(e,t){var n=u(a,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},decryptBlock:function(e,t){var n=c(a,e[t],e[t+1]);e[t]=n.left,e[t+1]=n.right},blockSize:2,keySize:4,ivSize:2});t.Blowfish=n._createHelper(h)}(),e.Blowfish}(n(8443),n(7492),n(6707),n(254),n(6018))},6018:function(e,t,n){e.exports=function(e){e.lib.Cipher||function(t){var n=e,r=n.lib,i=r.Base,o=r.WordArray,s=r.BufferedBlockAlgorithm,a=n.enc,l=(a.Utf8,a.Base64),u=n.algo.EvpKDF,c=r.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?b:y}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),d=(r.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),n.mode={}),h=r.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),f=d.CBC=function(){var e=h.extend();function n(e,n,r){var i,o=this._iv;o?(i=o,this._iv=t):i=this._prevBlock;for(var s=0;s<r;s++)e[n+s]^=i[s]}return e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),e.Decryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=e.slice(t,t+i);r.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=o}}),e}(),p=(n.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,s=[],a=0;a<r;a+=4)s.push(i);var l=o.create(s,r);e.concat(l)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},m=(r.BlockCipher=c.extend({cfg:c.cfg.extend({mode:f,padding:p}),reset:function(){var e;c.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),r.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}})),g=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?o.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(e){var t,n=l.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=o.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),m.create({ciphertext:n,salt:t})}},y=r.SerializableCipher=i.extend({cfg:i.extend({format:g}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),s=i.cfg;return m.create({ciphertext:o,key:n,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),v=(n.kdf={}).OpenSSL={execute:function(e,t,n,r,i){if(r||(r=o.random(8)),i)s=u.create({keySize:t+n,hasher:i}).compute(e,r);else var s=u.create({keySize:t+n}).compute(e,r);var a=o.create(s.words.slice(t),4*n);return s.sigBytes=4*t,m.create({key:s,iv:a,salt:r})}},b=r.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:v}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize,r.salt,r.hasher);r.iv=i.iv;var o=y.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt,r.hasher);return r.iv=i.iv,y.decrypt.call(this,e,t,i.key,r)}})}()}(n(8443),n(254))},8443:function(e,t,n){e.exports=function(){var e=e||function(e,t){var r;if("undefined"!==typeof window&&window.crypto&&(r=window.crypto),"undefined"!==typeof self&&self.crypto&&(r=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!==typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!==typeof n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(2480)}catch(g){}var i=function(){if(r){if("function"===typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"===typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),s={},a=s.lib={},l=a.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=a.WordArray=l.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var s=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=s<<24-(r+o)%4*8}else for(var a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new u.init(t,e)}}),c=s.enc={},d=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},h=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},f=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},p=a.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,s=this.blockSize,a=o/(4*s),l=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,c=e.min(4*l,o);if(l){for(var d=0;d<l;d+=s)this._doProcessBlock(i,d);n=i.splice(0,l),r.sigBytes-=c}return new u.init(n,c)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(a.Hasher=p.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),s.algo={});return s}(Math);return e}()},7492:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib.WordArray;function r(e,t,r){for(var i=[],o=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return n.create(i,o)}t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<n;a++)i.push(r.charAt(s>>>6*(3-a)&63));var l=r.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<n.length;o++)i[n.charCodeAt(o)]=o}var s=n.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return r(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64}(n(8443))},3709:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib.WordArray;function r(e,t,r){for(var i=[],o=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=a<<24-o%4*8,o++}return n.create(i,o)}t.enc.Base64url={stringify:function(e,t){void 0===t&&(t=!0);var n=e.words,r=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var o=[],s=0;s<r;s+=3)for(var a=(n[s>>>2]>>>24-s%4*8&255)<<16|(n[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|n[s+2>>>2]>>>24-(s+2)%4*8&255,l=0;l<4&&s+.75*l<r;l++)o.push(i.charAt(a>>>6*(3-l)&63));var u=i.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e,t){void 0===t&&(t=!0);var n=e.length,i=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var s=0;s<i.length;s++)o[i.charCodeAt(s)]=s}var a=i.charAt(64);if(a){var l=e.indexOf(a);-1!==l&&(n=l)}return r(e,n,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),e.enc.Base64url}(n(8443))},7519:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib.WordArray,r=t.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}r.Utf16=r.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return n.create(r,2*t)}},r.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var s=i(t[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){for(var t=e.length,r=[],o=0;o<t;o++)r[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return n.create(r,2*t)}}}(),e.enc.Utf16}(n(8443))},254:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,o=t.algo,s=o.MD5,a=o.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,o=r.hasher.create(),s=i.create(),a=s.words,l=r.keySize,u=r.iterations;a.length<l;){n&&o.update(n),n=o.update(e).finalize(t),o.reset();for(var c=1;c<u;c++)n=o.finalize(n),o.reset();s.concat(n)}return s.sigBytes=4*l,s}});t.EvpKDF=function(e,t,n){return a.create(n).compute(e,t)}}(),e.EvpKDF}(n(8443),n(3181),n(8088))},9477:function(e,t,n){e.exports=function(e){return function(t){var n=e,r=n.lib.CipherParams,i=n.enc.Hex;n.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return r.create({ciphertext:t})}}}(),e.format.Hex}(n(8443),n(6018))},8088:function(e,t,n){e.exports=function(e){!function(){var t=e,n=t.lib.Base,r=t.enc.Utf8;t.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,l=s.words,u=0;u<n;u++)a[u]^=1549556828,l[u]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}()}(n(8443))},2984:function(e,t,n){e.exports=function(e){return e}(n(8443),n(2771),n(5716),n(7519),n(7492),n(3709),n(6707),n(3181),n(5242),n(2038),n(1509),n(6579),n(5060),n(4058),n(8088),n(6657),n(254),n(6018),n(3251),n(8449),n(1637),n(7355),n(701),n(1903),n(8916),n(2360),n(8181),n(3751),n(9477),n(5542),n(8002),n(6056),n(957),n(8212),n(559))},5716:function(e,t,n){e.exports=function(e){return function(){if("function"==typeof ArrayBuffer){var t=e.lib.WordArray,n=t.init,r=t.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,r=[],i=0;i<t;i++)r[i>>>2]|=e[i]<<24-i%4*8;n.call(this,r,t)}else n.apply(this,arguments)};r.prototype=t}}(),e.lib.WordArray}(n(8443))},6707:function(e,t,n){e.exports=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[];!function(){for(var e=0;e<64;e++)a[e]=4294967296*t.abs(t.sin(e+1))|0}();var l=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=e[t+0],l=e[t+1],f=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],v=e[t+7],b=e[t+8],w=e[t+9],x=e[t+10],k=e[t+11],_=e[t+12],S=e[t+13],E=e[t+14],C=e[t+15],A=o[0],I=o[1],M=o[2],j=o[3];A=u(A,I,M,j,s,7,a[0]),j=u(j,A,I,M,l,12,a[1]),M=u(M,j,A,I,f,17,a[2]),I=u(I,M,j,A,p,22,a[3]),A=u(A,I,M,j,m,7,a[4]),j=u(j,A,I,M,g,12,a[5]),M=u(M,j,A,I,y,17,a[6]),I=u(I,M,j,A,v,22,a[7]),A=u(A,I,M,j,b,7,a[8]),j=u(j,A,I,M,w,12,a[9]),M=u(M,j,A,I,x,17,a[10]),I=u(I,M,j,A,k,22,a[11]),A=u(A,I,M,j,_,7,a[12]),j=u(j,A,I,M,S,12,a[13]),M=u(M,j,A,I,E,17,a[14]),A=c(A,I=u(I,M,j,A,C,22,a[15]),M,j,l,5,a[16]),j=c(j,A,I,M,y,9,a[17]),M=c(M,j,A,I,k,14,a[18]),I=c(I,M,j,A,s,20,a[19]),A=c(A,I,M,j,g,5,a[20]),j=c(j,A,I,M,x,9,a[21]),M=c(M,j,A,I,C,14,a[22]),I=c(I,M,j,A,m,20,a[23]),A=c(A,I,M,j,w,5,a[24]),j=c(j,A,I,M,E,9,a[25]),M=c(M,j,A,I,p,14,a[26]),I=c(I,M,j,A,b,20,a[27]),A=c(A,I,M,j,S,5,a[28]),j=c(j,A,I,M,f,9,a[29]),M=c(M,j,A,I,v,14,a[30]),A=d(A,I=c(I,M,j,A,_,20,a[31]),M,j,g,4,a[32]),j=d(j,A,I,M,b,11,a[33]),M=d(M,j,A,I,k,16,a[34]),I=d(I,M,j,A,E,23,a[35]),A=d(A,I,M,j,l,4,a[36]),j=d(j,A,I,M,m,11,a[37]),M=d(M,j,A,I,v,16,a[38]),I=d(I,M,j,A,x,23,a[39]),A=d(A,I,M,j,S,4,a[40]),j=d(j,A,I,M,s,11,a[41]),M=d(M,j,A,I,p,16,a[42]),I=d(I,M,j,A,y,23,a[43]),A=d(A,I,M,j,w,4,a[44]),j=d(j,A,I,M,_,11,a[45]),M=d(M,j,A,I,C,16,a[46]),A=h(A,I=d(I,M,j,A,f,23,a[47]),M,j,s,6,a[48]),j=h(j,A,I,M,v,10,a[49]),M=h(M,j,A,I,E,15,a[50]),I=h(I,M,j,A,g,21,a[51]),A=h(A,I,M,j,_,6,a[52]),j=h(j,A,I,M,p,10,a[53]),M=h(M,j,A,I,x,15,a[54]),I=h(I,M,j,A,l,21,a[55]),A=h(A,I,M,j,b,6,a[56]),j=h(j,A,I,M,C,10,a[57]),M=h(M,j,A,I,y,15,a[58]),I=h(I,M,j,A,S,21,a[59]),A=h(A,I,M,j,m,6,a[60]),j=h(j,A,I,M,k,10,a[61]),M=h(M,j,A,I,f,15,a[62]),I=h(I,M,j,A,w,21,a[63]),o[0]=o[0]+A|0,o[1]=o[1]+I|0,o[2]=o[2]+M|0,o[3]=o[3]+j|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),s=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,l=a.words,u=0;u<4;u++){var c=l[u];l[u]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,i,o,s){var a=e+(t&n|~t&r)+i+s;return(a<<o|a>>>32-o)+t}function c(e,t,n,r,i,o,s){var a=e+(t&r|n&~r)+i+s;return(a<<o|a>>>32-o)+t}function d(e,t,n,r,i,o,s){var a=e+(t^n^r)+i+s;return(a<<o|a>>>32-o)+t}function h(e,t,n,r,i,o,s){var a=e+(n^(t|~r))+i+s;return(a<<o|a>>>32-o)+t}n.MD5=o._createHelper(l),n.HmacMD5=o._createHmacHelper(l)}(Math),e.MD5}(n(8443))},3251:function(e,t,n){e.exports=function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();function n(e,t,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var s=0;s<n;s++)e[t+s]^=i[s]}return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i,r),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=e.slice(t,t+i);n.call(this,e,t,i,r),this._prevBlock=o}}),t}(),e.mode.CFB}(n(8443),n(6018))},1637:function(e,t,n){e.exports=function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function n(e){if(255===(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}function r(e){return 0===(e[0]=n(e[0]))&&(e[1]=n(e[1])),e}var i=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),r(s);var a=s.slice(0);n.encryptBlock(a,0);for(var l=0;l<i;l++)e[t+l]^=a[l]}});return t.Decryptor=i,t}(),e.mode.CTRGladman}(n(8443),n(6018))},8449:function(e,t,n){e.exports=function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);n.encryptBlock(s,0),o[r-1]=o[r-1]+1|0;for(var a=0;a<r;a++)e[t+a]^=s[a]}});return t.Decryptor=n,t}(),e.mode.CTR}(n(8443),n(6018))},701:function(e,t,n){e.exports=function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.mode.ECB}(n(8443),n(6018))},7355:function(e,t,n){e.exports=function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var s=0;s<r;s++)e[t+s]^=o[s]}});return t.Decryptor=n,t}(),e.mode.OFB}(n(8443),n(6018))},1903:function(e,t,n){e.exports=function(e){return e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,o=n+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Ansix923}(n(8443),n(6018))},8916:function(e,t,n){e.exports=function(e){return e.pad.Iso10126={pad:function(t,n){var r=4*n,i=r-t.sigBytes%r;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.pad.Iso10126}(n(8443),n(6018))},2360:function(e,t,n){e.exports=function(e){return e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971}(n(8443),n(6018))},3751:function(e,t,n){e.exports=function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding}(n(8443),n(6018))},8181:function(e,t,n){e.exports=function(e){return e.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},e.pad.ZeroPadding}(n(8443),n(6018))},6657:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,o=t.algo,s=o.SHA256,a=o.HMAC,l=o.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:s,iterations:25e4}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=a.create(n.hasher,e),o=i.create(),s=i.create([1]),l=o.words,u=s.words,c=n.keySize,d=n.iterations;l.length<c;){var h=r.update(t).finalize(s);r.reset();for(var f=h.words,p=f.length,m=h,g=1;g<d;g++){m=r.finalize(m),r.reset();for(var y=m.words,v=0;v<p;v++)f[v]^=y[v]}o.concat(h),u[0]++}return o.sigBytes=4*c,o}});t.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)}}(),e.PBKDF2}(n(8443),n(5242),n(8088))},8212:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=[],o=[],s=[],a=r.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)l.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,s=o[0],a=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=u>>>16|4294901760&c,h=c<<16|65535&u;for(r[0]^=u,r[1]^=d,r[2]^=c,r[3]^=h,r[4]^=u,r[5]^=d,r[6]^=c,r[7]^=h,i=0;i<4;i++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,a=r>>>16,l=((i*i>>>17)+i*a>>>15)+a*a,u=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=l^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.RabbitLegacy=n._createHelper(a)}(),e.RabbitLegacy}(n(8443),n(7492),n(6707),n(254),n(6018))},957:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=[],o=[],s=[],a=r.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)l.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var o=t.words,s=o[0],a=o[1],u=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),c=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),d=u>>>16|4294901760&c,h=c<<16|65535&u;for(i[0]^=u,i[1]^=d,i[2]^=c,i[3]^=h,i[4]^=u,i[5]^=d,i[6]^=c,i[7]^=h,n=0;n<4;n++)l.call(this)}},_doProcessBlock:function(e,t){var n=this._X;l.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function l(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,a=r>>>16,l=((i*i>>>17)+i*a>>>15)+a*a,u=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=l^u}e[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,e[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,e[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,e[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,e[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,e[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,e[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,e[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}t.Rabbit=n._createHelper(a)}(),e.Rabbit}(n(8443),n(7492),n(6707),n(254),n(6018))},6056:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib.StreamCipher,r=t.algo,i=r.RC4=n.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var s=i%n,a=t[s>>>2]>>>24-s%4*8&255;o=(o+r[i]+a)%256;var l=r[i];r[i]=r[o],r[o]=l}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}t.RC4=n._createHelper(i);var s=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});t.RC4Drop=n._createHelper(s)}(),e.RC4}(n(8443),n(7492),n(6707),n(254),n(6018))},4058:function(e,t,n){e.exports=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),c=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),f=s.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,s,f,w,x,k,_,S,E,C,A,I=this._hash.words,M=d.words,j=h.words,T=a.words,B=l.words,P=u.words,N=c.words;for(k=o=I[0],_=s=I[1],S=f=I[2],E=w=I[3],C=x=I[4],n=0;n<80;n+=1)A=o+e[t+T[n]]|0,A+=n<16?p(s,f,w)+M[0]:n<32?m(s,f,w)+M[1]:n<48?g(s,f,w)+M[2]:n<64?y(s,f,w)+M[3]:v(s,f,w)+M[4],A=(A=b(A|=0,P[n]))+x|0,o=x,x=w,w=b(f,10),f=s,s=A,A=k+e[t+B[n]]|0,A+=n<16?v(_,S,E)+j[0]:n<32?y(_,S,E)+j[1]:n<48?g(_,S,E)+j[2]:n<64?m(_,S,E)+j[3]:p(_,S,E)+j[4],A=(A=b(A|=0,N[n]))+C|0,k=C,C=E,E=b(S,10),S=_,_=A;A=I[1]+f+E|0,I[1]=I[2]+w+C|0,I[2]=I[3]+x+k|0,I[3]=I[4]+o+_|0,I[4]=I[0]+s+S|0,I[0]=A},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,s=0;s<5;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function m(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function y(e,t,n){return e&n|t&~n}function v(e,t,n){return e^(t|~n)}function b(e,t){return e<<t|e>>>32-t}n.RIPEMD160=o._createHelper(f),n.HmacRIPEMD160=o._createHmacHelper(f)}(Math),e.RIPEMD160}(n(8443))},3181:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.Hasher,o=t.algo,s=[],a=o.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],l=n[4],u=0;u<80;u++){if(u<16)s[u]=0|e[t+u];else{var c=s[u-3]^s[u-8]^s[u-14]^s[u-16];s[u]=c<<1|c>>>31}var d=(r<<5|r>>>27)+l+s[u];d+=u<20?1518500249+(i&o|~i&a):u<40?1859775393+(i^o^a):u<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,l=a,a=o,o=i<<30|i>>>2,i=r,r=d}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=i._createHelper(a),t.HmacSHA1=i._createHmacHelper(a)}(),e.SHA1}(n(8443))},2038:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib.WordArray,r=t.algo,i=r.SHA256,o=r.SHA224=i.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=i._createHelper(o),t.HmacSHA224=i._createHmacHelper(o)}(),e.SHA224}(n(8443),n(5242))},5242:function(e,t,n){e.exports=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.algo,a=[],l=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)e(r)&&(i<8&&(a[i]=n(t.pow(r,.5))),l[i]=n(t.pow(r,1/3)),i++),r++}();var u=[],c=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],c=n[5],d=n[6],h=n[7],f=0;f<64;f++){if(f<16)u[f]=0|e[t+f];else{var p=u[f-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=u[f-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[f]=m+u[f-7]+y+u[f-16]}var v=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&d)+l[f]+u[f];h=d,d=c,c=a,a=s+w|0,s=o,o=i,i=r,r=w+(b+v)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+c|0,n[6]=n[6]+d|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=o._createHelper(c),n.HmacSHA256=o._createHmacHelper(c)}(Math),e.SHA256}(n(8443))},5060:function(e,t,n){e.exports=function(e){return function(t){var n=e,r=n.lib,i=r.WordArray,o=r.Hasher,s=n.x64.Word,a=n.algo,l=[],u=[],c=[];!function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var a=0,d=0,h=0;h<7;h++){if(1&i){var f=(1<<h)-1;f<32?d^=1<<f:a^=1<<f-32}128&i?i=i<<1^113:i<<=1}c[o]=s.create(a,d)}}();var d=[];!function(){for(var e=0;e<25;e++)d[e]=s.create()}();var h=a.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=e[t+2*i],s=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(I=n[i]).high^=s,I.low^=o}for(var a=0;a<24;a++){for(var h=0;h<5;h++){for(var f=0,p=0,m=0;m<5;m++)f^=(I=n[h+5*m]).high,p^=I.low;var g=d[h];g.high=f,g.low=p}for(h=0;h<5;h++){var y=d[(h+4)%5],v=d[(h+1)%5],b=v.high,w=v.low;for(f=y.high^(b<<1|w>>>31),p=y.low^(w<<1|b>>>31),m=0;m<5;m++)(I=n[h+5*m]).high^=f,I.low^=p}for(var x=1;x<25;x++){var k=(I=n[x]).high,_=I.low,S=l[x];S<32?(f=k<<S|_>>>32-S,p=_<<S|k>>>32-S):(f=_<<S-32|k>>>64-S,p=k<<S-32|_>>>64-S);var E=d[u[x]];E.high=f,E.low=p}var C=d[0],A=n[0];for(C.high=A.high,C.low=A.low,h=0;h<5;h++)for(m=0;m<5;m++){var I=n[x=h+5*m],M=d[x],j=d[(h+1)%5+5*m],T=d[(h+2)%5+5*m];I.high=M.high^~j.high&T.high,I.low=M.low^~j.low&T.low}I=n[0];var B=c[a];I.high^=B.high,I.low^=B.low}},_doFinalize:function(){var e=this._data,n=e.words,r=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(t.ceil((r+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,l=a/8,u=[],c=0;c<l;c++){var d=s[c],h=d.high,f=d.low;h=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8),f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),u.push(f),u.push(h)}return new i.init(u,a)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=o._createHelper(h),n.HmacSHA3=o._createHmacHelper(h)}(Math),e.SHA3}(n(8443),n(2771))},6579:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.x64,r=n.Word,i=n.WordArray,o=t.algo,s=o.SHA512,a=o.SHA384=s.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=s._createHelper(a),t.HmacSHA384=s._createHmacHelper(a)}(),e.SHA384}(n(8443),n(2771),n(1509))},1509:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib.Hasher,r=t.x64,i=r.Word,o=r.WordArray,s=t.algo;function a(){return i.create.apply(i,arguments)}var l=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=a()}();var c=s.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],c=n[5],d=n[6],h=n[7],f=r.high,p=r.low,m=i.high,g=i.low,y=o.high,v=o.low,b=s.high,w=s.low,x=a.high,k=a.low,_=c.high,S=c.low,E=d.high,C=d.low,A=h.high,I=h.low,M=f,j=p,T=m,B=g,P=y,N=v,R=b,L=w,O=x,D=k,U=_,z=S,F=E,H=C,W=A,$=I,K=0;K<80;K++){var q,V,G=u[K];if(K<16)V=G.high=0|e[t+2*K],q=G.low=0|e[t+2*K+1];else{var J=u[K-15],Y=J.high,Z=J.low,X=(Y>>>1|Z<<31)^(Y>>>8|Z<<24)^Y>>>7,Q=(Z>>>1|Y<<31)^(Z>>>8|Y<<24)^(Z>>>7|Y<<25),ee=u[K-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=u[K-7],se=oe.high,ae=oe.low,le=u[K-16],ue=le.high,ce=le.low;V=(V=(V=X+se+((q=Q+ae)>>>0<Q>>>0?1:0))+re+((q+=ie)>>>0<ie>>>0?1:0))+ue+((q+=ce)>>>0<ce>>>0?1:0),G.high=V,G.low=q}var de,he=O&U^~O&F,fe=D&z^~D&H,pe=M&T^M&P^T&P,me=j&B^j&N^B&N,ge=(M>>>28|j<<4)^(M<<30|j>>>2)^(M<<25|j>>>7),ye=(j>>>28|M<<4)^(j<<30|M>>>2)^(j<<25|M>>>7),ve=(O>>>14|D<<18)^(O>>>18|D<<14)^(O<<23|D>>>9),be=(D>>>14|O<<18)^(D>>>18|O<<14)^(D<<23|O>>>9),we=l[K],xe=we.high,ke=we.low,_e=W+ve+((de=$+be)>>>0<$>>>0?1:0),Se=ye+me;W=F,$=H,F=U,H=z,U=O,z=D,O=R+(_e=(_e=(_e=_e+he+((de+=fe)>>>0<fe>>>0?1:0))+xe+((de+=ke)>>>0<ke>>>0?1:0))+V+((de+=q)>>>0<q>>>0?1:0))+((D=L+de|0)>>>0<L>>>0?1:0)|0,R=P,L=N,P=T,N=B,T=M,B=j,M=_e+(ge+pe+(Se>>>0<ye>>>0?1:0))+((j=de+Se|0)>>>0<de>>>0?1:0)|0}p=r.low=p+j,r.high=f+M+(p>>>0<j>>>0?1:0),g=i.low=g+B,i.high=m+T+(g>>>0<B>>>0?1:0),v=o.low=v+N,o.high=y+P+(v>>>0<N>>>0?1:0),w=s.low=w+L,s.high=b+R+(w>>>0<L>>>0?1:0),k=a.low=k+D,a.high=x+O+(k>>>0<D>>>0?1:0),S=c.low=S+z,c.high=_+U+(S>>>0<z>>>0?1:0),C=d.low=C+H,d.high=E+F+(C>>>0<H>>>0?1:0),I=h.low=I+$,h.high=A+W+(I>>>0<$>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=n._createHelper(c),t.HmacSHA512=n._createHmacHelper(c)}(),e.SHA512}(n(8443),n(2771))},8002:function(e,t,n){e.exports=function(e){return function(){var t=e,n=t.lib,r=n.WordArray,i=n.BlockCipher,o=t.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=s[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],c=l[o];for(n=0;n<24;n++)u[n/6|0]|=t[(a[n]-1+c)%28]<<31-n%6,u[4+(n/6|0)]|=t[28+(a[n+24]-1+c)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var d=this._invSubKeys=[];for(n=0;n<16;n++)d[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],h.call(this,4,252645135),h.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),h.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,s=this._rBlock,a=0,l=0;l<8;l++)a|=u[l][((s^i[l])&c[l])>>>0];this._lBlock=s,this._rBlock=o^a}var d=this._lBlock;this._lBlock=this._rBlock,this._rBlock=d,h.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function h(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function f(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}t.DES=i._createHelper(d);var p=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),n=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=d.createEncryptor(r.create(t)),this._des2=d.createEncryptor(r.create(n)),this._des3=d.createEncryptor(r.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(p)}(),e.TripleDES}(n(8443),n(7492),n(6707),n(254),n(6018))},2771:function(e,t,n){e.exports=function(e){return function(t){var n=e,r=n.lib,i=r.Base,o=r.WordArray,s=n.x64={};s.Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return o.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}})}(),e}(n(8443))},548:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var l,u,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,s),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==t||i&&!a[l].once||r&&a[l].context!==r)&&u.push(a[l]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},7553:(e,t,n)=>{var r=t;r.utils=n(7657),r.common=n(3345),r.sha=n(395),r.ripemd=n(5751),r.hmac=n(9161),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},3345:(e,t,n)=>{"use strict";var r=n(7657),i=n(5701);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},9161:(e,t,n)=>{"use strict";var r=n(7657),i=n(5701);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},5751:(e,t,n)=>{"use strict";var r=n(7657),i=n(3345),o=r.rotl32,s=r.sum32,a=r.sum32_3,l=r.sum32_4,u=i.BlockHash;function c(){if(!(this instanceof c))return new c;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function f(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(c,u),t.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],u=this.h[3],c=this.h[4],v=n,b=r,w=i,x=u,k=c,_=0;_<80;_++){var S=s(o(l(n,d(_,r,i,u),e[p[_]+t],h(_)),g[_]),c);n=c,c=u,u=o(i,10),i=r,r=S,S=s(o(l(v,d(79-_,b,w,x),e[m[_]+t],f(_)),y[_]),k),v=k,k=x,x=o(w,10),w=b,b=S}S=a(this.h[1],i,x),this.h[1]=a(this.h[2],u,k),this.h[2]=a(this.h[3],c,v),this.h[3]=a(this.h[4],n,b),this.h[4]=a(this.h[0],r,w),this.h[0]=S},c.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},395:(e,t,n)=>{"use strict";t.sha1=n(1405),t.sha224=n(7452),t.sha256=n(1611),t.sha384=n(996),t.sha512=n(166)},1405:(e,t,n)=>{"use strict";var r=n(7657),i=n(3345),o=n(3089),s=r.rotl32,a=r.sum32,l=r.sum32_5,u=o.ft_1,c=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(h,c),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=s(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],c=this.h[2],h=this.h[3],f=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),m=l(s(i,5),u(p,o,c,h),f,n[r],d[p]);f=h,h=c,c=s(o,30),o=i,i=m}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],c),this.h[3]=a(this.h[3],h),this.h[4]=a(this.h[4],f)},h.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},7452:(e,t,n)=>{"use strict";var r=n(7657),i=n(1611);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},1611:(e,t,n)=>{"use strict";var r=n(7657),i=n(3345),o=n(3089),s=n(5701),a=r.sum32,l=r.sum32_4,u=r.sum32_5,c=o.ch32,d=o.maj32,h=o.s0_256,f=o.s1_256,p=o.g0_256,m=o.g1_256,g=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}r.inherits(v,g),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=l(m(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],g=this.h[2],y=this.h[3],v=this.h[4],b=this.h[5],w=this.h[6],x=this.h[7];for(s(this.k.length===n.length),r=0;r<n.length;r++){var k=u(x,f(v),c(v,b,w),this.k[r],n[r]),_=a(h(i),d(i,o,g));x=w,w=b,b=v,v=a(y,k),y=g,g=o,o=i,i=a(k,_)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],x)},v.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},996:(e,t,n)=>{"use strict";var r=n(7657),i=n(166);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},166:(e,t,n)=>{"use strict";var r=n(7657),i=n(3345),o=n(5701),s=r.rotr64_hi,a=r.rotr64_lo,l=r.shr64_hi,u=r.shr64_lo,c=r.sum64,d=r.sum64_hi,h=r.sum64_lo,f=r.sum64_4_hi,p=r.sum64_4_lo,m=r.sum64_5_hi,g=r.sum64_5_lo,y=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function w(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function x(e,t,n,r,i,o){var s=t&r^~t&o;return s<0&&(s+=4294967296),s}function k(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function _(e,t,n,r,i,o){var s=t&r^t&o^r&o;return s<0&&(s+=4294967296),s}function S(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function E(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function C(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function A(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function I(e,t){var n=s(e,t,1)^s(e,t,8)^l(e,t,7);return n<0&&(n+=4294967296),n}function M(e,t){var n=a(e,t,1)^a(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function j(e,t){var n=s(e,t,19)^s(t,e,29)^l(e,t,6);return n<0&&(n+=4294967296),n}function T(e,t){var n=a(e,t,19)^a(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(b,y),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=j(n[r-4],n[r-3]),o=T(n[r-4],n[r-3]),s=n[r-14],a=n[r-13],l=I(n[r-30],n[r-29]),u=M(n[r-30],n[r-29]),c=n[r-32],d=n[r-31];n[r]=f(i,o,s,a,l,u,c,d),n[r+1]=p(i,o,s,a,l,u,c,d)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4],u=this.h[5],f=this.h[6],p=this.h[7],y=this.h[8],v=this.h[9],b=this.h[10],I=this.h[11],M=this.h[12],j=this.h[13],T=this.h[14],B=this.h[15];o(this.k.length===n.length);for(var P=0;P<n.length;P+=2){var N=T,R=B,L=C(y,v),O=A(y,v),D=w(y,v,b,I,M),U=x(y,v,b,I,M,j),z=this.k[P],F=this.k[P+1],H=n[P],W=n[P+1],$=m(N,R,L,O,D,U,z,F,H,W),K=g(N,R,L,O,D,U,z,F,H,W);N=S(r,i),R=E(r,i),L=k(r,i,s,a,l),O=_(r,i,s,a,l,u);var q=d(N,R,L,O),V=h(N,R,L,O);T=M,B=j,M=b,j=I,b=y,I=v,y=d(f,p,$,K),v=h(p,p,$,K),f=l,p=u,l=s,u=a,s=r,a=i,r=d($,K,q,V),i=h($,K,q,V)}c(this.h,0,r,i),c(this.h,2,s,a),c(this.h,4,l,u),c(this.h,6,f,p),c(this.h,8,y,v),c(this.h,10,b,I),c(this.h,12,M,j),c(this.h,14,T,B)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},3089:(e,t,n)=>{"use strict";var r=n(7657).rotr32;function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function s(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?s(t,n,r):2===e?o(t,n,r):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},7657:(e,t,n)=>{"use strict";var r=n(5701),i=n(273);function o(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function l(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?n[r++]=s:s<2048?(n[r++]=s>>6|192,n[r++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),n[r++]=s>>18|240,n[r++]=s>>12&63|128,n[r++]=s>>6&63|128,n[r++]=63&s|128):(n[r++]=s>>12|224,n[r++]=s>>6&63|128,n[r++]=63&s|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=a(e[n].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=s(i)),n+=l(i.toString(16))}return n},t.zero2=a,t.zero8=l,t.join32=function(e,t,n,i){var o=n-t;r(o%4===0);for(var s=new Array(o/4),a=0,l=t;a<s.length;a++,l+=4){var u;u="big"===i?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],s[a]=u>>>0}return s},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],o=r+e[t+1]>>>0,s=(o<r?1:0)+n+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,o,s,a){var l=0,u=t;return l+=(u=u+r>>>0)<t?1:0,l+=(u=u+o>>>0)<o?1:0,e+n+i+s+(l+=(u=u+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,o,s,a){return t+r+o+a>>>0},t.sum64_5_hi=function(e,t,n,r,i,o,s,a,l,u){var c=0,d=t;return c+=(d=d+r>>>0)<t?1:0,c+=(d=d+o>>>0)<o?1:0,c+=(d=d+a>>>0)<a?1:0,e+n+i+s+l+(c+=(d=d+u>>>0)<u?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,o,s,a,l,u){return t+r+o+a+u>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},6510:(e,t,n)=>{var r;!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var e=this||o;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!==typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||o;if(e=parseFloat(e),t.ctx||f(),"undefined"!==typeof e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var s=t._howls[n]._soundById(r[i]);s&&s._node&&(s._node.volume=s._volume*e)}return t}return t._volume},mute:function(e){var t=this||o;t.ctx||f(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,o.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),i=0;i<r.length;i++){var s=t._howls[n]._soundById(r[i]);s&&s._node&&(s._node.muted=!!e||s._muted)}return t},stop:function(){for(var e=this||o,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||o,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&"undefined"!==typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,f()),e},codecs:function(e){return(this||o)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||o;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!==typeof Audio)try{"undefined"===typeof(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(t){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||o,t=null;try{t="undefined"!==typeof Audio?new Audio:null}catch(c){return e}if(!t||"function"!==typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",i=r.match(/OPR\/(\d+)/g),s=i&&parseInt(i[0].split("/")[1],10)<33,a=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),l=r.match(/Version\/(.*?) /),u=a&&l&&parseInt(l[1],10)<15;return e._codecs={mp3:!(s||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(u||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||o;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(n){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,e._releaseHtml5Audio(r)}catch(n){e.noAudio=!0;break}for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var o=e._howls[i]._getSoundIds(),s=0;s<o.length;s++){var a=e._howls[i]._soundById(o[s]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}e._autoResume();var l=e.ctx.createBufferSource();l.buffer=e._scratchBuffer,l.connect(e.ctx.destination),"undefined"===typeof l.start?l.noteOn(0):l.start(0),"function"===typeof e.ctx.resume&&e.ctx.resume(),l.onended=function(){l.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||o;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!==typeof Promise&&(t instanceof Promise||"function"===typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||o;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&"undefined"!==typeof e.ctx.suspend&&o.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&"undefined"!==typeof e.ctx.resume&&o.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var o=new i,s=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};s.prototype={init:function(e){var t=this;return o.ctx||f(),t._autoplay=e.autoplay||!1,t._format="string"!==typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!==typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!==typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=o.usingWebAudio&&!t._html5,"undefined"!==typeof o.ctx&&o.ctx&&o.autoUnlock&&o._unlockAudio(),o._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(o.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"===typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,i;if(e._format&&e._format[n])r=e._format[n];else{if("string"!==typeof(i=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(i))||(r=/\.([^.]+)$/.exec(i.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&o.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new a(e),e._webAudio&&u(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"===typeof e)r=e,e=null;else{if("string"===typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if("undefined"===typeof e&&(e="__default",!n._playLock)){for(var i=0,s=0;s<n._sounds.length;s++)n._sounds[s]._paused&&!n._sounds[s]._ended&&(i++,r=n._sounds[s]._id);1===i?e=null:r=null}}var a=r?n._soundById(r):n._inactiveSound();if(!a)return null;if(r&&!e&&(e=a._sprite||"__default"),"loaded"!==n._state){a._sprite=e,a._ended=!1;var l=a._id;return n._queue.push({event:"play",action:function(){n.play(l)}}),l}if(r&&!a._paused)return t||n._loadQueue("play"),a._id;n._webAudio&&o._autoResume();var u=Math.max(0,a._seek>0?a._seek:n._sprite[e][0]/1e3),c=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-u),d=1e3*c/Math.abs(a._rate),h=n._sprite[e][0]/1e3,f=(n._sprite[e][0]+n._sprite[e][1])/1e3;a._sprite=e,a._ended=!1;var p=function(){a._paused=!1,a._seek=u,a._start=h,a._stop=f,a._loop=!(!a._loop&&!n._sprite[e][2])};if(!(u>=f)){var m=a._node;if(n._webAudio){var g=function(){n._playLock=!1,p(),n._refreshBuffer(a);var e=a._muted||n._muted?0:a._volume;m.gain.setValueAtTime(e,o.ctx.currentTime),a._playStart=o.ctx.currentTime,"undefined"===typeof m.bufferSource.start?a._loop?m.bufferSource.noteGrainOn(0,u,86400):m.bufferSource.noteGrainOn(0,u,c):a._loop?m.bufferSource.start(0,u,86400):m.bufferSource.start(0,u,c),d!==1/0&&(n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),d)),t||setTimeout((function(){n._emit("play",a._id),n._loadQueue()}),0)};"running"===o.state&&"interrupted"!==o.ctx.state?g():(n._playLock=!0,n.once("resume",g),n._clearTimer(a._id))}else{var y=function(){m.currentTime=u,m.muted=a._muted||n._muted||o._muted||m.muted,m.volume=a._volume*o.volume(),m.playbackRate=a._rate;try{var r=m.play();if(r&&"undefined"!==typeof Promise&&(r instanceof Promise||"function"===typeof r.then)?(n._playLock=!0,p(),r.then((function(){n._playLock=!1,m._unlocked=!0,t?n._loadQueue():n._emit("play",a._id)})).catch((function(){n._playLock=!1,n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),a._ended=!0,a._paused=!0}))):t||(n._playLock=!1,p(),n._emit("play",a._id)),m.playbackRate=a._rate,m.paused)return void n._emit("playerror",a._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||a._loop?n._endTimers[a._id]=setTimeout(n._ended.bind(n,a),d):(n._endTimers[a._id]=function(){n._ended(a),m.removeEventListener("ended",n._endTimers[a._id],!1)},m.addEventListener("ended",n._endTimers[a._id],!1))}catch(i){n._emit("playerror",a._id,i)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=n._src,m.load());var v=window&&window.ejecta||!m.readyState&&o._navigator.isCocoonJS;if(m.readyState>=3||v)y();else{n._playLock=!0,n._state="loading";var b=function(){n._state="loaded",y(),m.removeEventListener(o._canPlayEvent,b,!1)};m.addEventListener(o._canPlayEvent,b,!1),n._clearTimer(a._id)}}return a._id}n._ended(a)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var i=t._soundById(n[r]);if(i&&!i._paused&&(i._seek=t.seek(n[r]),i._rateSeek=0,i._paused=!0,t._stopFade(n[r]),i._node))if(t._webAudio){if(!i._node.bufferSource)continue;"undefined"===typeof i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),t._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||t._emit("pause",i?i._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),i=0;i<r.length;i++){n._clearTimer(r[i]);var o=n._soundById(r[i]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(r[i]),o._node&&(n._webAudio?o._node.bufferSource&&("undefined"===typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause(),o._node.duration===1/0&&n._clearSound(o._node))),t||n._emit("stop",o._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if("undefined"===typeof t){if("boolean"!==typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),i=0;i<r.length;i++){var s=n._soundById(r[i]);s&&(s._muted=e,s._interval&&n._stopFade(s._id),n._webAudio&&s._node?s._node.gain.setValueAtTime(e?0:s._volume,o.ctx.currentTime):s._node&&(s._node.muted=!!o._muted||e),n._emit("mute",s._id))}return n},volume:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&"undefined"===typeof i[1]?r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0]):i.length>=2&&(e=parseFloat(i[0]),t=parseInt(i[1],10)),!("undefined"!==typeof e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;"undefined"===typeof t&&(r._volume=e),t=r._getSoundIds(t);for(var s=0;s<t.length;s++)(n=r._soundById(t[s]))&&(n._volume=e,i[2]||r._stopFade(t[s]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,o.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*o.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(e,t,n,r)}}),i;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),i.volume(e,r);for(var s=i._getSoundIds(r),a=0;a<s.length;a++){var l=i._soundById(s[a]);if(l){if(r||i._stopFade(s[a]),i._webAudio&&!l._muted){var u=o.ctx.currentTime,c=u+n/1e3;l._volume=e,l._node.gain.setValueAtTime(e,u),l._node.gain.linearRampToValueAtTime(t,c)}i._startFadeInterval(l,e,t,n,s[a],"undefined"===typeof r)}}return i},_startFadeInterval:function(e,t,n,r,i,o){var s=this,a=t,l=n-t,u=Math.abs(l/.01),c=Math.max(4,u>0?r/u:r),d=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var i=(Date.now()-d)/r;d=Date.now(),a+=l*i,a=Math.round(100*a)/100,a=l<0?Math.max(n,a):Math.min(n,a),s._webAudio?e._volume=a:s.volume(a,e._id,!0),o&&(s._volume=a),(n<t&&a<=n||n>t&&a>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,s.volume(n,e._id),s._emit("fade",e._id))}),c)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(o.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!==typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;e=i[0],r._loop=e}else 2===i.length&&(e=i[0],t=parseInt(i[1],10));for(var o=r._getSoundIds(t),s=0;s<o.length;s++)(n=r._soundById(o[s]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(o[s])&&(r.pause(o[s],!0),r.play(o[s],!0)))));return r},rate:function(){var e,t,n,r=this,i=arguments;if(0===i.length)t=r._sounds[0]._id;else if(1===i.length){r._getSoundIds().indexOf(i[0])>=0?t=parseInt(i[0],10):e=parseFloat(i[0])}else 2===i.length&&(e=parseFloat(i[0]),t=parseInt(i[1],10));if("number"!==typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;"undefined"===typeof t&&(r._rate=e),t=r._getSoundIds(t);for(var s=0;s<t.length;s++)if(n=r._soundById(t[s])){r.playing(t[s])&&(n._rateSeek=r.seek(t[s]),n._playStart=r._webAudio?o.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,o.ctx.currentTime):n._node&&(n._node.playbackRate=e);var a=r.seek(t[s]),l=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-a)/Math.abs(n._rate);!r._endTimers[t[s]]&&n._paused||(r._clearTimer(t[s]),r._endTimers[t[s]]=setTimeout(r._ended.bind(r,n),l)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if("undefined"===typeof t)return 0;if("number"===typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var i=n._soundById(t);if(i){if(!("number"===typeof e&&e>=0)){if(n._webAudio){var s=n.playing(t)?o.ctx.currentTime-i._playStart:0,a=i._rateSeek?i._rateSeek-i._seek:0;return i._seek+(a+s*Math.abs(i._rate))}return i._node.currentTime}var l=n.playing(t);l&&n.pause(t,!0),i._seek=e,i._ended=!1,n._clearTimer(t),n._webAudio||!i._node||isNaN(i._node.duration)||(i._node.currentTime=e);var u=function(){l&&n.play(t,!0),n._emit("seek",t)};if(l&&!n._webAudio){var c=function(){n._playLock?setTimeout(c,0):u()};setTimeout(c,0)}else u()}return n},playing:function(e){var t=this;if("number"===typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(o._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),o._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=o._howls.indexOf(e);r>=0&&o._howls.splice(r,1);var i=!0;for(n=0;n<o._howls.length;n++)if(o._howls[n]._src===e._src||e._src.indexOf(o._howls[n]._src)>=0){i=!1;break}return l&&i&&delete l[e._src],o.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){var i=this["_on"+e];return"function"===typeof t&&i.push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,i=r["_on"+e],o=0;if("number"===typeof t&&(n=t,t=null),t||n)for(o=0;o<i.length;o++){var s=n===i[o].id;if(t===i[o].fn&&s||!t&&s){i.splice(o,1);break}}else if(e)r["_on"+e]=[];else{var a=Object.keys(r);for(o=0;o<a.length;o++)0===a[o].indexOf("_on")&&Array.isArray(r[a[o]])&&(r[a[o]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,i=r["_on"+e],o=i.length-1;o>=0;o--)i[o].id&&i[o].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,i[o].fn),0),i[o].once&&r.off(e,i[o].fn,i[o].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=o.ctx.currentTime;var i=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),i)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),o._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!==typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new a(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if("undefined"===typeof e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=o.ctx.createBufferSource(),e._node.bufferSource.buffer=l[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,o.ctx.currentTime),this},_cleanBuffer:function(e){var t=o._navigator&&o._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return this;if(o._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=o._scratchBuffer}catch(n){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(o._navigator&&o._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++o._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=o._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node="undefined"===typeof o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),e._node.gain.setValueAtTime(n,o.ctx.currentTime),e._node.paused=!0,e._node.connect(o.masterGain)):o.noAudio||(e._node=o._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(o._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*o.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++o._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(o._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var l={},u=function(e){var t=e._src;if(l[t])return e._duration=l[t].duration,void h(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);d(r.buffer,e)}else{var o=new XMLHttpRequest;o.open(e._xhr.method,t,!0),o.withCredentials=e._xhr.withCredentials,o.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){o.setRequestHeader(t,e._xhr.headers[t])})),o.onload=function(){var t=(o.status+"")[0];"0"===t||"2"===t||"3"===t?d(o.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+o.status+".")},o.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete l[t],e.load())},c(o)}},c=function(e){try{e.send()}catch(t){e.onerror()}},d=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(l[t._src]=e,h(t,e)):n()};"undefined"!==typeof Promise&&1===o.ctx.decodeAudioData.length?o.ctx.decodeAudioData(e).then(r).catch(n):o.ctx.decodeAudioData(e,r,n)},h=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},f=function(){if(o.usingWebAudio){try{"undefined"!==typeof AudioContext?o.ctx=new AudioContext:"undefined"!==typeof webkitAudioContext?o.ctx=new webkitAudioContext:o.usingWebAudio=!1}catch(i){o.usingWebAudio=!1}o.ctx||(o.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(o._navigator&&o._navigator.platform),t=o._navigator&&o._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(o._navigator&&o._navigator.userAgent.toLowerCase());o._navigator&&!r&&(o.usingWebAudio=!1)}o.usingWebAudio&&(o.masterGain="undefined"===typeof o.ctx.createGain?o.ctx.createGainNode():o.ctx.createGain(),o.masterGain.gain.setValueAtTime(o._muted?0:o._volume,o.ctx.currentTime),o.masterGain.connect(o.ctx.destination)),o._setup()}};void 0===(r=function(){return{Howler:o,Howl:s}}.apply(t,[]))||(e.exports=r),t.Howler=o,t.Howl=s,"undefined"!==typeof n.g?(n.g.HowlerGlobal=i,n.g.Howler=o,n.g.Howl=s,n.g.Sound=a):"undefined"!==typeof window&&(window.HowlerGlobal=i,window.Howler=o,window.Howl=s,window.Sound=a)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?(t="number"!==typeof t?r._pos[1]:t,n="number"!==typeof n?r._pos[2]:n,"number"!==typeof e?r._pos:(r._pos=[e,t,n],"undefined"!==typeof r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r)):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,i,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;var a=s._orientation;return t="number"!==typeof t?a[1]:t,n="number"!==typeof n?a[2]:n,r="number"!==typeof r?a[3]:r,i="number"!==typeof i?a[4]:i,o="number"!==typeof o?a[5]:o,"number"!==typeof e?a:(s._orientation=[e,t,n,r,i,o],"undefined"!==typeof s.ctx.listener.forwardX?(s.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),s.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),s.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),s.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),s.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),s.ctx.listener.upZ.setTargetAtTime(o,Howler.ctx.currentTime,.1)):s.ctx.listener.setOrientation(e,t,n,r,i,o),s)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!==typeof t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:"undefined"!==typeof t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:"undefined"!==typeof t.coneOuterGain?t.coneOuterGain:0,distanceModel:"undefined"!==typeof t.distanceModel?t.distanceModel:"inverse",maxDistance:"undefined"!==typeof t.maxDistance?t.maxDistance:1e4,panningModel:"undefined"!==typeof t.panningModel?t.panningModel:"HRTF",refDistance:"undefined"!==typeof t.refDistance?t.refDistance:1,rolloffFactor:"undefined"!==typeof t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var i="undefined"===typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"===typeof n){if("number"!==typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var o=r._getSoundIds(n),s=0;s<o.length;s++){var a=r._soundById(o[s]);if(a){if("number"!==typeof e)return a._stereo;a._stereo=e,a._pos=[e,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",a._panner&&a._panner.pan||t(a,i),"spatial"===i?"undefined"!==typeof a._panner.positionX?(a._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(e,0,0):a._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",a._id)}}return r},Howl.prototype.pos=function(e,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,n,r,i)}}),o;if(n="number"!==typeof n?0:n,r="number"!==typeof r?-.5:r,"undefined"===typeof i){if("number"!==typeof e)return o._pos;o._pos=[e,n,r]}for(var s=o._getSoundIds(i),a=0;a<s.length;a++){var l=o._soundById(s[a]);if(l){if("number"!==typeof e)return l._pos;l._pos=[e,n,r],l._node&&(l._panner&&!l._panner.pan||t(l,"spatial"),"undefined"!==typeof l._panner.positionX?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setPosition(e,n,r)),o._emit("pos",l._id)}}return o},Howl.prototype.orientation=function(e,n,r,i){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,n,r,i)}}),o;if(n="number"!==typeof n?o._orientation[1]:n,r="number"!==typeof r?o._orientation[2]:r,"undefined"===typeof i){if("number"!==typeof e)return o._orientation;o._orientation=[e,n,r]}for(var s=o._getSoundIds(i),a=0;a<s.length;a++){var l=o._soundById(s[a]);if(l){if("number"!==typeof e)return l._orientation;l._orientation=[e,n,r],l._node&&(l._panner||(l._pos||(l._pos=o._pos||[0,0,-.5]),t(l,"spatial")),"undefined"!==typeof l._panner.orientationX?(l._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):l._panner.setOrientation(e,n,r)),o._emit("orientation",l._id)}}return o},Howl.prototype.pannerAttr=function(){var e,n,r,i=this,o=arguments;if(!i._webAudio)return i;if(0===o.length)return i._pannerAttr;if(1===o.length){if("object"!==typeof o[0])return(r=i._soundById(parseInt(o[0],10)))?r._pannerAttr:i._pannerAttr;e=o[0],"undefined"===typeof n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),i._pannerAttr={coneInnerAngle:"undefined"!==typeof e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:"undefined"!==typeof e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:"undefined"!==typeof e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:"undefined"!==typeof e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:i._distanceModel,maxDistance:"undefined"!==typeof e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:i._maxDistance,refDistance:"undefined"!==typeof e.pannerAttr.refDistance?e.pannerAttr.refDistance:i._refDistance,rolloffFactor:"undefined"!==typeof e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:"undefined"!==typeof e.pannerAttr.panningModel?e.pannerAttr.panningModel:i._panningModel})}else 2===o.length&&(e=o[0],n=parseInt(o[1],10));for(var s=i._getSoundIds(n),a=0;a<s.length;a++)if(r=i._soundById(s[a])){var l=r._pannerAttr;l={coneInnerAngle:"undefined"!==typeof e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:"undefined"!==typeof e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:"undefined"!==typeof e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:"undefined"!==typeof e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:"undefined"!==typeof e.maxDistance?e.maxDistance:l.maxDistance,refDistance:"undefined"!==typeof e.refDistance?e.refDistance:l.refDistance,rolloffFactor:"undefined"!==typeof e.rolloffFactor?e.rolloffFactor:l.rolloffFactor,panningModel:"undefined"!==typeof e.panningModel?e.panningModel:l.panningModel};var u=r._panner;u||(r._pos||(r._pos=i._pos||[0,0,-.5]),t(r,"spatial"),u=r._panner),u.coneInnerAngle=l.coneInnerAngle,u.coneOuterAngle=l.coneOuterAngle,u.coneOuterGain=l.coneOuterGain,u.distanceModel=l.distanceModel,u.maxDistance=l.maxDistance,u.refDistance=l.refDistance,u.rolloffFactor=l.rolloffFactor,u.panningModel=l.panningModel}return i},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,"undefined"!==typeof e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),"undefined"!==typeof e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()},545:(e,t)=>{t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,u=l>>1,c=-7,d=n?i-1:0,h=n?-1:1,f=e[t+d];for(d+=h,o=f&(1<<-c)-1,f>>=-c,c+=a;c>0;o=256*o+e[t+d],d+=h,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+e[t+d],d+=h,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),o-=u}return(f?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,l,u=8*o-i-1,c=(1<<u)-1,d=c>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(s++,l/=2),s+d>=c?(a=0,s=c):s+d>=1?(a=(t*l-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+f]=255&a,f+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+f]=255&s,f+=p,s/=256,u-=8);e[n+f-p]|=128*m}},273:e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},2630:(e,t,n)=>{"use strict";const r=n(2363).v4,i=n(6013),o=function(e,t){if(!(this instanceof o))return new o(e,t);t||(t={}),this.options={reviver:"undefined"!==typeof t.reviver?t.reviver:null,replacer:"undefined"!==typeof t.replacer?t.replacer:null,generator:"undefined"!==typeof t.generator?t.generator:function(){return r()},version:"undefined"!==typeof t.version?t.version:2,notificationIdNull:"boolean"===typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=o,o.prototype.request=function(e,t,n,r){const o=this;let s=null;const a=Array.isArray(e)&&"function"===typeof t;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&e&&"object"===typeof e&&"function"===typeof t)r=t,s=e;else{"function"===typeof n&&(r=n,n=void 0);const o="function"===typeof r;try{s=i(e,t,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(u){if(o)return r(u);throw u}if(!o)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(l,(function(e,t){o._parseResponse(e,t,r)})),s},o.prototype._parseResponse=function(e,t,n){if(e)return void n(e);if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(e){return n(e)}if(3===n.length){if(Array.isArray(r)){const e=function(e){return"undefined"!==typeof e.error},t=function(t){return!e(t)};return n(null,r.filter(e),r.filter(t))}return n(null,r.error,r.result)}n(null,r)}},6013:(e,t,n)=>{"use strict";const r=n(2363).v4;e.exports=function(e,t,n,i){if("string"!==typeof e)throw new TypeError(e+" must be a string");const o="number"===typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw new TypeError(o+" must be 1 or 2");const s={method:e};if(2===o&&(s.jsonrpc="2.0"),t){if("object"!==typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");s.params=t}if("undefined"===typeof n){const e="function"===typeof i.generator?i.generator:function(){return r()};s.id=e(s,i)}else 2===o&&null===n?i.notificationIdNull&&(s.id=null):s.id=n;return s}},7676:(e,t,n)=>{var r;!function(){"use strict";var i="input is invalid type",o="object"===typeof window,s=o?window:{};s.JS_SHA3_NO_WINDOW&&(o=!1);var a=!o&&"object"===typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node?s=n.g:a&&(s=self);var l=!s.JS_SHA3_NO_COMMON_JS&&e.exports,u=n.amdO,c=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,d="0123456789abcdef".split(""),h=[4,1024,262144,67108864],f=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],g=[128,256],y=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};!s.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!c||!s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var b=function(e,t,n){return function(r){return new N(e,t,e).update(r)[n]()}},w=function(e,t,n){return function(r,i){return new N(e,t,i).update(r)[n]()}},x=function(e,t,n){return function(t,r,i,o){return C["cshake"+e].update(t,r,i,o)[n]()}},k=function(e,t,n){return function(t,r,i,o){return C["kmac"+e].update(t,r,i,o)[n]()}},_=function(e,t,n,r){for(var i=0;i<y.length;++i){var o=y[i];e[o]=t(n,r,o)}return e},S=function(e,t){var n=b(e,t,"hex");return n.create=function(){return new N(e,t,e)},n.update=function(e){return n.create().update(e)},_(n,b,e,t)},E=[{name:"keccak",padding:[1,256,65536,16777216],bits:m,createMethod:S},{name:"sha3",padding:[6,1536,393216,100663296],bits:m,createMethod:S},{name:"shake",padding:[31,7936,2031616,520093696],bits:g,createMethod:function(e,t){var n=w(e,t,"hex");return n.create=function(n){return new N(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},_(n,w,e,t)}},{name:"cshake",padding:h,bits:g,createMethod:function(e,t){var n=v[e],r=x(e,0,"hex");return r.create=function(r,i,o){return i||o?new N(e,t,r).bytepad([i,o],n):C["shake"+e].create(r)},r.update=function(e,t,n,i){return r.create(t,n,i).update(e)},_(r,x,e,t)}},{name:"kmac",padding:h,bits:g,createMethod:function(e,t){var n=v[e],r=k(e,0,"hex");return r.create=function(r,i,o){return new R(e,t,i).bytepad(["KMAC",o],n).bytepad([r],n)},r.update=function(e,t,n,i){return r.create(e,n,i).update(t)},_(r,k,e,t)}}],C={},A=[],I=0;I<E.length;++I)for(var M=E[I],j=M.bits,T=0;T<j.length;++T){var B=M.name+"_"+j[T];if(A.push(B),C[B]=M.createMethod(j[T],M.padding),"sha3"!==M.name){var P=M.name+j[T];A.push(P),C[P]=C[B]}}function N(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function R(e,t,n){N.call(this,e,t,n)}N.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(i);if(null===e)throw new Error(i);if(c&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!c||!ArrayBuffer.isView(e)))throw new Error(i);t=!0}for(var r,o,s=this.blocks,a=this.byteCount,l=e.length,u=this.blockCount,d=0,h=this.s;d<l;){if(this.reset)for(this.reset=!1,s[0]=this.block,r=1;r<u+1;++r)s[r]=0;if(t)for(r=this.start;d<l&&r<a;++d)s[r>>2]|=e[d]<<f[3&r++];else for(r=this.start;d<l&&r<a;++d)(o=e.charCodeAt(d))<128?s[r>>2]|=o<<f[3&r++]:o<2048?(s[r>>2]|=(192|o>>6)<<f[3&r++],s[r>>2]|=(128|63&o)<<f[3&r++]):o<55296||o>=57344?(s[r>>2]|=(224|o>>12)<<f[3&r++],s[r>>2]|=(128|o>>6&63)<<f[3&r++],s[r>>2]|=(128|63&o)<<f[3&r++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++d)),s[r>>2]|=(240|o>>18)<<f[3&r++],s[r>>2]|=(128|o>>12&63)<<f[3&r++],s[r>>2]|=(128|o>>6&63)<<f[3&r++],s[r>>2]|=(128|63&o)<<f[3&r++]);if(this.lastByteIndex=r,r>=a){for(this.start=r-a,this.block=s[u],r=0;r<u;++r)h[r]^=s[r];L(h),this.reset=!0}else this.start=r}return this},N.prototype.encode=function(e,t){var n=255&e,r=1,i=[n];for(n=255&(e>>=8);n>0;)i.unshift(n),n=255&(e>>=8),++r;return t?i.push(r):i.unshift(r),this.update(i),i.length},N.prototype.encodeString=function(e){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(i);if(null===e)throw new Error(i);if(c&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!c||!ArrayBuffer.isView(e)))throw new Error(i);t=!0}var r=0,o=e.length;if(t)r=o;else for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);a<128?r+=1:a<2048?r+=2:a<55296||a>=57344?r+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),r+=4)}return r+=this.encode(8*r),this.update(e),r},N.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var i=t-n%t,o=[];return o.length=i,this.update(o),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];L(r)}},N.prototype.toString=N.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<r;){for(o=0;o<t&&s<r;++o,++s)e=n[o],a+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];s%t===0&&(L(n),o=0)}return i&&(e=n[o],a+=d[e>>4&15]+d[15&e],i>1&&(a+=d[e>>12&15]+d[e>>8&15]),i>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},N.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(r+1<<2):new ArrayBuffer(a);for(var l=new Uint32Array(e);s<r;){for(o=0;o<t&&s<r;++o,++s)l[s]=n[o];s%t===0&&L(n)}return i&&(l[o]=n[o],e=e.slice(0,a)),e},N.prototype.buffer=N.prototype.arrayBuffer,N.prototype.digest=N.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,l=[];a<i;){for(s=0;s<n&&a<i;++s,++a)e=a<<2,t=r[s],l[e]=255&t,l[e+1]=t>>8&255,l[e+2]=t>>16&255,l[e+3]=t>>24&255;a%n===0&&L(r)}return o&&(e=a<<2,t=r[s],l[e]=255&t,o>1&&(l[e+1]=t>>8&255),o>2&&(l[e+2]=t>>16&255)),l},R.prototype=new N,R.prototype.finalize=function(){return this.encode(this.outputBits,!0),N.prototype.finalize.call(this)};var L=function(e){var t,n,r,i,o,s,a,l,u,c,d,h,f,m,g,y,v,b,w,x,k,_,S,E,C,A,I,M,j,T,B,P,N,R,L,O,D,U,z,F,H,W,$,K,q,V,G,J,Y,Z,X,Q,ee,te,ne,re,ie,oe,se,ae,le,ue,ce;for(r=0;r<48;r+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],l=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),n=(f=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=i^(l<<1|u>>>31),n=o^(u<<1|l>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=s^(c<<1|d>>>31),n=a^(d<<1|c>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=l^(h<<1|f>>>31),n=u^(f<<1|h>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=c^(i<<1|o>>>31),n=d^(o<<1|i>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,m=e[0],g=e[1],V=e[11]<<4|e[10]>>>28,G=e[10]<<4|e[11]>>>28,M=e[20]<<3|e[21]>>>29,j=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,le=e[30]<<9|e[31]>>>23,W=e[40]<<18|e[41]>>>14,$=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,L=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,T=e[33]<<13|e[32]>>>19,B=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,ce=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,O=e[14]<<6|e[15]>>>26,D=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,N=e[44]<<29|e[45]>>>3,E=e[6]<<28|e[7]>>>4,C=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,U=e[26]<<25|e[27]>>>7,z=e[27]<<25|e[26]>>>7,x=e[36]<<21|e[37]>>>11,k=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,K=e[8]<<27|e[9]>>>5,q=e[9]<<27|e[8]>>>5,A=e[18]<<20|e[19]>>>12,I=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,F=e[38]<<8|e[39]>>>24,H=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=m^~y&b,e[1]=g^~v&w,e[10]=E^~A&M,e[11]=C^~I&j,e[20]=R^~O&U,e[21]=L^~D&z,e[30]=K^~V&J,e[31]=q^~G&Y,e[40]=te^~re&oe,e[41]=ne^~ie&se,e[2]=y^~b&x,e[3]=v^~w&k,e[12]=A^~M&T,e[13]=I^~j&B,e[22]=O^~U&F,e[23]=D^~z&H,e[32]=V^~J&Z,e[33]=G^~Y&X,e[42]=re^~oe&ae,e[43]=ie^~se&le,e[4]=b^~x&_,e[5]=w^~k&S,e[14]=M^~T&P,e[15]=j^~B&N,e[24]=U^~F&W,e[25]=z^~H&$,e[34]=J^~Z&Q,e[35]=Y^~X&ee,e[44]=oe^~ae&ue,e[45]=se^~le&ce,e[6]=x^~_&m,e[7]=k^~S&g,e[16]=T^~P&E,e[17]=B^~N&C,e[26]=F^~W&R,e[27]=H^~$&L,e[36]=Z^~Q&K,e[37]=X^~ee&q,e[46]=ae^~ue&te,e[47]=le^~ce&ne,e[8]=_^~m&y,e[9]=S^~g&v,e[18]=P^~E&A,e[19]=N^~C&I,e[28]=W^~R&O,e[29]=$^~L&D,e[38]=Q^~K&V,e[39]=ee^~q&G,e[48]=ue^~te&re,e[49]=ce^~ne&ie,e[0]^=p[r],e[1]^=p[r+1]};if(l)e.exports=C;else{for(I=0;I<A.length;++I)s[A[I]]=C[A[I]];u&&(void 0===(r=function(){return C}.call(t,n,t,e))||(e.exports=r))}}()},5701:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},1843:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in o=Object(arguments[l]))n.call(o,u)&&(a[u]=o[u]);if(t){s=t(o);for(var c=0;c<s.length;c++)r.call(o,s[c])&&(a[s[c]]=o[s[c]])}}return a}},534:(e,t,n)=>{"use strict";var r=n(7313),i=n(1843),o=n(2224);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=60103,_=60106,S=60107,E=60108,C=60114,A=60109,I=60110,M=60112,j=60113,T=60120,B=60115,P=60116,N=60121,R=60128,L=60129,O=60130,D=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;k=U("react.element"),_=U("react.portal"),S=U("react.fragment"),E=U("react.strict_mode"),C=U("react.profiler"),A=U("react.provider"),I=U("react.context"),M=U("react.forward_ref"),j=U("react.suspense"),T=U("react.suspense_list"),B=U("react.memo"),P=U("react.lazy"),N=U("react.block"),U("react.scope"),R=U("react.opaque.id"),L=U("react.debug_trace_mode"),O=U("react.offscreen"),D=U("react.legacy_hidden")}var z,F="function"===typeof Symbol&&Symbol.iterator;function H(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}function W(e){if(void 0===z)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var $=!1;function K(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function q(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case C:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case M:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case B:return V(e.type);case N:return V(e._render);case P:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function J(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=J(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=J(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ue(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if(e.namespaceURI!==de.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ae=null,Ie=null;function Me(e){if(e=ni(e)){if("function"!==typeof Ce)throw Error(s(280));var t=e.stateNode;t&&(t=ii(t),Ce(e.stateNode,e.type,t))}}function je(e){Ae?Ie?Ie.push(e):Ie=[e]:Ae=e}function Te(){if(Ae){var e=Ae,t=Ie;if(Ie=Ae=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Be(e,t){return e(t)}function Pe(e,t,n,r,i){return e(t,n,r,i)}function Ne(){}var Re=Be,Le=!1,Oe=!1;function De(){null===Ae&&null===Ie||(Ne(),Te())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var ze=!1;if(d)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(me){ze=!1}function He(e,t,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var We=!1,$e=null,Ke=!1,qe=null,Ve={onError:function(e){We=!0,$e=e}};function Ge(e,t,n,r,i,o,s,a,l){We=!1,$e=null,He.apply(Ve,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ze(e){if(Je(e)!==e)throw Error(s(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ze(i),e;if(o===r)return Ze(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Qe(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,ot=[],st=null,at=null,lt=null,ut=new Map,ct=new Map,dt=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(it=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==at&&yt(at)&&(at=null),null!==lt&&yt(lt)&&(lt=null),ut.forEach(vt),ct.forEach(vt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==at&&wt(at,e),null!==lt&&wt(lt,e),ut.forEach(t),ct.forEach(t),n=0;n<dt.length;n++)(r=dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<dt.length&&null===(n=dt[0]).blockedOn;)gt(n),null===n.blockedOn&&dt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},St={},Et={};function Ct(e){if(St[e])return St[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in Et)return St[e]=n[t];return e}d&&(Et=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var At=Ct("animationend"),It=Ct("animationiteration"),Mt=Ct("animationstart"),jt=Ct("transitionend"),Tt=new Map,Bt=new Map,Pt=["abort","abort",At,"animationEnd",It,"animationIteration",Mt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",jt,"transitionEnd","waiting","waiting"];function Nt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Bt.set(r,t),Tt.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Rt=8;function Lt(e){if(0!==(1&e))return Rt=15,1;if(0!==(2&e))return Rt=14,2;if(0!==(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!==(32&e)?(Rt=11,32):0!==(t=192&e)?(Rt=10,t):0!==(256&e)?(Rt=9,256):0!==(t=3584&e)?(Rt=8,t):0!==(4096&e)?(Rt=7,4096):0!==(t=4186112&e)?(Rt=6,t):0!==(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!==(134217728&e)?(Rt=3,134217728):0!==(t=805306368&e)?(Rt=2,t):0!==(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function Ot(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=Rt=15;else if(0!==(o=134217727&n)){var l=o&~s;0!==l?(r=Lt(l),i=Rt):0!==(a&=o)&&(r=Lt(a),i=Rt)}else 0!==(o=n&~s)?(r=Lt(o),i=Rt):0!==a&&(r=Lt(a),i=Rt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&s)){if(Lt(t),i<=Rt)return t;Rt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Dt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Ut(10,t):e;case 10:return 0===(e=zt(192&~t))?Ut(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function zt(e){return e&-e}function Ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ht(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-($t(e)/Kt|0)|0},$t=Math.log,Kt=Math.LN2;var qt=o.unstable_UserBlockingPriority,Vt=o.unstable_runWithPriority,Gt=!0;function Jt(e,t,n,r){Le||Ne();var i=Zt,o=Le;Le=!0;try{Pe(i,e,t,n,r)}finally{(Le=o)||De()}}function Yt(e,t,n,r){Vt(qt,Zt.bind(null,e,t,n,r))}function Zt(e,t,n,r){var i;if(Gt)if((i=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=ft(null,e,t,n,r),ot.push(e);else{var o=Xt(e,t,n,r);if(null===o)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=ft(o,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ut.set(o,mt(ut.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ct.set(o,mt(ct.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;pt(e,r)}Nr(e,t,r,null,n)}}}function Xt(e,t,n,r){var i=Ee(r);if(null!==(i=ti(i))){var o=Je(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Ye(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Nr(e,t,r,i,n),null}var Qt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var ln,un,cn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=an(dn),fn=i({},dn,{view:0,detail:0}),pn=an(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:un}}),gn=an(mn),yn=an(i({},mn,{dataTransfer:0})),vn=an(i({},fn,{relatedTarget:0})),bn=an(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=an(wn),kn=an(i({},dn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function An(){return Cn}var In=i({},fn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mn=an(In),jn=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),Bn=an(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(Pn),Rn=[9,13,27,32],Ln=d&&"CompositionEvent"in window,On=null;d&&"documentMode"in document&&(On=document.documentMode);var Dn=d&&"TextEvent"in window&&!On,Un=d&&(!Ln||On&&8<On&&11>=On),zn=String.fromCharCode(32),Fn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Vn(e,t,n,r){je(r),0<(t=Lr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Jn=null;function Yn(e){Ir(e,0)}function Zn(e){if(Z(ri(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(d){var er;if(d){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Qn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ir),Jn=Gn=null)}function ir(e){if("value"===e.propertyName&&Zn(Jn)){var t=[];if(Vn(t,Jn,e,Ee(e)),e=Yn,Le)e(t);else{Le=!0;try{Be(e,t)}finally{Le=!1,De()}}}}function or(e,t,n){"focusin"===e?(rr(),Jn=n,(Gn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Jn)}function ar(e,t){if("click"===e)return Zn(t)}function lr(e,t){if("input"===e||"change"===e)return Zn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},cr=Object.prototype.hasOwnProperty;function dr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=d&&"documentMode"in document&&11>=document.documentMode,vr=null,br=null,wr=null,xr=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==vr||vr!==X(r)||("selectionStart"in(r=vr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&dr(wr,r)||(wr=r,0<(r=Lr(br,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Nt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Nt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Nt(Pt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<_r.length;Sr++)Bt.set(_r[Sr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Er="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Er));function Ar(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(Ge.apply(this,arguments),We){if(!We)throw Error(s(198));var c=$e;We=!1,$e=null,Ke||(Ke=!0,qe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ir(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Ar(i,a,u),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Ar(i,a,u),o=l}}}if(Ke)throw e=qe,Ke=!1,qe=null,e}function Mr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Pr(t,e,2,!1),n.add(r))}var jr="_reactListening"+Math.random().toString(36).slice(2);function Tr(e){e[jr]||(e[jr]=!0,a.forEach((function(t){Cr.has(t)||Br(t,!1,e,null),Br(t,!0,e,null)})))}function Br(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=oi(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Pr(o,e,i,t),s.add(a))}function Pr(e,t,n,r){var i=Bt.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Yt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Nr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=ti(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Re(e,t,n)}finally{Oe=!1,De()}}((function(){var r=o,i=Ee(n),s=[];e:{var a=Tt.get(e);if(void 0!==a){var l=hn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Mn;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case At:case It:case Mt:l=bn;break;case jt:l=Bn;break;case"scroll":l=pn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=jn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ue(p,h))&&c.push(Rr(p,m,f)))),d)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!ti(u)&&!u[Qr])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ti(u):null)&&(u!==(d=Je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=gn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=jn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?a:ri(l),f=null==u?a:ri(u),(a=new c(m,p+"leave",l,n,i)).target=d,a.relatedTarget=f,m=null,ti(i)===r&&((c=new c(h,p+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(h=u,p=0,f=c=l;f;f=Or(f))p++;for(f=0,m=h;m;m=Or(m))f++;for(;0<p-f;)c=Or(c),p--;for(;0<f-p;)h=Or(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Or(c),h=Or(h)}c=null}else c=null;null!==l&&Dr(s,a,l,c,!1),null!==u&&null!==d&&Dr(s,d,u,c,!0)}if("select"===(l=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(qn(a))if(Qn)g=lr;else{g=sr;var y=or}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ar);switch(g&&(g=g(e,r))?Vn(s,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ie(a,"number",a.value)),y=r?ri(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(vr=y,br=r,wr=null);break;case"focusout":wr=br=vr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,kr(s,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":kr(s,n,i)}var v;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else $n?Hn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&($n||"onCompositionStart"!==b?"onCompositionEnd"===b&&$n&&(v=nn()):(en="value"in(Qt=i)?Qt.value:Qt.textContent,$n=!0)),0<(y=Lr(r,b)).length&&(b=new kn(b,e,null,n,i),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=Wn(n))&&(b.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Fn=!0,zn);case"textInput":return(e=t.data)===zn&&Fn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!Ln&&Hn(e,t)?(e=nn(),tn=en=Qt=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Ir(s,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Rr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Rr(e,o,i))),e=e.return}return r}function Or(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Dr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ue(n,o))&&s.unshift(Rr(n,l,a)):i||null!=(l=Ue(n,o))&&s.push(Rr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Ur(){}var zr=null,Fr=null;function Hr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Vr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var Yr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Yr,Xr="__reactProps$"+Yr,Qr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Zr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[Zr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Zr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Zr]||e[Qr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ii(e){return e[Xr]||null}function oi(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var si=[],ai=-1;function li(e){return{current:e}}function ui(e){0>ai||(e.current=si[ai],si[ai]=null,ai--)}function ci(e,t){ai++,si[ai]=e.current,e.current=t}var di={},hi=li(di),fi=li(!1),pi=di;function mi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ui(fi),ui(hi)}function vi(e,t,n){if(hi.current!==di)throw Error(s(168));ci(hi,t),ci(fi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,V(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,pi=hi.current,ci(hi,e),ci(fi,fi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=bi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ui(fi),ui(hi),ci(hi,e)):ui(fi),ci(fi,n)}var ki=null,_i=null,Si=o.unstable_runWithPriority,Ei=o.unstable_scheduleCallback,Ci=o.unstable_cancelCallback,Ai=o.unstable_shouldYield,Ii=o.unstable_requestPaint,Mi=o.unstable_now,ji=o.unstable_getCurrentPriorityLevel,Ti=o.unstable_ImmediatePriority,Bi=o.unstable_UserBlockingPriority,Pi=o.unstable_NormalPriority,Ni=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Li={},Oi=void 0!==Ii?Ii:function(){},Di=null,Ui=null,zi=!1,Fi=Mi(),Hi=1e4>Fi?Mi:function(){return Mi()-Fi};function Wi(){switch(ji()){case Ti:return 99;case Bi:return 98;case Pi:return 97;case Ni:return 96;case Ri:return 95;default:throw Error(s(332))}}function $i(e){switch(e){case 99:return Ti;case 98:return Bi;case 97:return Pi;case 96:return Ni;case 95:return Ri;default:throw Error(s(332))}}function Ki(e,t){return e=$i(e),Si(e,t)}function qi(e,t,n){return e=$i(e),Ei(e,t,n)}function Vi(){if(null!==Ui){var e=Ui;Ui=null,Ci(e)}Gi()}function Gi(){if(!zi&&null!==Di){zi=!0;var e=0;try{var t=Di;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Di=null}catch(n){throw null!==Di&&(Di=Di.slice(e+1)),Ei(Ti,Vi),n}finally{zi=!1}}}var Ji=x.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zi=li(null),Xi=null,Qi=null,eo=null;function to(){eo=Qi=Xi=null}function no(e){var t=Zi.current;ui(Zi),e.type._context._currentValue=t}function ro(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function io(e,t){Xi=e,eo=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ls=!0),e.firstContext=null)}function oo(e,t){if(eo!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(eo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qi){if(null===Xi)throw Error(s(308));Qi=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else Qi=Qi.next=t;return e._currentValue}var so=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function co(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var o=e.updateQueue;so=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,c=u.next;u.next=null,null===a?s=c:a.next=c,a=u;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==a&&(null===h?d.firstBaseUpdate=c:h.next=c,d.lastBaseUpdate=u)}}if(null!==s){for(h=o.baseState,a=0,d=c=u=null;;){l=s.lane;var f=s.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(l=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,l);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=m.payload)?p.call(f,h,l):p)||void 0===l)break e;h=i({},h,l);break e;case 2:so=!0}}null!==s.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[s]:l.push(s))}else f={eventTime:f,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=f,u=h):d=d.next=f,a|=l;if(null===(s=s.next)){if(null===(l=o.shared.pending))break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(u=h),o.baseState=u,o.firstBaseUpdate=c,o.lastBaseUpdate=d,Fa|=a,e.lanes=a,e.memoizedState=h}}function po(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var mo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hl(),i=fl(e),o=uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),co(e,o),pl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hl(),i=fl(e),o=uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),co(e,o),pl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hl(),r=fl(e),i=uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),co(e,i),pl(e,r,n)}};function vo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!dr(n,r)||!dr(i,o))}function bo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"===typeof o&&null!==o?o=oo(o):(i=gi(t)?pi:hi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function xo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mo,ao(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=oo(o):(o=gi(t)?pi:hi.current,i.context=mi(e,o)),fo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ko=Array.isArray;function _o(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===mo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ql(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Yl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_o(e,t,n),r.return=e,r):((r=Vl(n.type,n.key,n.props,null,e.mode,r)).ref=_o(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Gl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Vl(t.type,t.key,t.props,null,e.mode,n)).ref=_o(e,null,t),n.return=e,n;case _:return(t=Zl(t,e.mode,n)).return=e,t}if(ko(t)||H(t))return(t=Gl(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?n.type===S?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null}if(ko(n)||H(n))return null!==i?null:d(e,t,n,r,null);So(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case k:return e=e.get(null===r.key?n:r.key)||null,r.type===S?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ko(r)||H(r))return d(t,e=e.get(n)||null,r,i,null);So(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,d=s,m=s=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),s=o(y,s,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===a.length)return n(i,d),u;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(s=o(d,s,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);m<a.length;m++)null!==(g=p(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(i,e)})),u}function g(i,a,l,u){var c=H(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var d=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===d?c=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,u))&&(a=o(v,a,g),null===d?c=v:d.sibling=v,d=v);return c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,o,l){var u="object"===typeof o&&null!==o&&o.type===S&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case k:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(o.type===S){n(e,u.sibling),(r=i(u,o.props.children)).return=e,e=r;break e}}else if(u.elementType===o.type){n(e,u.sibling),(r=i(u,o.props)).ref=_o(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===S?((r=Gl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Vl(o.type,o.key,o.props,null,e.mode,l)).ref=_o(e,r,o),l.return=e,e=l)}return a(e);case _:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Zl(o,e.mode,l)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Yl(o,e.mode,l)).return=e,e=r),a(e);if(ko(o))return m(e,r,o,l);if(H(o))return g(e,r,o,l);if(c&&So(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,V(e.type)||"Component"))}return n(e,r)}}var Co=Eo(!0),Ao=Eo(!1),Io={},Mo=li(Io),jo=li(Io),To=li(Io);function Bo(e){if(e===Io)throw Error(s(174));return e}function Po(e,t){switch(ci(To,t),ci(jo,e),ci(Mo,Io),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Mo),ci(Mo,t)}function No(){ui(Mo),ui(jo),ui(To)}function Ro(e){Bo(To.current);var t=Bo(Mo.current),n=fe(t,e.type);t!==n&&(ci(jo,e),ci(Mo,n))}function Lo(e){jo.current===e&&(ui(Mo),ui(jo))}var Oo=li(0);function Do(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,zo=null,Fo=!1;function Ho(e,t){var n=$l(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Wo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function $o(e){if(Fo){var t=zo;if(t){var n=t;if(!Wo(e,t)){if(!(t=Vr(n.nextSibling))||!Wo(e,t))return e.flags=-1025&e.flags|2,Fo=!1,void(Uo=e);Ho(Uo,n)}Uo=e,zo=Vr(t.firstChild)}else e.flags=-1025&e.flags|2,Fo=!1,Uo=e}}function Ko(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function qo(e){if(e!==Uo)return!1;if(!Fo)return Ko(e),Fo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=zo;t;)Ho(e,t),t=Vr(t.nextSibling);if(Ko(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){zo=Vr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}zo=null}}else zo=Uo?Vr(e.stateNode.nextSibling):null;return!0}function Vo(){zo=Uo=null,Fo=!1}var Go=[];function Jo(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var Yo=x.ReactCurrentDispatcher,Zo=x.ReactCurrentBatchConfig,Xo=0,Qo=null,es=null,ts=null,ns=!1,rs=!1;function is(){throw Error(s(321))}function os(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ss(e,t,n,r,i,o){if(Xo=o,Qo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Bs:Ps,e=n(r,i),rs){o=0;do{if(rs=!1,!(25>o))throw Error(s(301));o+=1,ts=es=null,t.updateQueue=null,Yo.current=Ns,e=n(r,i)}while(rs)}if(Yo.current=Ts,t=null!==es&&null!==es.next,Xo=0,ts=es=Qo=null,ns=!1,t)throw Error(s(300));return e}function as(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ts?Qo.memoizedState=ts=e:ts=ts.next=e,ts}function ls(){if(null===es){var e=Qo.alternate;e=null!==e?e.memoizedState:null}else e=es.next;var t=null===ts?Qo.memoizedState:ts.next;if(null!==t)ts=t,es=e;else{if(null===e)throw Error(s(310));e={memoizedState:(es=e).memoizedState,baseState:es.baseState,baseQueue:es.baseQueue,queue:es.queue,next:null},null===ts?Qo.memoizedState=ts=e:ts=ts.next=e}return ts}function us(e,t){return"function"===typeof t?t(e):t}function cs(e){var t=ls(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=es,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,u=i;do{var c=u.lane;if((Xo&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=d,o=r):l=l.next=d,Qo.lanes|=c,Fa|=c}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=a,ur(r,t.memoizedState)||(Ls=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ds(e){var t=ls(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ur(o,t.memoizedState)||(Ls=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function hs(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=r,Go.push(t))),e)return n(t._source);throw Go.push(t),Error(s(350))}function fs(e,t,n,r){var i=Pa;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=Yo.current,u=l.useState((function(){return hs(i,t,n)})),c=u[1],d=u[0];u=ts;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,m=h.source;h=h.subscribe;var g=Qo;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=o(t._source);if(!ur(a,e)){e=n(t._source),ur(d,e)||(c(e),e=fl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-Wt(s),u=1<<l;r[l]|=e,s&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=fl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),ur(p,n)&&ur(m,t)&&ur(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:d}).dispatch=c=js.bind(null,Qo,e),u.queue=e,u.baseQueue=null,d=hs(i,t,n),u.memoizedState=u.baseState=d),d}function ps(e,t,n){return fs(ls(),e,t,n)}function ms(e){var t=as();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:e}).dispatch=js.bind(null,Qo,e),[t.memoizedState,e]}function gs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qo.updateQueue)?(t={lastEffect:null},Qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ys(e){return e={current:e},as().memoizedState=e}function vs(){return ls().memoizedState}function bs(e,t,n,r){var i=as();Qo.flags|=e,i.memoizedState=gs(1|t,n,void 0,void 0===r?null:r)}function ws(e,t,n,r){var i=ls();r=void 0===r?null:r;var o=void 0;if(null!==es){var s=es.memoizedState;if(o=s.destroy,null!==r&&os(r,s.deps))return void gs(t,n,o,r)}Qo.flags|=e,i.memoizedState=gs(1|t,n,o,r)}function xs(e,t){return bs(516,4,e,t)}function ks(e,t){return ws(516,4,e,t)}function _s(e,t){return ws(4,2,e,t)}function Ss(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Es(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ws(4,2,Ss.bind(null,t,e),n)}function Cs(){}function As(e,t){var n=ls();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Is(e,t){var n=ls();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&os(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ms(e,t){var n=Wi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Zo.transition;Zo.transition=1;try{e(!1),t()}finally{Zo.transition=n}}))}function js(e,t,n){var r=hl(),i=fl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Qo||null!==s&&s===Qo)rs=ns=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,ur(l,a))return}catch(u){}pl(e,i,r)}}var Ts={readContext:oo,useCallback:is,useContext:is,useEffect:is,useImperativeHandle:is,useLayoutEffect:is,useMemo:is,useReducer:is,useRef:is,useState:is,useDebugValue:is,useDeferredValue:is,useTransition:is,useMutableSource:is,useOpaqueIdentifier:is,unstable_isNewReconciler:!1},Bs={readContext:oo,useCallback:function(e,t){return as().memoizedState=[e,void 0===t?null:t],e},useContext:oo,useEffect:xs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bs(4,2,Ss.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bs(4,2,e,t)},useMemo:function(e,t){var n=as();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=as();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=js.bind(null,Qo,e),[r.memoizedState,e]},useRef:ys,useState:ms,useDebugValue:Cs,useDeferredValue:function(e){var t=ms(e),n=t[0],r=t[1];return xs((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=ms(!1),t=e[0];return ys(e=Ms.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=as();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fs(r,e,t,n)},useOpaqueIdentifier:function(){if(Fo){var e=!1,t=function(e){return{$$typeof:R,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(s(355))})),n=ms(t)[1];return 0===(2&Qo.mode)&&(Qo.flags|=516,gs(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return ms(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Ps={readContext:oo,useCallback:As,useContext:oo,useEffect:ks,useImperativeHandle:Es,useLayoutEffect:_s,useMemo:Is,useReducer:cs,useRef:vs,useState:function(){return cs(us)},useDebugValue:Cs,useDeferredValue:function(e){var t=cs(us),n=t[0],r=t[1];return ks((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=cs(us)[0];return[vs().current,e]},useMutableSource:ps,useOpaqueIdentifier:function(){return cs(us)[0]},unstable_isNewReconciler:!1},Ns={readContext:oo,useCallback:As,useContext:oo,useEffect:ks,useImperativeHandle:Es,useLayoutEffect:_s,useMemo:Is,useReducer:ds,useRef:vs,useState:function(){return ds(us)},useDebugValue:Cs,useDeferredValue:function(e){var t=ds(us),n=t[0],r=t[1];return ks((function(){var t=Zo.transition;Zo.transition=1;try{r(e)}finally{Zo.transition=t}}),[e]),n},useTransition:function(){var e=ds(us)[0];return[vs().current,e]},useMutableSource:ps,useOpaqueIdentifier:function(){return ds(us)[0]},unstable_isNewReconciler:!1},Rs=x.ReactCurrentOwner,Ls=!1;function Os(e,t,n,r){t.child=null===e?Ao(t,null,n,r):Co(t,e.child,n,r)}function Ds(e,t,n,r,i){n=n.render;var o=t.ref;return io(t,i),r=ss(e,t,n,r,o,i),null===e||Ls?(t.flags|=1,Os(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function Us(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!==typeof s||Kl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,zs(e,t,s,r,i,o))}return s=e.child,0===(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:dr)(i,r)&&e.ref===t.ref)?oa(e,t,o):(t.flags|=1,(e=ql(s,r)).ref=t.ref,e.return=t,t.child=e)}function zs(e,t,n,r,i,o){if(null!==e&&dr(e.memoizedProps,r)&&e.ref===t.ref){if(Ls=!1,0===(o&i))return t.lanes=e.lanes,oa(e,t,o);0!==(16384&e.flags)&&(Ls=!0)}return Ws(e,t,n,r,o)}function Fs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},kl(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},kl(t,e),null;t.memoizedState={baseLanes:0},kl(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,kl(t,r);return Os(e,t,i,n),t.child}function Hs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ws(e,t,n,r,i){var o=gi(n)?pi:hi.current;return o=mi(t,o),io(t,i),n=ss(e,t,n,r,o,i),null===e||Ls?(t.flags|=1,Os(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function $s(e,t,n,r,i){if(gi(n)){var o=!0;wi(t)}else o=!1;if(io(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),bo(t,n,r),xo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=oo(u):u=mi(t,u=gi(n)?pi:hi.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==u)&&wo(t,s,r,u),so=!1;var h=t.memoizedState;s.state=h,fo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||fi.current||so?("function"===typeof c&&(go(t,n,c,r),l=t.memoizedState),(a=so||vo(t,n,a,r,h,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4)):("function"===typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,lo(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Yi(t.type,a),s.props=u,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=oo(l):l=mi(t,l=gi(n)?pi:hi.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&wo(t,s,r,l),so=!1,h=t.memoizedState,s.state=h,fo(t,r,s,i);var p=t.memoizedState;a!==d||h!==p||fi.current||so?("function"===typeof f&&(go(t,n,f,r),p=t.memoizedState),(u=so||vo(t,n,u,r,h,p,l))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ks(e,t,n,r,o,i)}function Ks(e,t,n,r,i,o){Hs(e,t);var s=0!==(64&t.flags);if(!r&&!s)return i&&xi(t,n,!1),oa(e,t,o);r=t.stateNode,Rs.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,a,o)):Os(e,t,a,o),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function qs(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Po(e,t.containerInfo)}var Vs,Gs,Js,Ys,Zs={dehydrated:null,retryLane:0};function Xs(e,t,n){var r,i=t.pendingProps,o=Oo.current,s=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),ci(Oo,1&o),null===e?(void 0!==i.fallback&&$o(t),e=i.children,o=i.fallback,s?(e=Qs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Zs,e):"number"===typeof i.unstable_expectedLoadTime?(e=Qs(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Zs,t.lanes=33554432,e):((n=Jl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=ta(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Zs,i):(n=ea(e,t,i.children,n),t.memoizedState=null,n))}function Qs(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Jl(t,i,0,null),n=Gl(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ea(e,t,n,r){var i=e.child;return e=i.sibling,n=ql(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ta(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0===(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=ql(s,a),null!==e?r=ql(e,r):(r=Gl(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function na(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ro(e.return,t)}function ra(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function ia(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Os(e,t,r.children,n),0!==(2&(r=Oo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&na(e,n);else if(19===e.tag)na(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Oo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Do(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ra(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Do(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ra(t,!0,n,null,o,t.lastEffect);break;case"together":ra(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function oa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fa|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=ql(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ql(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function sa(e,t){if(!Fo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function aa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return No(),ui(fi),ui(hi),Jo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(qo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Gs(t),null;case 5:Lo(t);var o=Bo(To.current);if(n=t.type,null!==e&&null!=t.stateNode)Js(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Bo(Mo.current),qo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Zr]=t,r[Xr]=a,n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(e=0;e<Er.length;e++)Mr(Er[e],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":ee(r,a),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Mr("invalid",r);break;case"textarea":le(r,a),Mr("invalid",r)}for(var u in _e(n,a),e=null,a)a.hasOwnProperty(u)&&(o=a[u],"children"===u?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Mr("scroll",r));switch(n){case"input":Y(r),re(r,a,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,e===de.html&&(e=he(n)),e===de.html?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Zr]=t,e[Xr]=r,Vs(e,t,!1,!1),t.stateNode=e,u=Se(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),o=r;break;case"iframe":case"object":case"embed":Mr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Er.length;o++)Mr(Er[o],e);o=r;break;case"source":Mr("error",e),o=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),o=r;break;case"details":Mr("toggle",e),o=r;break;case"input":ee(e,r),o=Q(e,r),Mr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":le(e,r),o=ae(e,r),Mr("invalid",e);break;default:o=r}_e(n,o);var c=o;for(a in c)if(c.hasOwnProperty(a)){var d=c[a];"style"===a?xe(e,d):"dangerouslySetInnerHTML"===a?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===a?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=d&&"onScroll"===a&&Mr("scroll",e):null!=d&&w(e,a,d,u))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Ur)}Hr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ys(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=Bo(To.current),Bo(Mo.current),qo(t)?(r=t.stateNode,n=t.memoizedProps,r[Zr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=t,t.stateNode=r)}return null;case 13:return ui(Oo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&qo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Oo.current)?0===Da&&(Da=3):(0!==Da&&3!==Da||(Da=4),null===Pa||0===(134217727&Fa)&&0===(134217727&Ha)||vl(Pa,Ra))),(r||n)&&(t.flags|=4),null);case 4:return No(),Gs(t),null===e&&Tr(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(ui(Oo),null===(r=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(u=r.rendering))if(a)sa(r,!1);else{if(0!==Da||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Do(e))){for(t.flags|=64,sa(r,!1),null!==(a=u.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(Oo,1&Oo.current|2),t.child}e=e.sibling}null!==r.tail&&Hi()>qa&&(t.flags|=64,a=!0,sa(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Do(u))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),sa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Fo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Hi()-r.renderingStartTime>qa&&1073741824!==n&&(t.flags|=64,a=!0,sa(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Hi(),n.sibling=null,t=Oo.current,ci(Oo,a?1&t|2:1&t),n):null;case 23:case 24:return _l(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function la(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(No(),ui(fi),ui(hi),Jo(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return ui(Oo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Oo),null;case 4:return No(),null;case 10:return no(e),null;case 23:case 24:return _l(),null;default:return null}}function ua(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ca(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Vs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gs=function(){},Js=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Bo(Mo.current);var s,a=null;switch(n){case"input":o=Q(e,o),r=Q(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(d in _e(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var u=o[d];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(u=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(null!=c||null!=u))if("style"===d)if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Mr("scroll",e),a||u===c||(a=[])):"object"===typeof c&&null!==c&&c.$$typeof===R?c.toString():(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}},Ys=function(e,t,n,r){n!==r&&(t.flags|=4)};var da="function"===typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ya||(Ya=!0,Za=r),ca(0,t)},n}function fa(e,t,n){(n=uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ca(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xa?Xa=new Set([this]):Xa.add(this),ca(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pa="function"===typeof WeakSet?WeakSet:Set;function ma(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){zl(e,n)}else t.current=null}function ga(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo))}throw Error(s(163))}function ya(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Ol(n,e),Ll(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&po(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}po(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Hr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(s(163))}function va(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ba(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(ki,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Ol(t,n);else{r=t;try{i()}catch(o){zl(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ma(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){zl(t,o)}break;case 5:ma(t);break;case 4:Ea(e,t)}}function wa(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function xa(e){return 5===e.tag||3===e.tag||4===e.tag}function ka(e){e:{for(var t=e.return;null!==t;){if(xa(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||xa(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_a(e,n,t):Sa(e,n,t)}function _a(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function Ea(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,u=l;;)if(ba(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ba(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Ca(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Xr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?xe(n,l):"dangerouslySetInnerHTML"===a?ge(n,l):"children"===a?ye(n,l):w(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ka=Hi(),va(t.child,!0)),void Aa(t);case 19:return void Aa(t);case 23:case 24:return void va(t,null!==t.memoizedState)}throw Error(s(163))}function Aa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pa),t.forEach((function(t){var r=Hl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ia(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ma=Math.ceil,ja=x.ReactCurrentDispatcher,Ta=x.ReactCurrentOwner,Ba=0,Pa=null,Na=null,Ra=0,La=0,Oa=li(0),Da=0,Ua=null,za=0,Fa=0,Ha=0,Wa=0,$a=null,Ka=0,qa=1/0;function Va(){qa=Hi()+500}var Ga,Ja=null,Ya=!1,Za=null,Xa=null,Qa=!1,el=null,tl=90,nl=[],rl=[],il=null,ol=0,sl=null,al=-1,ll=0,ul=0,cl=null,dl=!1;function hl(){return 0!==(48&Ba)?Hi():-1!==al?al:al=Hi()}function fl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ll&&(ll=za),0!==Ji.transition){0!==ul&&(ul=null!==$a?$a.pendingLanes:0),e=ll;var t=4186112&~ul;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ba)&&98===e?e=Ut(12,ll):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function pl(e,t,n){if(50<ol)throw ol=0,sl=null,Error(s(185));if(null===(e=ml(e,t)))return null;Ht(e,t,n),e===Pa&&(Ha|=t,4===Da&&vl(e,Ra));var r=Wi();1===t?0!==(8&Ba)&&0===(48&Ba)?bl(e):(gl(e,n),0===Ba&&(Va(),Vi())):(0===(4&Ba)||98!==r&&99!==r||(null===il?il=new Set([e]):il.add(e)),gl(e,n)),$a=e}function ml(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Wt(a),u=1<<l,c=o[l];if(-1===c){if(0===(u&r)||0!==(u&i)){c=t,Lt(u);var d=Rt;o[l]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=Ot(e,e===Pa?Ra:0),t=Rt,0===r)null!==n&&(n!==Li&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Ci(n)}15===t?(n=bl.bind(null,e),null===Di?(Di=[n],Ui=Ei(Ti,Gi)):Di.push(n),n=Li):14===t?n=qi(99,bl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=qi(n,yl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yl(e){if(al=-1,ul=ll=0,0!==(48&Ba))throw Error(s(327));var t=e.callbackNode;if(Rl()&&e.callbackNode!==t)return null;var n=Ot(e,e===Pa?Ra:0);if(0===n)return null;var r=n,i=Ba;Ba|=16;var o=Cl();for(Pa===e&&Ra===r||(Va(),Sl(e,r));;)try{Ml();break}catch(l){El(e,l)}if(to(),ja.current=o,Ba=i,null!==Na?r=0:(Pa=null,Ra=0,r=Da),0!==(za&Ha))Sl(e,0);else if(0!==r){if(2===r&&(Ba|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=Dt(e))&&(r=Al(e,n))),1===r)throw t=Ua,Sl(e,0),vl(e,n),gl(e,Hi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:Bl(e);break;case 3:if(vl(e,n),(62914560&n)===n&&10<(r=Ka+500-Hi())){if(0!==Ot(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$r(Bl.bind(null,e),r);break}Bl(e);break;case 4:if(vl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-Wt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Hi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ma(n/1960))-n)){e.timeoutHandle=$r(Bl.bind(null,e),n);break}Bl(e);break;default:throw Error(s(329))}}return gl(e,Hi()),e.callbackNode===t?yl.bind(null,e):null}function vl(e,t){for(t&=~Wa,t&=~Ha,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function bl(e){if(0!==(48&Ba))throw Error(s(327));if(Rl(),e===Pa&&0!==(e.expiredLanes&Ra)){var t=Ra,n=Al(e,t);0!==(za&Ha)&&(n=Al(e,t=Ot(e,t)))}else n=Al(e,t=Ot(e,0));if(0!==e.tag&&2===n&&(Ba|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=Dt(e))&&(n=Al(e,t))),1===n)throw n=Ua,Sl(e,0),vl(e,t),gl(e,Hi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bl(e),gl(e,Hi()),null}function wl(e,t){var n=Ba;Ba|=1;try{return e(t)}finally{0===(Ba=n)&&(Va(),Vi())}}function xl(e,t){var n=Ba;Ba&=-2,Ba|=8;try{return e(t)}finally{0===(Ba=n)&&(Va(),Vi())}}function kl(e,t){ci(Oa,La),La|=t,za|=t}function _l(){La=Oa.current,ui(Oa)}function Sl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Na)for(n=Na.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:No(),ui(fi),ui(hi),Jo();break;case 5:Lo(r);break;case 4:No();break;case 13:case 19:ui(Oo);break;case 10:no(r);break;case 23:case 24:_l()}n=n.return}Pa=e,Na=ql(e.current,null),Ra=La=za=t,Da=0,Ua=null,Wa=Ha=Fa=0}function El(e,t){for(;;){var n=Na;try{if(to(),Yo.current=Ts,ns){for(var r=Qo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ns=!1}if(Xo=0,ts=es=Qo=null,rs=!1,Ta.current=null,null===n||null===n.return){Da=1,Ua=t,Na=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ra,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=0!==(1&Oo.current),h=s;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=h.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var g=h.updateQueue;if(null===g){var y=new Set;y.add(u),h.updateQueue=y}else g.add(u);if(0===(2&h.mode)){if(h.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=uo(-1,1);v.tag=2,co(a,v)}a.lanes|=1;break e}l=void 0,a=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new da,l=new Set,b.set(u,l)):void 0===(l=b.get(u))&&(l=new Set,b.set(u,l)),!l.has(a)){l.add(a);var w=Fl.bind(null,o,u,a);u.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((V(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Da&&(Da=2),l=ua(l,a),h=s;do{switch(h.tag){case 3:o=l,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,ha(0,o,t));break e;case 1:o=l;var x=h.type,k=h.stateNode;if(0===(64&h.flags)&&("function"===typeof x.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Xa||!Xa.has(k)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,fa(h,o,t));break e}}h=h.return}while(null!==h)}Tl(n)}catch(_){t=_,Na===n&&null!==n&&(Na=n=n.return);continue}break}}function Cl(){var e=ja.current;return ja.current=Ts,null===e?Ts:e}function Al(e,t){var n=Ba;Ba|=16;var r=Cl();for(Pa===e&&Ra===t||Sl(e,t);;)try{Il();break}catch(i){El(e,i)}if(to(),Ba=n,ja.current=r,null!==Na)throw Error(s(261));return Pa=null,Ra=0,Da}function Il(){for(;null!==Na;)jl(Na)}function Ml(){for(;null!==Na&&!Ai();)jl(Na)}function jl(e){var t=Ga(e.alternate,e,La);e.memoizedProps=e.pendingProps,null===t?Tl(e):Na=t,Ta.current=null}function Tl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=aa(n,t,La)))return void(Na=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&La)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=la(t)))return n.flags&=2047,void(Na=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Na=t);Na=t=e}while(null!==t);0===Da&&(Da=5)}function Bl(e){var t=Wi();return Ki(99,Pl.bind(null,e,t)),null}function Pl(e,t){do{Rl()}while(null!==el);if(0!==(48&Ba))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var u=31-Wt(o),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,o&=~c}if(null!==il&&0===(24&r)&&il.has(e)&&il.delete(e),e===Pa&&(Na=Pa=null,Ra=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ba,Ba|=32,Ta.current=null,zr=Gt,gr(a=mr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,o=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(C){l=null;break e}var d=0,h=-1,f=-1,p=0,m=0,g=a,y=null;t:for(;;){for(var v;g!==l||0!==o&&3!==g.nodeType||(h=d+o),g!==u||0!==c&&3!==g.nodeType||(f=d+c),3===g.nodeType&&(d+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===a)break t;if(y===l&&++p===o&&(h=d),y===u&&++m===c&&(f=d),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}l=-1===h||-1===f?null:{start:h,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Fr={focusedElem:a,selectionRange:l},Gt=!1,cl=null,dl=!1,Ja=r;do{try{Nl()}catch(C){if(null===Ja)throw Error(s(330));zl(Ja,C),Ja=Ja.nextEffect}}while(null!==Ja);cl=null,Ja=r;do{try{for(a=e;null!==Ja;){var b=Ja.flags;if(16&b&&ye(Ja.stateNode,""),128&b){var w=Ja.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:ka(Ja),Ja.flags&=-3;break;case 6:ka(Ja),Ja.flags&=-3,Ca(Ja.alternate,Ja);break;case 1024:Ja.flags&=-1025;break;case 1028:Ja.flags&=-1025,Ca(Ja.alternate,Ja);break;case 4:Ca(Ja.alternate,Ja);break;case 8:Ea(a,l=Ja);var k=l.alternate;wa(l),null!==k&&wa(k)}Ja=Ja.nextEffect}}catch(C){if(null===Ja)throw Error(s(330));zl(Ja,C),Ja=Ja.nextEffect}}while(null!==Ja);if(x=Fr,w=mr(),b=x.focusedElem,a=x.selectionRange,w!==b&&b&&b.ownerDocument&&pr(b.ownerDocument.documentElement,b)){null!==a&&gr(b)&&(w=a.start,void 0===(x=a.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,k=Math.min(a.start,l),a=void 0===a.end?k:Math.min(a.end,l),!x.extend&&k>a&&(l=a,a=k,k=l),l=fr(b,k),o=fr(b,a),l&&o&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),k>a?(x.addRange(w),x.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Gt=!!zr,Fr=zr=null,e.current=n,Ja=r;do{try{for(b=e;null!==Ja;){var _=Ja.flags;if(36&_&&ya(b,Ja.alternate,Ja),128&_){w=void 0;var S=Ja.ref;if(null!==S){var E=Ja.stateNode;Ja.tag,w=E,"function"===typeof S?S(w):S.current=w}}Ja=Ja.nextEffect}}catch(C){if(null===Ja)throw Error(s(330));zl(Ja,C),Ja=Ja.nextEffect}}while(null!==Ja);Ja=null,Oi(),Ba=i}else e.current=n;if(Qa)Qa=!1,el=e,tl=t;else for(Ja=r;null!==Ja;)t=Ja.nextEffect,Ja.nextEffect=null,8&Ja.flags&&((_=Ja).sibling=null,_.stateNode=null),Ja=t;if(0===(r=e.pendingLanes)&&(Xa=null),1===r?e===sl?ol++:(ol=0,sl=e):ol=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(ki,n,void 0,64===(64&n.current.flags))}catch(C){}if(gl(e,Hi()),Ya)throw Ya=!1,e=Za,Za=null,e;return 0!==(8&Ba)||Vi(),null}function Nl(){for(;null!==Ja;){var e=Ja.alternate;dl||null===cl||(0!==(8&Ja.flags)?Qe(Ja,cl)&&(dl=!0):13===Ja.tag&&Ia(e,Ja)&&Qe(Ja,cl)&&(dl=!0));var t=Ja.flags;0!==(256&t)&&ga(e,Ja),0===(512&t)||Qa||(Qa=!0,qi(97,(function(){return Rl(),null}))),Ja=Ja.nextEffect}}function Rl(){if(90!==tl){var e=97<tl?97:tl;return tl=90,Ki(e,Dl)}return!1}function Ll(e,t){nl.push(t,e),Qa||(Qa=!0,qi(97,(function(){return Rl(),null})))}function Ol(e,t){rl.push(t,e),Qa||(Qa=!0,qi(97,(function(){return Rl(),null})))}function Dl(){if(null===el)return!1;var e=el;if(el=null,0!==(48&Ba))throw Error(s(331));var t=Ba;Ba|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"===typeof a)try{a()}catch(u){if(null===o)throw Error(s(330));zl(o,u)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===o)throw Error(s(330));zl(o,u)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ba=t,Vi(),!0}function Ul(e,t,n){co(e,t=ha(0,t=ua(n,t),1)),t=hl(),null!==(e=ml(e,1))&&(Ht(e,1,t),gl(e,t))}function zl(e,t){if(3===e.tag)Ul(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ul(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xa||!Xa.has(r))){var i=fa(n,e=ua(t,e),1);if(co(n,i),i=hl(),null!==(n=ml(n,1)))Ht(n,1,i),gl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xa||!Xa.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Fl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hl(),e.pingedLanes|=e.suspendedLanes&n,Pa===e&&(Ra&n)===n&&(4===Da||3===Da&&(62914560&Ra)===Ra&&500>Hi()-Ka?Sl(e,0):Wa|=n),gl(e,t)}function Hl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ll&&(ll=za),0===(t=zt(62914560&~ll))&&(t=4194304))),n=hl(),null!==(e=ml(e,t))&&(Ht(e,t,n),gl(e,n))}function Wl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function $l(e,t,n,r){return new Wl(e,t,n,r)}function Kl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ql(e,t){var n=e.alternate;return null===n?((n=$l(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vl(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Kl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case S:return Gl(n.children,i,o,t);case L:a=8,i|=16;break;case E:a=8,i|=1;break;case C:return(e=$l(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=o,e;case j:return(e=$l(13,n,t,i)).type=j,e.elementType=j,e.lanes=o,e;case T:return(e=$l(19,n,t,i)).elementType=T,e.lanes=o,e;case O:return Jl(n,i,o,t);case D:return(e=$l(24,n,t,i)).elementType=D,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:a=10;break e;case I:a=9;break e;case M:a=11;break e;case B:a=14;break e;case P:a=16,r=null;break e;case N:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=$l(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Gl(e,t,n,r){return(e=$l(7,e,r,t)).lanes=n,e}function Jl(e,t,n,r){return(e=$l(23,e,r,t)).elementType=O,e.lanes=n,e}function Yl(e,t,n){return(e=$l(6,e,null,t)).lanes=n,e}function Zl(e,t,n){return(t=$l(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ft(0),this.expirationTimes=Ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ft(0),this.mutableSourceEagerHydrationData=null}function Ql(e,t,n,r){var i=t.current,o=hl(),a=fl(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=bi(n,u,l);break e}}n=l}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),co(i,t),pl(i,a,o),a}function eu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nu(e,t){tu(e,t),(e=e.alternate)&&tu(e,t)}function ru(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xl(e,t,null!=n&&!0===n.hydrate),t=$l(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ao(t),e[Qr]=n.current,Tr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function iu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ou(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=eu(s);a.call(e)}}Ql(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ru(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=eu(s);l.call(e)}}xl((function(){Ql(t,s,e,i)}))}return eu(s)}function su(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!iu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ga=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Ls=!0;else{if(0===(n&r)){switch(Ls=!1,t.tag){case 3:qs(t),Vo();break;case 5:Ro(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xs(e,t,n):(ci(Oo,1&Oo.current),null!==(t=oa(e,t,n))?t.sibling:null);ci(Oo,1&Oo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ia(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Oo,Oo.current),r)break;return null;case 23:case 24:return t.lanes=0,Fs(e,t,n)}return oa(e,t,n)}Ls=0!==(16384&e.flags)}else Ls=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),io(t,n),i=ss(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ao(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&go(t,r,a,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,xo(t,r,e,n),t=Ks(null,t,r,!0,o,n)}else t.tag=0,Os(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Kl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===M)return 11;if(e===B)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=Ws(null,t,i,e,n);break e;case 1:t=$s(null,t,i,e,n);break e;case 11:t=Ds(null,t,i,e,n);break e;case 14:t=Us(null,t,i,Yi(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ws(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,$s(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(qs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),fo(t,r,null,n),(r=t.memoizedState.element)===i)Vo(),t=oa(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(zo=Vr(t.stateNode.containerInfo.firstChild),Uo=t,o=Fo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(n=Ao(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Os(e,t,r,n),Vo();t=t.child}return t;case 5:return Ro(t),null===e&&$o(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,Wr(r,i)?a=null:null!==o&&Wr(r,o)&&(t.flags|=16),Hs(e,t),Os(e,t,a,n),t.child;case 6:return null===e&&$o(t),null;case 13:return Xs(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Co(t,null,r,n):Os(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ds(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Os(e,t,t.pendingProps,n),t.child;case 8:case 12:return Os(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var l=t.type._context;if(ci(Zi,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0===(o=ur(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!fi.current){t=oa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!==(c.observedBits&o)){1===l.tag&&((c=uo(-1,n&-n)).tag=2,co(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),ro(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Os(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,io(t,n),r=r(i=oo(i,o.unstable_observedBits)),t.flags|=1,Os(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Us(e,t,i,o=Yi(i.type,o),r,n);case 15:return zs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,io(t,n),bo(t,r,i),xo(t,r,i,n),Ks(null,t,r,!0,e,n);case 19:return ia(e,t,n);case 23:case 24:return Fs(e,t,n)}throw Error(s(156,t.tag))},ru.prototype.render=function(e){Ql(e,this._internalRoot,null,null)},ru.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ql(null,e,null,(function(){t[Qr]=null}))},et=function(e){13===e.tag&&(pl(e,4,hl()),nu(e,4))},tt=function(e){13===e.tag&&(pl(e,67108864,hl()),nu(e,67108864))},nt=function(e){if(13===e.tag){var t=hl(),n=fl(e);pl(e,n,t),nu(e,n)}},rt=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(s(90));Z(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Be=wl,Pe=function(e,t,n,r,i){var o=Ba;Ba|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Ba=o)&&(Va(),Vi())}},Ne=function(){0===(49&Ba)&&(function(){if(null!==il){var e=il;il=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gl(e,Hi())}))}Vi()}(),Rl())},Re=function(e,t){var n=Ba;Ba|=2;try{return e(t)}finally{0===(Ba=n)&&(Va(),Vi())}};var au={Events:[ni,ri,ii,je,Te,Rl,{current:!1}]},lu={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uu={bundleType:lu.bundleType,version:lu.version,rendererPackageName:lu.rendererPackageName,rendererConfig:lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:lu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{ki=cu.inject(uu),_i=cu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=au,t.createPortal=su,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ba;if(0!==(48&n))return e(t);Ba|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Ba=n,Vi()}},t.hydrate=function(e,t,n){if(!iu(t))throw Error(s(200));return ou(null,e,t,!0,n)},t.render=function(e,t,n){if(!iu(t))throw Error(s(200));return ou(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!iu(e))throw Error(s(40));return!!e._reactRootContainer&&(xl((function(){ou(null,null,e,!1,(function(){e._reactRootContainer=null,e[Qr]=null}))})),!0)},t.unstable_batchedUpdates=wl,t.unstable_createPortal=function(e,t){return su(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!iu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ou(e,t,n,!1,r)},t.version="17.0.2"},1168:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},5918:(e,t,n)=>{"use strict";n(1843);var r=n(7313),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.jsx=u,t.jsxs=u},306:(e,t,n)=>{"use strict";var r=n(1843),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),s=d("react.provider"),a=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),c=d("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=v.prototype=new y;b.constructor=v,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,r)&&!k.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return s=s(l=e),e=""===r?"."+C(l,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),A(s,t,n,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+C(a=e[u],u);l+=A(a,t,n,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=A(a=a.value,t,n,c=r+C(a,u++),s);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var j={current:null};function T(){var e=j.current;if(null===e)throw Error(f(321));return e}var B={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var o=r({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!k.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return T().useCallback(e,t)},t.useContext=function(e,t){return T().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return T().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return T().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return T().useLayoutEffect(e,t)},t.useMemo=function(e,t){return T().useMemo(e,t)},t.useReducer=function(e,t,n){return T().useReducer(e,t,n)},t.useRef=function(e){return T().useRef(e)},t.useState=function(e){return T().useState(e)},t.version="17.0.2"},7313:(e,t,n)=>{"use strict";e.exports=n(306)},6417:(e,t,n)=>{"use strict";e.exports=n(5918)},3073:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new i(r,o||e,s),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,s=new Array(o);i<o;i++)s[i]=r[i].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,i,o,s){var a=n?n+e:e;if(!this._events[a])return!1;var l,u,c=this._events[a],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,s),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||r&&a.context!==r||s(this,o);else{for(var l=0,u=[],c=a.length;l<c;l++)(a[l].fn!==t||i&&!a[l].once||r&&a[l].context!==r)&&u.push(a[l]);u.length?this._events[o]=1===u.length?u[0]:u:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},5734:(e,t,n)=>{var r=n(918),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},3095:(e,t)=>{"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,d=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(n){throw setTimeout(d,0),n}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(d,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+v;try{g(!0,e)?x.postMessage(null):(m=!1,g=null)}catch(n){throw x.postMessage(null),n}}else m=!1},n=function(e){g=e,m||(m=!0,x.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){f(y),y=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>E(s,n))void 0!==l&&0>E(l,s)?(e[r]=l,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>E(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],A=[],I=1,M=null,j=3,T=!1,B=!1,P=!1;function N(e){for(var t=_(A);null!==t;){if(null===t.callback)S(A);else{if(!(t.startTime<=e))break;S(A),t.sortIndex=t.expirationTime,k(C,t)}t=_(A)}}function R(e){if(P=!1,N(e),!B)if(null!==_(C))B=!0,n(L);else{var t=_(A);null!==t&&r(R,t.startTime-e)}}function L(e,n){B=!1,P&&(P=!1,i()),T=!0;var o=j;try{for(N(n),M=_(C);null!==M&&(!(M.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=M.callback;if("function"===typeof s){M.callback=null,j=M.priorityLevel;var a=s(M.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?M.callback=a:M===_(C)&&S(C),N(n)}else S(C);M=_(C)}if(null!==M)var l=!0;else{var u=_(A);null!==u&&r(R,u.startTime-n),l=!1}return l}finally{M=null,j=o,T=!1}}var O=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){B||T||(B=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return _(C)},t.unstable_next=function(e){switch(j){case 1:case 2:case 3:var t=3;break;default:t=j}var n=j;j=t;try{return e()}finally{j=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=O,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=j;j=e;try{return t()}finally{j=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:I++,callback:o,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,k(A,e),null===_(C)&&e===_(A)&&(P?i():P=!0,r(R,s-a))):(e.sortIndex=l,k(C,e),B||T||(B=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=j;return function(){var n=j;j=t;try{return e.apply(this,arguments)}finally{j=n}}}},2224:(e,t,n)=>{"use strict";e.exports=n(3095)},6125:function(e){"use strict";!function(t){const n=2147483647;function r(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let n=1779033703,r=3144134277,i=1013904242,o=2773480762,s=1359893119,a=2600822924,l=528734635,u=1541459225;const c=new Uint32Array(64);function d(e){let d=0,h=e.length;for(;h>=64;){let f,p,m,g,y,v=n,b=r,w=i,x=o,k=s,_=a,S=l,E=u;for(p=0;p<16;p++)m=d+4*p,c[p]=(255&e[m])<<24|(255&e[m+1])<<16|(255&e[m+2])<<8|255&e[m+3];for(p=16;p<64;p++)f=c[p-2],g=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,f=c[p-15],y=(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3,c[p]=(g+c[p-7]|0)+(y+c[p-16]|0)|0;for(p=0;p<64;p++)g=(((k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&_^~k&S)|0)+(E+(t[p]+c[p]|0)|0)|0,y=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&b^v&w^b&w)|0,E=S,S=_,_=k,k=x+g|0,x=w,w=b,b=v,v=g+y|0;n=n+v|0,r=r+b|0,i=i+w|0,o=o+x|0,s=s+k|0,a=a+_|0,l=l+S|0,u=u+E|0,d+=64,h-=64}}d(e);let h,f=e.length%64,p=e.length/536870912|0,m=e.length<<3,g=f<56?56:120,y=e.slice(e.length-f,e.length);for(y.push(128),h=f+1;h<g;h++)y.push(0);return y.push(p>>>24&255),y.push(p>>>16&255),y.push(p>>>8&255),y.push(p>>>0&255),y.push(m>>>24&255),y.push(m>>>16&255),y.push(m>>>8&255),y.push(m>>>0&255),d(y),[n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,l>>>24&255,l>>>16&255,l>>>8&255,l>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255]}function i(e,t,n){e=e.length<=64?e:r(e);const i=64+t.length+4,o=new Array(i),s=new Array(64);let a,l=[];for(a=0;a<64;a++)o[a]=54;for(a=0;a<e.length;a++)o[a]^=e[a];for(a=0;a<t.length;a++)o[64+a]=t[a];for(a=i-4;a<i;a++)o[a]=0;for(a=0;a<64;a++)s[a]=92;for(a=0;a<e.length;a++)s[a]^=e[a];function u(){for(let e=i-1;e>=i-4;e--){if(o[e]++,o[e]<=255)return;o[e]=0}}for(;n>=32;)u(),l=l.concat(r(s.concat(r(o)))),n-=32;return n>0&&(u(),l=l.concat(r(s.concat(r(o))).slice(0,n))),l}function o(e,t,n,r,i){let o;for(u(e,16*(2*n-1),i,0,16),o=0;o<2*n;o++)l(e,16*o,i,16),a(i,r),u(i,0,e,t+16*o,16);for(o=0;o<n;o++)u(e,t+2*o*16,e,16*o,16);for(o=0;o<n;o++)u(e,t+16*(2*o+1),e,16*(o+n),16)}function s(e,t){return e<<t|e>>>32-t}function a(e,t){u(e,0,t,0,16);for(let n=8;n>0;n-=2)t[4]^=s(t[0]+t[12],7),t[8]^=s(t[4]+t[0],9),t[12]^=s(t[8]+t[4],13),t[0]^=s(t[12]+t[8],18),t[9]^=s(t[5]+t[1],7),t[13]^=s(t[9]+t[5],9),t[1]^=s(t[13]+t[9],13),t[5]^=s(t[1]+t[13],18),t[14]^=s(t[10]+t[6],7),t[2]^=s(t[14]+t[10],9),t[6]^=s(t[2]+t[14],13),t[10]^=s(t[6]+t[2],18),t[3]^=s(t[15]+t[11],7),t[7]^=s(t[3]+t[15],9),t[11]^=s(t[7]+t[3],13),t[15]^=s(t[11]+t[7],18),t[1]^=s(t[0]+t[3],7),t[2]^=s(t[1]+t[0],9),t[3]^=s(t[2]+t[1],13),t[0]^=s(t[3]+t[2],18),t[6]^=s(t[5]+t[4],7),t[7]^=s(t[6]+t[5],9),t[4]^=s(t[7]+t[6],13),t[5]^=s(t[4]+t[7],18),t[11]^=s(t[10]+t[9],7),t[8]^=s(t[11]+t[10],9),t[9]^=s(t[8]+t[11],13),t[10]^=s(t[9]+t[8],18),t[12]^=s(t[15]+t[14],7),t[13]^=s(t[12]+t[15],9),t[14]^=s(t[13]+t[12],13),t[15]^=s(t[14]+t[13],18);for(let n=0;n<16;++n)e[n]+=t[n]}function l(e,t,n,r){for(let i=0;i<r;i++)n[i]^=e[t+i]}function u(e,t,n,r,i){for(;i--;)n[r++]=e[t++]}function c(e){if(!e||"number"!==typeof e.length)return!1;for(let t=0;t<e.length;t++){const n=e[t];if("number"!==typeof n||n%1||n<0||n>=256)return!1}return!0}function d(e,t){if("number"!==typeof e||e%1)throw new Error("invalid "+t);return e}function h(e,t,r,s,a,h,f){if(r=d(r,"N"),s=d(s,"r"),a=d(a,"p"),h=d(h,"dkLen"),0===r||0!==(r&r-1))throw new Error("N must be power of 2");if(r>n/128/s)throw new Error("N too large");if(s>n/128/a)throw new Error("r too large");if(!c(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!c(t))throw new Error("salt must be an array or buffer");t=Array.prototype.slice.call(t);let p=i(e,t,128*a*s);const m=new Uint32Array(32*a*s);for(let n=0;n<m.length;n++){const e=4*n;m[n]=(255&p[e+3])<<24|(255&p[e+2])<<16|(255&p[e+1])<<8|(255&p[e+0])<<0}const g=new Uint32Array(64*s),y=new Uint32Array(32*s*r),v=32*s,b=new Uint32Array(16),w=new Uint32Array(16),x=a*r*2;let k,_,S=0,E=null,C=!1,A=0,I=0;const M=f?parseInt(1e3/s):4294967295,j="undefined"!==typeof setImmediate?setImmediate:setTimeout,T=function(){if(C)return f(new Error("cancelled"),S/x);let t;switch(A){case 0:_=32*I*s,u(m,_,g,0,v),A=1,k=0;case 1:t=r-k,t>M&&(t=M);for(let e=0;e<t;e++)u(g,0,y,(k+e)*v,v),o(g,v,s,b,w);if(k+=t,S+=t,f){const e=parseInt(1e3*S/x);if(e!==E){if(C=f(null,S/x),C)break;E=e}}if(k<r)break;k=0,A=2;case 2:t=r-k,t>M&&(t=M);for(let e=0;e<t;e++){const e=g[16*(2*s-1)]&r-1;l(y,e*v,g,v),o(g,v,s,b,w)}if(k+=t,S+=t,f){const e=parseInt(1e3*S/x);if(e!==E){if(C=f(null,S/x),C)break;E=e}}if(k<r)break;if(u(g,0,m,_,v),I++,I<a){A=0;break}p=[];for(let e=0;e<m.length;e++)p.push(m[e]>>0&255),p.push(m[e]>>8&255),p.push(m[e]>>16&255),p.push(m[e]>>24&255);const n=i(e,p,h);return f&&f(null,1,n),n}f&&j(T)};if(!f)for(;;){const e=T();if(void 0!=e)return e}T()}const f={scrypt:function(e,t,n,r,i,o,s){return new Promise((function(a,l){let u=0;s&&s(0),h(e,t,n,r,i,o,(function(e,t,n){if(e)l(e);else if(n)s&&1!==u&&s(1),a(new Uint8Array(n));else if(s&&t!==u)return u=t,s(t)}))}))},syncScrypt:function(e,t,n,r,i,o){return new Uint8Array(h(e,t,n,r,i,o))}};e.exports=f}()},2363:(e,t,n)=>{"use strict";var r;n.d(t,{v4:()=>d});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(e){return"string"===typeof e&&s.test(e)};for(var l=[],u=0;u<256;++u)l.push((u+256).toString(16).substr(1));const c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n};const d=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return c(r)}},1916:(e,t,n)=>{!function(e){"use strict";e.exports.is_uri=n,e.exports.is_http_uri=r,e.exports.is_https_uri=i,e.exports.is_web_uri=o,e.exports.isUri=n,e.exports.isHttpUri=r,e.exports.isHttpsUri=i,e.exports.isWebUri=o;var t=function(e){return e.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function n(e){if(e&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(e)&&!/%[^0-9a-f]/i.test(e)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(e)){var n,r,i,o,s,a="",l="";if(a=(n=t(e))[1],r=n[2],i=n[3],o=n[4],s=n[5],a&&a.length&&i.length>=0){if(r&&r.length){if(0!==i.length&&!/^\//.test(i))return}else if(/^\/\//.test(i))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(a.toLowerCase()))return l+=a+":",r&&r.length&&(l+="//"+r),l+=i,o&&o.length&&(l+="?"+o),s&&s.length&&(l+="#"+s),l}}}function r(e,r){if(n(e)){var i,o,s,a,l="",u="",c="",d="";if(l=(i=t(e))[1],u=i[2],o=i[3],s=i[4],a=i[5],l){if(r){if("https"!=l.toLowerCase())return}else if("http"!=l.toLowerCase())return;if(u)return/:(\d+)$/.test(u)&&(c=u.match(/:(\d+)$/)[0],u=u.replace(/:\d+$/,"")),d+=l+":",d+="//"+u,c&&(d+=c),d+=o,s&&s.length&&(d+="?"+s),a&&a.length&&(d+="#"+a),d}}}function i(e){return r(e,!0)}function o(e){return r(e)||i(e)}}(e=n.nmd(e))},8848:()=>{},6601:()=>{},2480:()=>{},6261:(e,t,n)=>{"use strict";function r(e,t,n){return t<=e&&e<=n}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}n.r(t),n.d(t,{TextDecoder:()=>u,TextEncoder:()=>c});function o(e){this.tokens=[].slice.call(e)}o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var s=-1;function a(e,t){if(e)throw TypeError("Decoder error");return t||65533}var l="utf-8";function u(e,t){if(!(this instanceof u))return new u(e,t);if((e=void 0!==e?String(e).toLowerCase():l)!==l)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():l)!==l)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function d(e){var t=e.fatal,n=0,i=0,o=0,l=128,u=191;this.handler=function(e,c){if(-1===c&&0!==o)return o=0,a(t);if(-1===c)return s;if(0===o){if(r(c,0,127))return c;if(r(c,194,223))o=1,n=c-192;else if(r(c,224,239))224===c&&(l=160),237===c&&(u=159),o=2,n=c-224;else{if(!r(c,240,244))return a(t);240===c&&(l=144),244===c&&(u=143),o=3,n=c-240}return n<<=6*o,null}if(!r(c,l,u))return n=o=i=0,l=128,u=191,e.prepend(c),a(t);if(l=128,u=191,n+=c-128<<6*(o-(i+=1)),i!==o)return null;var d=n;return n=o=i=0,d}}function h(e){e.fatal;this.handler=function(e,t){if(-1===t)return s;if(r(t,0,127))return t;var n,i;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var o=[(t>>6*n)+i];n>0;){var a=t>>6*(n-1);o.push(128|63&a),n-=1}return o}}u.prototype={decode:function(e,t){var n;n="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new d({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var r,a=new o(n),l=[];!a.endOfStream()&&(r=this._decoder.handler(a,a.read()))!==s;)null!==r&&(Array.isArray(r)?l.push.apply(l,r):l.push(r));if(!this._streaming){do{if((r=this._decoder.handler(a,a.read()))===s)break;null!==r&&(Array.isArray(r)?l.push.apply(l,r):l.push(r))}while(!a.endOfStream());this._decoder=null}return l.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===l[0]?(this._BOMseen=!0,l.shift()):this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(l)}},c.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new h(this._options)),this._streaming=Boolean(t.stream);for(var n,r=[],a=new o(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var o=t.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var s=e.charCodeAt(r+1);if(56320<=s&&s<=57343){var a=1023&o,l=1023&s;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}(e));!a.endOfStream()&&(n=this._encoder.handler(a,a.read()))!==s;)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;(n=this._encoder.handler(a,a.read()))!==s;)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".33354ceb.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="@meow/web:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],u=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunk_meow_web=self.webpackChunk_meow_web||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{Fy:()=>hl,uw:()=>Ya,gk:()=>Ja,Dd:()=>fl,dQ:()=>pl,ci:()=>Xa,bytesToNumberBE:()=>il,ty:()=>ol,eV:()=>ul,n$:()=>yl,ql:()=>ll,hexToBytes:()=>rl,Z2:()=>dl,_t:()=>Ga,H9:()=>wl,tL:()=>sl,S5:()=>al,uz:()=>Qa,FF:()=>bl});const t=e=>{e&&e instanceof Function&&n.e(27).then(n.bind(n,4027)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))};var r,i=n(7313),o=n.t(i,2),s=n(1168),a=n.t(s,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,t,n,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,a=o.history,d=r.Pop,m=null,g=y();function y(){return(a.state||{idx:null}).idx}function v(){d=r.Pop;let e=y(),t=null==e?null:e-g;g=e,m&&m({action:d,location:w.location,delta:t})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:p(e);return c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(l({},a.state,{idx:g}),""));let w={get action(){return d},get location(){return e(o,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(u,v),m=e,()=>{o.removeEventListener(u,v),m=null}},createHref:e=>t(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d=r.Push;let i=f(w.location,e,t);n&&n(i,e),g=y()+1;let l=h(i,g),u=w.createHref(i);try{a.pushState(l,"",u)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;o.location.assign(u)}s&&m&&m({action:d,location:w.location,delta:1})},replace:function(e,t){d=r.Replace;let i=f(w.location,e,t);n&&n(i,e),g=y();let o=h(i,g),l=w.createHref(i);a.replaceState(o,"",l),s&&m&&m({action:d,location:w.location,delta:0})},go:e=>a.go(e)};return w}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){void 0===n&&(n="/");let r=B(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s)o=M(i[s],T(r));return o}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=L([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),b(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:I(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=w(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:\w+$/,k=3,_=2,S=1,E=10,C=-2,A=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(A)&&(r+=C),t&&(r+=_),n.filter((e=>!A(e))).reduce(((e,t)=>e+(x.test(t)?k:""===t?S:E)),r)}function M(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=j({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!u)return null;Object.assign(r,u.params);let c=e.route;o.push({params:r,pathname:L([i,u.pathname]),pathnameBase:O(L([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=L([i,u.pathnameBase]))}return o}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return d(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function T(e){try{return decodeURI(e)}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function B(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function N(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=l({},e),c(!i.pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),P("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}o="/"+e.join("/")}else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:D(r),hash:U(i)}}(i,o),d=a&&"/"!==a&&a.endsWith("/"),h=(s||"."===a)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),D=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const F=["post","put","patch","delete"],H=(new Set(F),["get",...F]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const $=i.createContext(null);const K=i.createContext(null);const q=i.createContext(null);const V=i.createContext(null);const G=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Y(){return null!=i.useContext(V)}function Z(){return Y()||c(!1),i.useContext(V).location}function X(e){i.useContext(q).static||i.useLayoutEffect(e)}function Q(){let{isDataRoute:e}=i.useContext(G);return e?function(){let{router:e}=le(se.UseNavigateStable),t=ce(ae.UseNavigateStable),n=i.useRef(!1);X((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t]);return r}():function(){Y()||c(!1);let e=i.useContext($),{basename:t,navigator:n}=i.useContext(q),{matches:r}=i.useContext(G),{pathname:o}=Z(),s=JSON.stringify(N(r).map((e=>e.pathnameBase))),a=i.useRef(!1);X((()=>{a.current=!0}));let l=i.useCallback((function(r,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof r)return void n.go(r);let l=R(r,JSON.parse(s),o,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:L([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[t,n,s,o,e]);return l}()}function ee(e,t,n){Y()||c(!1);let{navigator:o}=i.useContext(q),{matches:s}=i.useContext(G),a=s[s.length-1],l=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let d,h=Z();if(t){var f;let e="string"===typeof t?m(t):t;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),d=e}else d=h;let p=d.pathname||"/",g=v(e,{pathname:"/"===u?p:p.slice(u.length)||"/"});let y=oe(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:L([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:L([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n);return t&&y?i.createElement(V.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:r.Pop}},y):y}function te(){let e=function(){var e;let t=i.useContext(J),n=ue(ae.UseRouteError),r=ce(ae.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:o},n):null,null)}const ne=i.createElement(te,null);class re extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?i.createElement(G.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ie(e){let{routeContext:t,match:n,children:r}=e,o=i.useContext($);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(G.Provider,{value:t},r)}function oe(e,t,n){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let s=e,a=null==(r=n)?void 0:r.errors;if(null!=a){let e=s.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||c(!1),s=s.slice(0,Math.min(s.length,e+1))}return s.reduceRight(((e,r,o)=>{let l=r.route.id?null==a?void 0:a[r.route.id]:null,u=null;n&&(u=r.route.errorElement||ne);let c=t.concat(s.slice(0,o+1)),d=()=>{let t;return t=l?u:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ie,{match:r,routeContext:{outlet:e,matches:c,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?i.createElement(re,{location:n.location,revalidation:n.revalidation,component:u,error:l,children:d(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):d()}),null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),ae=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ae||{});function le(e){let t=i.useContext($);return t||c(!1),t}function ue(e){let t=i.useContext(K);return t||c(!1),t}function ce(e){let t=function(e){let t=i.useContext(G);return t||c(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}o.startTransition;function de(e){c(!1)}function he(e){let{basename:t="/",children:n=null,location:o,navigationType:s=r.Pop,navigator:a,static:l=!1}=e;Y()&&c(!1);let u=t.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:u,navigator:a,static:l})),[u,a,l]);"string"===typeof o&&(o=m(o));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:y="default"}=o,v=i.useMemo((()=>{let e=B(h,u);return null==e?null:{location:{pathname:e,search:f,hash:p,state:g,key:y},navigationType:s}}),[u,h,f,p,g,y,s]);return null==v?null:i.createElement(q.Provider,{value:d},i.createElement(V.Provider,{children:n,value:v}))}function fe(e){let{children:t,location:n}=e;return ee(pe(t),n)}new Promise((()=>{}));i.Component;function pe(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let o=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,pe(e.props.children,o));e.type!==de&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=pe(e.props.children,o)),n.push(s)})),n}function me(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);new Map;const ge=o.startTransition;a.flushSync;function ye(e){let{basename:t,children:n,future:r,window:o}=e,s=i.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,a)));let l=s.current,[u,c]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=i.useCallback((e=>{d&&ge?ge((()=>c(e))):c(e)}),[c,d]);return i.useLayoutEffect((()=>l.listen(h)),[l,h]),i.createElement(he,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ve,be;function we(e){let t=i.useRef(me(e)),n=i.useRef(!1),r=Z(),o=i.useMemo((()=>function(e,t){let n=me(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),s=Q(),a=i.useCallback(((e,t)=>{const r=me("function"===typeof e?e(o):e);n.current=!0,s("?"+r,t)}),[s,o]);return[o,a]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ve||(ve={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(be||(be={}));let xe=!1,ke=!1;const _e={debug:1,default:2,info:2,warning:3,error:4,off:5};let Se=_e.default,Ee=null;const Ce=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var Ae,Ie;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Ae||(Ae={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(Ie||(Ie={}));const Me="0123456789abcdef";class je{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==_e[n]&&this.throwArgumentError("invalid log level name","logLevel",e),Se>_e[n]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(je.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(je.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(je.levels.WARNING,t)}makeError(e,t,n){if(ke)return this.makeError("censored error",t,{});t||(t=je.errors.UNKNOWN_ERROR),n||(n={});const r=[];Object.keys(n).forEach((e=>{const t=n[e];try{if(t instanceof Uint8Array){let n="";for(let e=0;e<t.length;e++)n+=Me[t[e]>>4],n+=Me[15&t[e]];r.push(e+"=Uint8Array(0x"+n+")")}else r.push(e+"="+JSON.stringify(t))}catch(s){r.push(e+"="+JSON.stringify(n[e].toString()))}})),r.push(`code=${t}`),r.push(`version=${this.version}`);const i=e;let o="";switch(t){case Ie.NUMERIC_FAULT:{o="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":o+="-"+t;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Ie.CALL_EXCEPTION:case Ie.INSUFFICIENT_FUNDS:case Ie.MISSING_NEW:case Ie.NONCE_EXPIRED:case Ie.REPLACEMENT_UNDERPRICED:case Ie.TRANSACTION_REPLACED:case Ie.UNPREDICTABLE_GAS_LIMIT:o=t}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),r.length&&(e+=" ("+r.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(n).forEach((function(e){s[e]=n[e]})),s}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,je.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,r){e||this.throwError(t,n,r)}assertArgument(e,t,n,r){e||this.throwArgumentError(t,n,r)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),Ce&&this.throwError("platform missing String.prototype.normalize",je.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ce})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,je.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,je.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n=n?": "+n:"",e<t&&this.throwError("missing argument"+n,je.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,je.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",je.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",je.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",je.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Ee||(Ee=new je("logger/5.7.0")),Ee}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",je.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),xe){if(!e)return;this.globalLogger().throwError("error censorship permanent",je.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ke=!!e,xe=!!t}static setLogLevel(e){const t=_e[e.toLowerCase()];null!=t?Se=t:je.globalLogger().warn("invalid log level - "+e)}static from(e){return new je(e)}}je.errors=Ie,je.levels=Ae;const Te=new je("bytes/5.7.0");function Be(e){return!!e.toHexString}function Pe(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Pe(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Ne(e){return ze(e)&&!(e.length%2)||Le(e)}function Re(e){return"number"===typeof e&&e==e&&e%1===0}function Le(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Re(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(!Re(n)||n<0||n>=256)return!1}return!0}function Oe(e,t){if(t||(t={}),"number"===typeof e){Te.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Pe(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Be(e)&&(e=e.toHexString()),ze(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0"+n:"right"===t.hexPad?n+="0":Te.throwArgumentError("hex data is odd-length","value",e));const r=[];for(let e=0;e<n.length;e+=2)r.push(parseInt(n.substring(e,e+2),16));return Pe(new Uint8Array(r))}return Le(e)?Pe(new Uint8Array(e)):Te.throwArgumentError("invalid arrayify value","value",e)}function De(e){const t=e.map((e=>Oe(e))),n=t.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(n);return t.reduce(((e,t)=>(r.set(t,e),e+t.length)),0),Pe(r)}function Ue(e){let t=Oe(e);if(0===t.length)return t;let n=0;for(;n<t.length&&0===t[n];)n++;return n&&(t=t.slice(n)),t}function ze(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const Fe="0123456789abcdef";function He(e,t){if(t||(t={}),"number"===typeof e){Te.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=Fe[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Be(e))return e.toHexString();if(ze(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":Te.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Le(e)){let t="0x";for(let n=0;n<e.length;n++){let r=e[n];t+=Fe[(240&r)>>4]+Fe[15&r]}return t}return Te.throwArgumentError("invalid hexlify value","value",e)}function We(e){if("string"!==typeof e)e=He(e);else if(!ze(e)||e.length%2)return null;return(e.length-2)/2}function $e(e,t,n){return"string"!==typeof e?e=He(e):(!ze(e)||e.length%2)&&Te.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=n?"0x"+e.substring(t,2+2*n):"0x"+e.substring(t)}function Ke(e){let t="0x";return e.forEach((e=>{t+=He(e).substring(2)})),t}function qe(e,t){for("string"!==typeof e?e=He(e):ze(e)||Te.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Te.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function Ve(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ne(e)){let n=Oe(e);64===n.length?(t.v=27+(n[32]>>7),n[32]&=127,t.r=He(n.slice(0,32)),t.s=He(n.slice(32,64))):65===n.length?(t.r=He(n.slice(0,32)),t.s=He(n.slice(32,64)),t.v=n[64]):Te.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:Te.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(n[32]|=128),t._vs=He(n.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const n=function(e,t){(e=Oe(e)).length>t&&Te.throwArgumentError("value out of range","value",arguments[0]);const n=new Uint8Array(t);return n.set(e,t-e.length),Pe(n)}(Oe(t._vs),32);t._vs=He(n);const r=n[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=r:t.recoveryParam!==r&&Te.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;const i=He(n);null==t.s?t.s=i:t.s!==i&&Te.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?Te.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const n=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==n&&Te.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&ze(t.r)?t.r=qe(t.r,32):Te.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&ze(t.s)?t.s=qe(t.s,32):Te.throwArgumentError("signature missing or invalid s","signature",e);const n=Oe(t.s);n[0]>=128&&Te.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(n[0]|=128);const r=He(n);t._vs&&(ze(t._vs)||Te.throwArgumentError("signature invalid _vs","signature",e),t._vs=qe(t._vs,32)),null==t._vs?t._vs=r:t._vs!==r&&Te.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function Ge(e){return He(De([(e=Ve(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}const Je=new je("random/5.7.0");const Ye=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();let Ze=Ye.crypto||Ye.msCrypto;function Xe(e){(e<=0||e>1024||e%1||e!=e)&&Je.throwArgumentError("invalid length","length",e);const t=new Uint8Array(e);return Ze.getRandomValues(t),Oe(t)}Ze&&Ze.getRandomValues||(Je.warn("WARNING: Missing strong random number source"),Ze={getRandomValues:function(e){return Je.throwError("no secure random source avaialble",je.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});const Qe=(e,t)=>{let{onClick:n}=t;const r=(0,i.useCallback)((e=>e.preventDefault()),[]),o=(0,i.useCallback)((e=>e.preventDefault()),[]),s=(0,i.useCallback)((e=>e.preventDefault()),[]),a=(0,i.useCallback)((e=>e.preventDefault()),[]),l=(0,i.useCallback)((e=>{e.stopPropagation(),n()}),[n]);(0,i.useEffect)((()=>{if(null==e.current)return;const t=e.current;return t.addEventListener("touchstart",r,{passive:!1}),t.addEventListener("touchend",o,{passive:!1}),t.addEventListener("touchmove",s,{passive:!1}),t.addEventListener("touchcancel",a,{passive:!1}),t.addEventListener("click",l,{passive:!1}),()=>{t.removeEventListener("touchstart",r),t.removeEventListener("touchend",o),t.removeEventListener("touchmove",s),t.removeEventListener("touchcancel",a),t.removeEventListener("click",l)}}),[e,r,o,s,a,l])},et=(e,t,n)=>{(0,i.useEffect)((()=>{null!=e.current&&e.current.style.setProperty(t,n)}),[e,t,n])};var tt=n(2984),nt=n.n(tt),rt=n(6125),it=n.n(rt);let ot=Math.floor(Date.now()/1e5);setInterval((()=>{ot=Math.floor(Date.now()/1e5)}),2e4);const st=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),at=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e.slice(0,2+t)+"..."+e.slice(-t)},lt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;return e.slice(0,t)+"..."+e.slice(-t)},ut=e=>""===e.replace(/^\s+/,"").replace(/\s+$/,""),ct=e=>e.replace(/^\s+/g,""),dt=e=>"string"==typeof e&&(!Number.isNaN(e)&&!Number.isNaN(parseFloat(e))),ht=e=>`!${e.slice(0,7)}`,ft=e=>{const t=[];for(let n=0;n<e.length;n+=2)t.push(parseInt(e.substring(n,n+2),16));return t},pt=e=>{const t=[];for(let n=0;n<e.length;n++){const r=e[n]<0?e[n]+256:e[n];t.push((r>>>4).toString(16)),t.push((15&r).toString(16))}return t.join("")},mt=(e,t)=>null!=e&&null!=t&&e.toLowerCase()===t.toLowerCase(),gt=(e,t)=>{const n=e.indexOf(t),r=n+t.length-1;if(-1===n)return[e];return[e.slice(0,n),e.slice(r+1)]},yt=e=>{const t=65535&(e=>{let t=0;if(0===e.length)return t;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t),t&=t;return t})(e);e=t.toString(16);const n=Math.pow(16,e.length)-1;return Math.round(360*parseInt(e,16)/n)},vt=(e,t)=>{let{[t]:n,...r}=e;return r},bt=(e,t)=>Array.from(new Set(e).add(t)),wt=(e,t)=>{if(null==e)return[];const n=[...e],r=n.indexOf(t);return r>-1&&n.splice(r,1),n},xt=e=>{var t;return{offsetTop:e.scrollTop,offsetBottom:e.scrollHeight-((t=e.scrollTop)<0?-t:t)-e.offsetHeight}},kt=async e=>nt().SHA256(e).toString(),_t=async e=>{const t=nt().SHA256(e).toString(),n=ft(t),r=(e=>{const t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t})("meowchat");return pt(await it().scrypt(n,r,4096,8,1,32))},St=e=>{const[t,n]=(0,i.useState)(!1);return{style:t?e:{},props:{onMouseEnter:()=>window.isHandheld?null:n(!0),onMouseLeave:()=>window.isHandheld?null:n(!1)},isHovering:t}},Et="var(--user-saturation, 100%)",Ct="var(--user-lightness, 50%)",At=()=>{const e=(0,i.useCallback)((e=>({h:e,s:Et,l:Ct})),[]),t=(0,i.useCallback)((e=>`hsl(${e}, ${Et}, ${Ct})`),[]),n=(0,i.useCallback)(((e,t)=>`hsla(${e}, ${Et}, ${Ct}, ${t?"33%":"0%"})`),[]);return(0,i.useMemo)((()=>({hsl:t,hslValues:e,hsla:n})),[t,e,n])};var It=n(6417);const Mt=/(\b(?:ftp|http|https):\/\/[\p{L}\p{N}#!:,.?+=&%@!~_/\-\\()]+)/u,jt=(e,t)=>{const n=e.split(Mt),r=Array.from(n);for(let i=1;i<n.length;i+=2){const e=n[i];t(e),r[i]=(0,It.jsx)("a",{href:e,tabIndex:-1,target:"_blank",rel:"noopener noreferrer nofollow",children:e},"link"+i)}return r},Tt="0.1.2",Bt="https://srv.meowspace.lol/public",Pt=`${Bt}/emojis`,Nt="#",Rt="#",Lt=(e,t)=>{const n=e.split(/(:[A-Za-z0-9_-]+:)/),r=Array.from(n);for(let i=0;i<n.length;i++){const e=n[i].slice(1,-1);if(st(t,e))if(i>0&&"\\"===n[i-1].slice(-1)&&"\\"!==n[i-1].slice(-2,-1))r[i-1]=n[i-1].slice(0,-1);else if(i%2===1){const n=`${Pt}/${t[e]}?s=${ot}`;r[i]=(0,It.jsxs)("span",{className:"emojilink",children:[(0,It.jsx)("img",{className:"emojiReal",src:n,alt:`${e}`}),(0,It.jsx)("img",{className:"emojiFake",src:n,alt:`${e}`})]},"serveremoji"+i)}}return r},Ot=(e,t)=>{const n=e.split(/(;[A-Za-z0-9_-]+;)/),r=Array.from(n);for(let i=0;i<n.length;i++){const e=n[i].slice(1,-1);if(st(t,e))if(i>0&&"\\"===n[i-1].slice(-1)&&"\\"!==n[i-1].slice(-2,-1))r[i-1]=n[i-1].slice(0,-1);else if(i%2===1){const n=t[e];r[i]=(0,It.jsxs)("span",{className:"emojilink",children:[(0,It.jsx)("img",{className:"emojiReal",src:n,alt:`${e}`}),(0,It.jsx)("img",{className:"emojiFake",src:n,alt:`${e}`})]},"clientemoji"+i)}}return r},Dt=(e,t)=>{let n=e.split(/(\s+)/);for(let r=0;r<n.length;r++){const e=n[r].toLowerCase();st(t,e)&&(n[r]=n[r][0]+"*".repeat(e.length-1))}return n},Ut=new RegExp(/<@(![123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{7})>/),zt=(e,t)=>{if(0===t.length)return[e];const n=e.split(Ut),r=Array.from(n);for(let i=1;i<n.length;i+=2){const e=n[i],o=t.find((t=>t.hook===e));if(null==o)continue;const{userId:s,color:a,name:l}=o;r[i]=(0,It.jsx)(Ft,{userId:s,hue:null!==a&&void 0!==a?a:0,name:l},`mention${i}`)}return r},Ft=e=>{let{userId:t,hue:n,name:r}=e;const o=(0,i.useRef)(null);return et(o,"--tag-hue",n.toString()),(0,It.jsx)("span",{ref:o,className:"MessageMention",onClick:()=>alert(t),children:(0,It.jsxs)("span",{className:"name",children:["@",r]})})},Ht=Object.freeze({PingVersionNew:20,Connected:101,UserSetTrip:103,JoinChannel:111,LeaveChannel:112,LoadMore:113,GetChannels:114,JoinChannelFailed:151,UserJoinedChannel:121,UserLeftChannel:122,RateLimited:501,RateLimitWarningGiven:502,RateLimitWarningRemoved:503,BeginMessage:1,ChangeMessage:2,RemoveMessage:3,SendMessage:4,RequestActiveMessage:10,TransmitActiveMessage:11,Reaction:12,SetMode:800,SetModeFailed:801,UploadCSS:810,GetCSS:811,UserWasKicked:901,Raid:600,Party:601,Calm:602}),Wt=Object.freeze({PingNoReply:25,SocketReady:101,Disconnect:102,Trip:103,JoinChannel:111,LeaveChannel:112,LoadMore:113,GetChannels:114,ChangeBlocks:120,BeginMessage:1,ChangeMessage:2,SendMessage:3,RemoveMessage:4,DeleteMessage:5,TransmitActiveMessage:11,Reaction:12,SetMode:800,UploadCSS:810,GetCSS:811,Kick:901,ClearByUserId:910,BanByMessageId:911,Raid:600,Party:601,Calm:602}),$t=()=>{const{socket:e}=(0,i.useContext)(Rw),{currentChannel:t,channels:n}=(0,i.useContext)(Yw),{tiles:r,currentTileIndex:o}=(0,i.useContext)(px),s=(0,i.useCallback)((i=>{let{to:s}=i;if(null==e)return;const a=[],l=[],u=null!=n.find((e=>e===t))?t:null;null!=r.find(((e,t)=>e.cid===u&&t!==o))||null==u||(a.push({event:Ht.BeginMessage,channel:u}),a.push({event:Ht.ChangeMessage,channel:u}));null!=r.find((e=>e.cid===s))||null==s||(l.push({event:Ht.BeginMessage,channel:s}),l.push({event:Ht.ChangeMessage,channel:s})),e.emit(Wt.ChangeBlocks,{blocks:a,unblocks:l})}),[e,t,n,r,o]);return s},Kt=()=>{const{modes:e}=(0,i.useContext)(Rw);return(0,i.useCallback)((t=>{let n;return e.forEach(((e,r)=>{e.find((e=>"n"===e.mode&&mt(e.arg,t)))&&(n=r)})),n}),[e])},qt=()=>{const{modes:e}=(0,i.useContext)(Rw);return(0,i.useCallback)(((t,n)=>{var r,i,o;if(null==t)return null;const s=e.get(t);return null==s?null!==n&&void 0!==n?n:t:null!==(r=null!==(i=null===(o=s.find((e=>"n"===e.mode)))||void 0===o?void 0:o.arg)&&void 0!==i?i:n)&&void 0!==r?r:t}),[e])},Vt=(e,t)=>{const n=qt();return(0,i.useMemo)((()=>n(e,t)),[n,e,t])},Gt=e=>{const{users:t}=(0,i.useContext)(Rw),n=null==t||null==e||null==t[e];return(0,i.useMemo)((()=>n?0:Object.keys(t[e]).length),[n,e,t])},Jt=(e,t)=>{const{socket:n}=(0,i.useContext)(Rw),r=(0,i.useRef)(t);(0,i.useEffect)((()=>{r.current=t}),[t]),(0,i.useEffect)((()=>{null!=n&&n.handle(e,(e=>r.current(e)))}),[n,e])},Yt={MeowDark:{label:"Dark",className:"theme-neutral-dark",dark:!0},MeowLight:{label:"Light",className:"theme-neutral-light ",dark:!1}},Zt=e=>{const t=t=>t.className===e.className;return t(Yt.MeowDark)?Yt.MeowLight:t(Yt.MeowLight)?Yt.MeowDark:void 0},Xt=[Yt.MeowDark,Yt.MeowLight],Qt={q:"~",a:"&",o:"@",h:"%",v:"+",M:"-"},en={q:100,a:10,o:5,h:4,v:3,M:-1,z:-3,b:-10},tn={S:"q",p:"q",c:"a",C:"a",i:"a",k:"a",l:"a",L:"a",m:"a",n:"a",s:"a",T:"a",t:"a",b:"o",M:"o",I:"o",K:"o",q:"q",a:"q",o:"a",h:"o",v:"o",z:"o"},nn={q:!0,a:!0,o:!0,h:!0,v:!0},rn={b:!0,c:!0,M:!0,I:!0,K:!0,a:!0,o:!0,h:!0,v:!0,z:!0},on={q:"Owner",a:"Super Op",o:"Full Op",h:"Half Op",v:"Voiced Op",z:"De-roled",b:"Ban",M:"Mute",c:"Child",C:"CSS",H:"History",i:"Invite Only",I:"Invite Exemption",k:"Key Protected",K:"Key",l:"Limit",L:"Message Limit",m:"Moderated",n:"Name",O:"Official",p:"Parent",P:"Permanent",s:"Secret",S:"Space",T:"Topic Limit",t:"Topic"},sn=(e,t)=>{const n=en[e.mode],r=en[t.mode],i=(null!=n?0:1)-(null!=r?0:1),o=r-n,s=e.mode.localeCompare(t.mode),a=e.arg.localeCompare(t.arg);return i||o||s||a},an=e=>{let{mode:t,arg:n,enable:r=!0}=e;const i=on[t],o=r?"+":"-";return""===n?`${o}${t}: ${i}`:`${o}${t}: ${i} = "${n}"`},ln=e=>{var t,n,r,i,o;let s=e.replaceAll("\\:","\0").split(":");for(let p=0;p<s.length;p++)s[p]=s[p].replaceAll("\0",":");t=s[0];const a=null!==(n=s[1])&&void 0!==n?n:"",l=null!==(r=s[2])&&void 0!==r?r:"",u=null!==(i=s[3])&&void 0!==i?i:"",c=null!==(o=s[4])&&void 0!==o?o:"",d=new Date(1e3*Number.parseInt(a)),h=un(d),f=cn(d);return`${l} (${ht(u)}) until ${h} ${f} (reason: ${c})`},un=e=>{let t=e.getFullYear().toString(),n=(e.getMonth()+1).toString(),r=e.getDate().toString();return 1===r.length&&(r="0"+r),1===n.length&&(n="0"+n),`${t}-${n}-${r}`},cn=e=>("0"+e.getHours()).slice(-2)+":"+("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2),dn={},hn={":)":":smile:",":))":":uwuuu:",":D":":okyay:",":p":":bang:",":'D":":random:","X'D":":laugh:",":>":":uwu:",";)":":wink:",":*":":kiss:",">:D":":evil:","B-)":":cool:","8-)":":nerd:",":(":":sad:",":<":":cry:",":'(":":bawl:",">:(":":myaaa:",">;(":":rage:",":/":":confused:",":|":":stare:",",:|":":stare2:",";|":":eepy:",":s":":stoned:",":.":":thinking:",":o":":uwuu:","<3":":heart-red:","<3p":":heart-pink:","<3v":":heart-purple:","<3b":":heart-blue:","<3g":":heart-green:","<3y":":heart-yellow:","<3o":":heart-orange:","<3w":":heart-white:","<3d":":heart-black:","</3":":heart-broken:"},fn=()=>{const{socket:e}=(0,i.useContext)(Rw),{channels:t,currentChannel:n,setCurrentChannel:r}=(0,i.useContext)(Yw),{currentTileIndex:o,replaceTileAt:s}=(0,i.useContext)(px),a=Kt(),l=An(),u=rm(),c=$t();return(0,i.useCallback)((i=>{let{cid:d,cname:h,pass:f,isSpaceRoom:p=!1,isRejoin:m=!1,paymentPublicKey:g,tokenAddress:y,pairAddress:v,ticker:b,ckind:w,tokenGateAmount:x}=i;if(null==e)return;if(d===n)return;if(null!=d&&null!=h)return alert("neither id nor name are null");if(null==d&&null==h)return alert("both id and name are null");null==d&&null!=h&&(d=a(h));const k=null!=t.find((e=>e===d));return k&&null!=g?alert("error: channel exists"):k?null==d||m?void 0:(c({to:d}),r(d),s(o,{cid:d}),void l({cid:d,time:Date.now(),limit:50,onlyIfEmpty:!0})):(f=d?u(d,f):f,void e.emit(Wt.JoinChannel,{cid:d,cname:h,pass:f,isSpaceRoom:p,isRejoin:m,paymentPublicKey:g,tokenAddress:y,pairAddress:v,ticker:b,ckind:w,tokenGateAmount:x}))}),[e,t,a,l,n,r,u,s,o,c])},pn=()=>{const{messagesRefs:e,setMessagesRefs:t}=(0,i.useContext)(Qw),n=(0,i.useCallback)((t=>null==t?null:e[t]),[e]),r=(0,i.useCallback)(((e,n)=>{t((t=>({...t,[e]:n})))}),[t]);return{getMessagesRef:n,setMessagesRef:r}},mn=()=>{const{channelSettings:e,setChannelSettings:t}=(0,i.useContext)(Rw),n=(0,i.useCallback)((t=>st(e,t)?e[t].notifs:"all"),[e]),r=(0,i.useCallback)(((e,n)=>{t((t=>({...t,[e]:{...t[e],notifs:n}})))}),[t]),o=(0,i.useCallback)(((e,t)=>{"all"===n(e)?(r(e,"mentions"),t&&t("mentions")):"mentions"===n(e)?(r(e,"off"),t&&t("off")):(r(e,"all"),t&&t("all"))}),[n,r]);return(0,i.useMemo)((()=>({getNotif:n,setNotif:r,toggleNotif:o})),[n,r,o])},gn=()=>{const{channelSettings:e,setChannelSettings:t}=(0,i.useContext)(Rw),n=(0,i.useCallback)((t=>st(e,t)?e[t].showStyle:"on"),[e]),r=(0,i.useCallback)(((e,n)=>{t((t=>({...t,[e]:{...t[e],showStyle:n}})))}),[t]),o=(0,i.useCallback)(((e,t)=>{"on"===n(e)?r(e,"off"):r(e,"on")}),[n,r]);return(0,i.useMemo)((()=>({getShowStyle:n,setShowStyle:r,toggleShowStyle:o})),[n,r,o])},yn=e=>{let{content:t,deadline:n=0}=e;const r={content:t,deadline:n};return JSON.stringify(r,["content","deadline"])};var vn=n(6510);const bn=n.p+"static/media/meow.e71ed923b228e642384a.mp3",wn=new vn.Howl({src:[bn],volume:.75}),xn=()=>{const{settings:{muted:e}}=(0,i.useContext)(nx),{userData:t}=(0,i.useContext)(Rw),{currentChannel:n}=(0,i.useContext)(Yw),{chat:r,setFirstUnseenMessage:o}=(0,i.useContext)(Hw),s=fn(),{getMessagesRef:a}=pn(),{getNotif:l}=mn(),u=(e=>{const[t,n]=(0,i.useState)(e);return(0,i.useEffect)((()=>{const e=document.getElementById("favicon");e instanceof HTMLLinkElement&&(e.href=t)}),[t]),(0,i.useEffect)((()=>{const t=()=>n(e);return window.addEventListener("focus",t),()=>{window.removeEventListener("focus",t)}}),[e]),n})("/favicon.ico"),c=(0,i.useMemo)((()=>t?t.userId:null),[t]),d=(0,i.useCallback)((e=>null!=c&&(null!=e&&e in r?r[e].userId===c:void 0)),[r,c]),h=(0,i.useCallback)((e=>null!=c&&(null!=e&&null!=e.find((e=>e.userId===c)))),[c]),f=(0,i.useCallback)(((e,t)=>null==t?e:e.replaceAll(/<@(![123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{7})>/g,((e,n)=>{if(null==t)return e;const r=t.find((e=>e.hook===n));return null==r?e:`@${r.name}`}))),[]);return{handleChatNotification:(0,i.useCallback)((t=>{let{cid:r,cname:i,sender:c,content:p,trackingId:m,reference:g,mentions:y}=t;const v=d(g)||h(y);if(!v||e||"off"===l(r)||wn.playing()||wn.play(),document.hasFocus()&&r===n)return;o((e=>{if(null==e){var t;const e=a(r);return null===e||void 0===e||null===(t=e.current)||void 0===t||t.scrollBy({top:100}),m}return e}));const b="all"===l(r),w="mentions"===l(r)&&v;(b||w)&&(document.hasFocus()||u("/favicon-notif.ico"),(e=>{let{title:t,body:n,onClick:r}=e;if(!("Notification"in window))return;if("granted"!==Notification.permission)return;const i=new Notification(t,{body:n,icon:"/favicon.ico",tag:"replace"});i.onclick=()=>{window.focus(),i.close(),r()},setTimeout((()=>{i.close()}),3e3)})({title:`${c} in #${i}`,body:`${f(p,y)}`,onClick:()=>s({cid:r,cname:void 0})}))}),[u,o,n,s,l,e,a,d,h,f])}};class kn{constructor(e,t){let{onOpen:n,onClose:r}=t;this.isConnected=void 0,this.reconnectOnClose=void 0,this.handlers=void 0,this.syncHandlers=void 0,this.stateChangeListeners=void 0,this.ws=void 0,this.onAny=void 0,this.handleSync=e=>{let{requestId:t,...n}=e;const r=this.syncHandlers[t];null!=r&&(delete this.syncHandlers[t],r(n))},this.isConnected=!1,this.reconnectOnClose=!0,this.handlers={},this.syncHandlers={},this.stateChangeListeners=[],this.ws=null,this.onAny=null;const i=()=>{this.ws=new WebSocket(e),this.ws.onopen=()=>{this.isConnected=!0,this.stateChangeListeners.forEach((e=>e(!0))),n&&n(this)};const t=this.ws.close;this.ws.close=()=>{this.reconnectOnClose=!1,t.call(this.ws)},this.ws.onmessage=e=>{const t=JSON.parse(e.data);for(const{e:n,d:r}of t){null!=this.onAny&&this.onAny(n,r);const e=this.handlers[n];null!=e&&e.forEach((e=>e(r)))}},this.ws.onerror=e=>{console.error(e)},this.ws.onclose=e=>{"tor"!==e.reason?(this.isConnected=!1,this.stateChangeListeners.forEach((e=>e(!1))),r&&r(this),this.reconnectOnClose?(console.log("Connection closed by server. Reconnecting..."),setTimeout(i,2e3)):console.log("Connection closed by client.")):alert("Cannot access via TOR exit node.")}};i()}close(){var e;null===(e=this.ws)||void 0===e||e.close()}_addHandler(e,t){null==this.handlers[e]&&(this.handlers[e]=[]),this.handlers[e].push(t)}_removeHandler(e,t){null!=this.handlers[e]&&(this.handlers[e]=this.handlers[e].filter((e=>e!==t)),console.log(e,this.handlers[e]))}removeAllHandlers(e){null!=this.handlers[e]&&(this.handlers[e]=[])}handle(e,t){this.removeAllHandlers(e),this._addHandler(e,t)}handleAny(e){this.onAny=e}emit(e,t){var n;null===(n=this.ws)||void 0===n||n.send(JSON.stringify({e:e,d:t}))}emitSync(e,t,n,r){this.handle(e,this.handleSync);const i=_n(8);this.syncHandlers[i]=r,setTimeout((()=>{delete this.syncHandlers[i]}),n),this.emit(e,{requestId:i,...t})}}const _n=e=>{const t=Math.floor(Math.random()*Math.pow(16,e)).toString(16);return"0".repeat(e-t.length)+t},Sn=()=>{const{inputRefs:e,setInputRefs:t}=(0,i.useContext)(Rw),{currentTileIndex:n}=(0,i.useContext)(px),r=(0,i.useCallback)((t=>null==t?null:e[t]),[e]),o=(0,i.useCallback)(((e,n)=>{t((t=>({...t,[e]:n})))}),[t]),s=(0,i.useMemo)((()=>r(`${n}`)),[r,n]);return{getInputRef:r,setInputRef:o,currentInputRef:s}},En=()=>{const{channels:e,trackedChannels:t}=(0,i.useContext)(Yw),n=In();return(0,i.useMemo)((()=>{const r=[...n(e),...t];return Array.from(new Map(r.map((e=>[e.id,e]))).values()).sort(((e,t)=>e.name.localeCompare(t.name)))}),[n,e,t])};const Cn={[Ht.JoinChannel]:{o:Wt.JoinChannel,q:new class{constructor(e){let{maxTries:t}=e;this.maxTries=void 0,this.retries=void 0,this.xs=void 0,this.xs=[],this.maxTries=t,this.retries={}}push(e,t,n){if(this.xs.find((t=>t.key===e)))return;if(this.retries[e]>=this.maxTries)return void(this.retries[e]=0);this.retries[e]+=1;const r=this.xs.at(0),i=r?Date.now()-r.t:0,o=t*(this.xs.length+1)-i,s=window.setTimeout((()=>{const t=this.xs.findIndex((t=>t.key===e));n(),this.xs.splice(t,1),window.clearTimeout(s)}),o);this.xs.push({key:e,id:s,t:Date.now()})}cancel(e){const t=this.xs.findIndex((t=>t.key===e));if(-1===t)return;const n=this.xs.at(t);this.xs.splice(t,1),null!=n&&window.clearTimeout(n.id)}isEmpty(){return 0===this.xs.length}}({maxTries:5})}},An=()=>{const{socket:e}=(0,i.useContext)(Rw),{isLoadingMessages:t,setIsLoadingMessages:n,numLoads:r}=(0,i.useContext)(Hw);return(0,i.useCallback)((i=>{let{cid:o,time:s,limit:a,onlyIfEmpty:l=!1}=i;null!=e&&!0!==t[o]&&(l&&r[o]>0||(n((e=>({...e,[o]:!0}))),e.emit(Wt.LoadMore,{cid:o,time:s,limit:a})))}),[e,t,n,r])},In=()=>{const e=qt(),t=(0,i.useCallback)((t=>t.map((t=>{var n;return{id:t,name:null!==(n=e(t))&&void 0!==n?n:t}}))),[e]);return t},Mn=()=>(Math.random()+1).toString(36).substring(7),jn=e=>{const{modes:t}=(0,i.useContext)(Rw);return(0,i.useCallback)((n=>{var r,i,o;return null==e?null:t.has(e)&&null!==(r=null===(i=(null!==(o=t.get(e))&&void 0!==o?o:[]).find((e=>e.mode===n)))||void 0===i?void 0:i.arg)&&void 0!==r?r:null}),[e,t])},Tn=e=>{const t=Bn();return(0,i.useMemo)((()=>t(e)),[e,t])},Bn=()=>{const{modes:e}=(0,i.useContext)(Rw);return(0,i.useCallback)((t=>{var n,r;if(null==t)return{pcid:null,check:""};const i=null===(n=(null!==(r=e.get(t))&&void 0!==r?r:[]).find((e=>"p"===e.mode)))||void 0===n?void 0:n.arg;if(null==i)return{pcid:null,check:""};const[o,s]=i.split(":",2);return{pcid:o,check:null!==s&&void 0!==s?s:""}}),[e])},Pn=()=>{const{setReplyTo:e}=(0,i.useContext)(Gw),{messageId:t,name:n,color:r,content:o}=(0,i.useContext)(Vp),{currentInputRef:s}=Sn();return(0,i.useCallback)((()=>{var i;e({messageId:t,name:n,color:r,content:o}),null===s||void 0===s||null===(i=s.current)||void 0===i||i.focus()}),[e,t,n,r,o,s])},Nn=e=>{let{emoji:t}=e;const{serverEmojis:n}=(0,i.useContext)(Rw),r=St({}),o=`${Pt}/${n[t]}?s=${ot}`;return(0,It.jsxs)("span",{className:"Emoji",...r.props,children:[(0,It.jsx)("img",{className:"real",src:o,alt:`${t}`,style:{...r.style}}),(0,It.jsx)("img",{className:"fake",src:o,alt:`${t}`})]})},Rn=["heart-red","laugh","bawl"],Ln=()=>{const{reactions:e}=(0,i.useContext)(Vp);return 0===Object.keys(e).length?null:(0,It.jsx)("span",{className:"Reactions",children:Rn.map((t=>{var n,r;return(0,It.jsx)(On,{icon:t,count:null!==(n=null===(r=e[t])||void 0===r?void 0:r.length)&&void 0!==n?n:0},t)}))})},On=e=>{let{icon:t,count:n}=e;const{socket:r,userData:o}=(0,i.useContext)(Rw),{messageId:s,reactions:a}=(0,i.useContext)(Vp),l=St({}),u=(0,i.useMemo)((()=>{var e;if(null!=o)return null===(e=a[t])||void 0===e?void 0:e.includes(o.userId)}),[o,a,t]),c=(0,i.useCallback)((()=>{if(null==r)return;const e=u?-1:1;r.emit(Wt.Reaction,{data:t,messageId:s,action:e})}),[r,u,s,t]);return 0===n?null:(0,It.jsxs)("span",{className:"Reaction"+(l.isHovering?" hover":"")+(u?" hasReacted":""),...l.props,onClick:c,children:[(0,It.jsx)("span",{className:"ReactionIcon",children:(0,It.jsx)(Nn,{emoji:t})}),(0,It.jsx)("span",{className:"ReactionCount",children:n})]})},Dn=e=>{let{children:t}=e;return(0,It.jsx)("span",{style:{flex:"0 0 16px",display:"flex",alignItems:"center",marginRight:"10px"},children:t})},Un=()=>(0,It.jsx)(Dn,{children:(0,It.jsx)("span",{className:"icon-action-undo"})}),zn=()=>(0,It.jsx)(Dn,{children:(0,It.jsx)("span",{className:"icon-link"})}),Fn=()=>(0,It.jsx)(Dn,{children:(0,It.jsx)("span",{className:"icon-docs"})}),Hn=()=>(0,It.jsx)(Dn,{children:(0,It.jsx)("span",{className:"icon-user"})}),Wn=()=>(0,It.jsx)(Dn,{children:(0,It.jsx)("span",{className:"icon-trash"})}),$n=()=>(0,It.jsx)(Dn,{children:(0,It.jsx)("span",{className:"icon-logout",style:{transform:"translateX(-2px)"}})}),Kn=()=>(0,It.jsx)(Dn,{children:(0,It.jsx)("span",{className:"icon-ban",style:{color:"hsl(0, 80%, 65%)"}})}),qn=()=>(0,It.jsx)(Dn,{children:(0,It.jsx)("span",{className:"icon-volume-off",style:{color:"hsl(0, 80%, 65%)"}})}),Vn=e=>{let{children:t}=e;return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)("span",{style:Gn}),(0,It.jsx)("span",{style:Jn,children:t})]})},Gn={position:"absolute",top:"-80%",left:"50%",transform:"translateX(-50%)",width:"0",height:"0",borderLeft:"20px solid transparent",borderRight:"20px solid transparent",borderTop:"20px solid var(--text)"},Jn={position:"absolute",top:"-120%",left:"-90px",right:"-10px",padding:"4px 8px",borderRadius:"4px",background:"var(--text)",color:"var(--bg)",fontWeight:"normal",fontSize:"14px",textAlign:"center"};var Yn=n(4166),Zn=n.n(Yn);var Xn=Zn().BN;const Qn=new je("bignumber/5.7.0"),er={},tr=9007199254740991;let nr=!1;class rr{constructor(e,t){e!==er&&Qn.throwError("cannot call constructor directly; use BigNumber.from",je.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return or(sr(this).fromTwos(e))}toTwos(e){return or(sr(this).toTwos(e))}abs(){return"-"===this._hex[0]?rr.from(this._hex.substring(1)):this}add(e){return or(sr(this).add(sr(e)))}sub(e){return or(sr(this).sub(sr(e)))}div(e){return rr.from(e).isZero()&&ar("division-by-zero","div"),or(sr(this).div(sr(e)))}mul(e){return or(sr(this).mul(sr(e)))}mod(e){const t=sr(e);return t.isNeg()&&ar("division-by-zero","mod"),or(sr(this).umod(t))}pow(e){const t=sr(e);return t.isNeg()&&ar("negative-power","pow"),or(sr(this).pow(t))}and(e){const t=sr(e);return(this.isNegative()||t.isNeg())&&ar("unbound-bitwise-result","and"),or(sr(this).and(t))}or(e){const t=sr(e);return(this.isNegative()||t.isNeg())&&ar("unbound-bitwise-result","or"),or(sr(this).or(t))}xor(e){const t=sr(e);return(this.isNegative()||t.isNeg())&&ar("unbound-bitwise-result","xor"),or(sr(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&ar("negative-width","mask"),or(sr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ar("negative-width","shl"),or(sr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ar("negative-width","shr"),or(sr(this).shrn(e))}eq(e){return sr(this).eq(sr(e))}lt(e){return sr(this).lt(sr(e))}lte(e){return sr(this).lte(sr(e))}gt(e){return sr(this).gt(sr(e))}gte(e){return sr(this).gte(sr(e))}isNegative(){return"-"===this._hex[0]}isZero(){return sr(this).isZero()}toNumber(){try{return sr(this).toNumber()}catch(e){ar("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return Qn.throwError("this platform does not support BigInt",je.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?nr||(nr=!0,Qn.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Qn.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",je.errors.UNEXPECTED_ARGUMENT,{}):Qn.throwError("BigNumber.toString does not accept parameters",je.errors.UNEXPECTED_ARGUMENT,{})),sr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof rr)return e;if("string"===typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new rr(er,ir(e)):e.match(/^-?[0-9]+$/)?new rr(er,ir(new Xn(e))):Qn.throwArgumentError("invalid BigNumber string","value",e);if("number"===typeof e)return e%1&&ar("underflow","BigNumber.from",e),(e>=tr||e<=-tr)&&ar("overflow","BigNumber.from",e),rr.from(String(e));const t=e;if("bigint"===typeof t)return rr.from(t.toString());if(Le(t))return rr.from(He(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"===typeof e)return rr.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"===typeof e&&(ze(e)||"-"===e[0]&&ze(e.substring(1))))return rr.from(e)}return Qn.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function ir(e){if("string"!==typeof e)return ir(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&Qn.throwArgumentError("invalid hex","value",e),"0x00"===(e=ir(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function or(e){return rr.from(ir(e))}function sr(e){const t=rr.from(e).toHexString();return"-"===t[0]?new Xn("-"+t.substring(3),16):new Xn(t.substring(2),16)}function ar(e,t,n){const r={fault:e,operation:t};return null!=n&&(r.value=n),Qn.throwError(e,je.errors.NUMERIC_FAULT,r)}var lr=n(7676),ur=n.n(lr);function cr(e){return"0x"+ur().keccak_256(Oe(e))}const dr=new je("address/5.7.0");function hr(e){ze(e,20)||dr.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=t[i].charCodeAt(0);const r=Oe(cr(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&r[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const fr={};for(let n=0;n<10;n++)fr[String(n)]=String(n);for(let n=0;n<26;n++)fr[String.fromCharCode(65+n)]=String(10+n);const pr=Math.floor((mr=9007199254740991,Math.log10?Math.log10(mr):Math.log(mr)/Math.LN10));var mr;function gr(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map((e=>fr[e])).join("");for(;t.length>=pr;){let e=t.substring(0,pr);t=parseInt(e,10)%97+t.substring(e.length)}let n=String(98-parseInt(t,10)%97);for(;n.length<2;)n="0"+n;return n}function yr(e){let t=null;if("string"!==typeof e&&dr.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=hr(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&dr.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==gr(e)&&dr.throwArgumentError("bad icap checksum","address",e),n=e.substring(4),t=new Xn(n,36).toString(16);t.length<40;)t="0"+t;t=hr("0x"+t)}else dr.throwArgumentError("invalid address","address",e);var n;return t}var vr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const br=new je("properties/5.7.0");function wr(e,t,n){Object.defineProperty(e,t,{enumerable:!0,value:n,writable:!1})}function xr(e){return vr(this,void 0,void 0,(function*(){const t=Object.keys(e).map((t=>{const n=e[t];return Promise.resolve(n).then((e=>({key:t,value:e})))}));return(yield Promise.all(t)).reduce(((e,t)=>(e[t.key]=t.value,e)),{})}))}function kr(e){const t={};for(const n in e)t[n]=e[n];return t}const _r={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Sr(e){if(void 0===e||null===e||_r[typeof e])return!0;if(Array.isArray(e)||"object"===typeof e){if(!Object.isFrozen(e))return!1;const n=Object.keys(e);for(let r=0;r<n.length;r++){let i=null;try{i=e[n[r]]}catch(t){continue}if(!Sr(i))return!1}return!0}return br.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function Er(e){if(Sr(e))return e;if(Array.isArray(e))return Object.freeze(e.map((e=>Cr(e))));if("object"===typeof e){const t={};for(const n in e){const r=e[n];void 0!==r&&wr(t,n,Cr(r))}return t}return br.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function Cr(e){return Er(e)}class Ar{constructor(e){for(const t in e)this[t]=Cr(e[t])}}var Ir=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Mr=new je("abstract-provider/5.7.0");class jr{constructor(){Mr.checkAbstract(new.target,jr),wr(this,"_isProvider",!0)}getFeeData(){return Ir(this,void 0,void 0,(function*(){const{block:e,gasPrice:t}=yield xr({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch((e=>null))});let n=null,r=null,i=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,i=rr.from("1500000000"),r=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:n,maxFeePerGas:r,maxPriorityFeePerGas:i,gasPrice:t}}))}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!(!e||!e._isProvider)}}var Tr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Br=new je("abstract-signer/5.7.0"),Pr=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Nr=[je.errors.INSUFFICIENT_FUNDS,je.errors.NONCE_EXPIRED,je.errors.REPLACEMENT_UNDERPRICED];class Rr{constructor(){Br.checkAbstract(new.target,Rr),wr(this,"_isSigner",!0)}getBalance(e){return Tr(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return Tr(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return Tr(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield xr(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return Tr(this,void 0,void 0,(function*(){this._checkProvider("call");const n=yield xr(this.checkTransaction(e));return yield this.provider.call(n,t)}))}sendTransaction(e){return Tr(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),n=yield this.signTransaction(t);return yield this.provider.sendTransaction(n)}))}getChainId(){return Tr(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return Tr(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return Tr(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(e){return Tr(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)}))}checkTransaction(e){for(const n in e)-1===Pr.indexOf(n)&&Br.throwArgumentError("invalid transaction key: "+n,"transaction",e);const t=kr(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then((t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&Br.throwArgumentError("from address mismatch","transaction",e),t[0]))),t}populateTransaction(e){return Tr(this,void 0,void 0,(function*(){const t=yield xr(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then((e=>Tr(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&Br.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})))),t.to.catch((e=>{})));const n=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!n?0!==t.type&&1!==t.type||!n||Br.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):Br.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(n&&Br.throwError("network does not support EIP-1559",je.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):Br.throwError("failed to get consistent fee data",je.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch((e=>{if(Nr.indexOf(e.code)>=0)throw e;return Br.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",je.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})}))),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then((t=>(0!==t[1]&&t[0]!==t[1]&&Br.throwArgumentError("chainId address mismatch","transaction",e),t[0]))),yield xr(t)}))}_checkProvider(e){this.provider||Br.throwError("missing provider",je.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}const Lr=new je("strings/5.7.0");var Or,Dr;function Ur(e,t,n,r,i){if(e===Dr.BAD_PREFIX||e===Dr.UNEXPECTED_CONTINUE){let e=0;for(let r=t+1;r<n.length&&n[r]>>6===2;r++)e++;return e}return e===Dr.OVERRUN?n.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(Or||(Or={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(Dr||(Dr={}));Object.freeze({error:function(e,t,n,r,i){return Lr.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",n)},ignore:Ur,replace:function(e,t,n,r,i){return e===Dr.OVERLONG?(r.push(i),0):(r.push(65533),Ur(e,t,n))}});function zr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Or.current;t!=Or.current&&(Lr.checkNormalize(),e=e.normalize(t));let n=[];for(let r=0;r<e.length;r++){const t=e.charCodeAt(r);if(t<128)n.push(t);else if(t<2048)n.push(t>>6|192),n.push(63&t|128);else if(55296==(64512&t)){r++;const i=e.charCodeAt(r);if(r>=e.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&t)<<10)+(1023&i);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(63&o|128)}else n.push(t>>12|224),n.push(t>>6&63|128),n.push(63&t|128)}return Oe(n)}const Fr="\x19Ethereum Signed Message:\n";function Hr(e){return"string"===typeof e&&(e=zr(e)),cr(De([zr(Fr),zr(String(e.length)),e]))}function Wr(e){return cr(zr(e))}var $r=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Kr=new je("hash/5.7.0"),qr=new Uint8Array(32);qr.fill(0);const Vr=rr.from(-1),Gr=rr.from(0),Jr=rr.from(1),Yr=rr.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Zr=qe(Jr.toHexString(),32),Xr=qe(Gr.toHexString(),32),Qr={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},ei=["name","version","chainId","verifyingContract","salt"];function ti(e){return function(t){return"string"!==typeof t&&Kr.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const ni={name:ti("name"),version:ti("version"),chainId:function(e){try{return rr.from(e).toString()}catch(t){}return Kr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return yr(e).toLowerCase()}catch(t){}return Kr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=Oe(e);if(32!==t.length)throw new Error("bad length");return He(t)}catch(t){}return Kr.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function ri(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const n=""===t[1],r=parseInt(t[2]||"256");(r%8!==0||r>256||t[2]&&t[2]!==String(r))&&Kr.throwArgumentError("invalid numeric width","type",e);const i=Yr.mask(n?r-1:r),o=n?i.add(Jr).mul(Vr):Gr;return function(t){const n=rr.from(t);return(n.lt(o)||n.gt(i))&&Kr.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),qe(n.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const n=parseInt(t[1]);return(0===n||n>32||t[1]!==String(n))&&Kr.throwArgumentError("invalid bytes width","type",e),function(t){return Oe(t).length!==n&&Kr.throwArgumentError(`invalid length for ${e}`,"value",t),function(e){const t=Oe(e),n=t.length%32;return n?Ke([t,qr.slice(n)]):He(t)}(t)}}}switch(e){case"address":return function(e){return qe(yr(e),32)};case"bool":return function(e){return e?Zr:Xr};case"bytes":return function(e){return cr(e)};case"string":return function(e){return Wr(e)}}return null}function ii(e,t){return`${e}(${t.map((e=>{let{name:t,type:n}=e;return n+" "+t})).join(",")})`}class oi{constructor(e){wr(this,"types",Object.freeze(Cr(e))),wr(this,"_encoderCache",{}),wr(this,"_types",{});const t={},n={},r={};Object.keys(e).forEach((e=>{t[e]={},n[e]=[],r[e]={}}));for(const o in e){const r={};e[o].forEach((i=>{r[i.name]&&Kr.throwArgumentError(`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(o)}`,"types",e),r[i.name]=!0;const s=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===o&&Kr.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e);ri(s)||(n[s]||Kr.throwArgumentError(`unknown type ${JSON.stringify(s)}`,"types",e),n[s].push(o),t[o][s]=!0)}))}const i=Object.keys(n).filter((e=>0===n[e].length));0===i.length?Kr.throwArgumentError("missing primary type","types",e):i.length>1&&Kr.throwArgumentError(`ambiguous primary types or unused types: ${i.map((e=>JSON.stringify(e))).join(", ")}`,"types",e),wr(this,"primaryType",i[0]),function i(o,s){s[o]&&Kr.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),s[o]=!0,Object.keys(t[o]).forEach((e=>{n[e]&&(i(e,s),Object.keys(s).forEach((t=>{r[t][e]=!0})))})),delete s[o]}(this.primaryType,{});for(const o in r){const t=Object.keys(r[o]);t.sort(),this._types[o]=ii(o,e[o])+t.map((t=>ii(t,e[t]))).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const t=ri(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],n=this.getEncoder(e),r=parseInt(t[3]);return t=>{r>=0&&t.length!==r&&Kr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(n);return this._types[e]&&(i=i.map(cr)),cr(Ke(i))}}const n=this.types[e];if(n){const t=Wr(this._types[e]);return e=>{const r=n.map((t=>{let{name:n,type:r}=t;const i=this.getEncoder(r)(e[n]);return this._types[r]?cr(i):i}));return r.unshift(t),Ke(r)}}return Kr.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||Kr.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return cr(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,n){if(ri(e))return n(e,t);const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const e=r[1],i=parseInt(r[3]);return i>=0&&t.length!==i&&Kr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map((t=>this._visit(e,t,n)))}const i=this.types[e];return i?i.reduce(((e,r)=>{let{name:i,type:o}=r;return e[i]=this._visit(o,t[i],n),e}),{}):Kr.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new oi(e)}static getPrimaryType(e){return oi.from(e).primaryType}static hashStruct(e,t,n){return oi.from(t).hashStruct(e,n)}static hashDomain(e){const t=[];for(const n in e){const r=Qr[n];r||Kr.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),t.push({name:n,type:r})}return t.sort(((e,t)=>ei.indexOf(e.name)-ei.indexOf(t.name))),oi.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,n){return Ke(["0x1901",oi.hashDomain(e),oi.from(t).hash(n)])}static hash(e,t,n){return cr(oi.encode(e,t,n))}static resolveNames(e,t,n,r){return $r(this,void 0,void 0,(function*(){e=kr(e);const i={};e.verifyingContract&&!ze(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=oi.from(t);o.visit(n,((e,t)=>("address"!==e||ze(t,20)||(i[t]="0x"),t)));for(const e in i)i[e]=yield r(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=o.visit(n,((e,t)=>"address"===e&&i[t]?i[t]:t)),{domain:e,value:n}}))}static getPayload(e,t,n){oi.hashDomain(e);const r={},i=[];ei.forEach((t=>{const n=e[t];null!=n&&(r[t]=ni[t](n),i.push({name:t,type:Qr[t]}))}));const o=oi.from(t),s=kr(t);return s.EIP712Domain?Kr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=i,o.encode(n),{types:s,domain:r,primaryType:o.primaryType,message:o.visit(n,((e,t)=>{if(e.match(/^bytes(\d*)/))return He(Oe(t));if(e.match(/^u?int/))return rr.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!==typeof t&&Kr.throwArgumentError("invalid string","value",t),t}return Kr.throwArgumentError("unsupported type","type",e)}))}}}class si{constructor(e){wr(this,"alphabet",e),wr(this,"base",e.length),wr(this,"_alphabetMap",{}),wr(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=Oe(e);if(0===t.length)return"";let n=[0];for(let i=0;i<t.length;++i){let e=t[i];for(let t=0;t<n.length;++t)e+=n[t]<<8,n[t]=e%this.base,e=e/this.base|0;for(;e>0;)n.push(e%this.base),e=e/this.base|0}let r="";for(let i=0;0===t[i]&&i<t.length-1;++i)r+=this._leader;for(let i=n.length-1;i>=0;--i)r+=this.alphabet[n[i]];return r}decode(e){if("string"!==typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let n=0;n<e.length;n++){let r=this._alphabetMap[e[n]];if(void 0===r)throw new Error("Non-base"+this.base+" character");let i=r;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)t.push(0);return Oe(new Uint8Array(t.reverse()))}}new si("abcdefghijklmnopqrstuvwxyz234567");const ai=new si("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var li,ui=n(7553),ci=n.n(ui);!function(e){e.sha256="sha256",e.sha512="sha512"}(li||(li={}));const di=new je("sha2/5.7.0");function hi(e){return"0x"+ci().sha256().update(Oe(e)).digest("hex")}function fi(e,t,n){return li[e]||di.throwError("unsupported algorithm "+e,je.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+ci().hmac(ci()[e],Oe(t)).update(Oe(n)).digest("hex")}function pi(e,t,n,r,i){let o;e=Oe(e),t=Oe(t);let s=1;const a=new Uint8Array(r),l=new Uint8Array(t.length+4);let u,c;l.set(t);for(let d=1;d<=s;d++){l[t.length]=d>>24&255,l[t.length+1]=d>>16&255,l[t.length+2]=d>>8&255,l[t.length+3]=255&d;let h=Oe(fi(i,e,l));o||(o=h.length,c=new Uint8Array(o),s=Math.ceil(r/o),u=r-(s-1)*o),c.set(h);for(let t=1;t<n;t++){h=Oe(fi(i,e,h));for(let e=0;e<o;e++)c[e]^=h[e]}const f=(d-1)*o,p=d===s?u:o;a.set(Oe(c).slice(0,p),f)}return He(a)}"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self&&self;function mi(e,t,n){return n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&n.path)}},e(n,n.exports),n.exports}var gi=yi;function yi(e,t){if(!e)throw new Error(t||"Assertion failed")}yi.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var vi=mi((function(e,t){var n=t;function r(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!==typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),o=i>>8,s=255&i;o?n.push(o,s):n.push(s)}return n},n.zero2=r,n.toHex=i,n.encode=function(e,t){return"hex"===t?i(e):e}})),bi=mi((function(e,t){var n=t;n.assert=gi,n.toArray=vi.toArray,n.zero2=vi.zero2,n.toHex=vi.toHex,n.encode=vi.encode,n.getNAF=function(e,t,n){var r=new Array(Math.max(e.bitLength(),n)+1);r.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<r.length;s++){var a,l=o.andln(i-1);o.isOdd()?(a=l>(i>>1)-1?(i>>1)-l:l,o.isubn(a)):a=0,r[s]=a,o.iushrn(1)}return r},n.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,l=e.andln(3)+i&3,u=t.andln(3)+o&3;3===l&&(l=-1),3===u&&(u=-1),s=0===(1&l)?0:3!==(r=e.andln(7)+i&7)&&5!==r||2!==u?l:-l,n[0].push(s),a=0===(1&u)?0:3!==(r=t.andln(7)+o&7)&&5!==r||2!==l?u:-u,n[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return n},n.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},n.parseBytes=function(e){return"string"===typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new(Zn())(e,"hex","le")}})),wi=bi.getNAF,xi=bi.getJSF,ki=bi.assert;function _i(e,t){this.type=e,this.p=new(Zn())(t.p,16),this.red=t.prime?Zn().red(t.prime):Zn().mont(this.p),this.zero=new(Zn())(0).toRed(this.red),this.one=new(Zn())(1).toRed(this.red),this.two=new(Zn())(2).toRed(this.red),this.n=t.n&&new(Zn())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Si=_i;function Ei(e,t){this.curve=e,this.type=t,this.precomputed=null}_i.prototype.point=function(){throw new Error("Not implemented")},_i.prototype.validate=function(){throw new Error("Not implemented")},_i.prototype._fixedNafMul=function(e,t){ki(e.precomputed);var n=e._getDoubles(),r=wi(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var o,s,a=[];for(o=0;o<r.length;o+=n.step){s=0;for(var l=o+n.step-1;l>=o;l--)s=(s<<1)+r[l];a.push(s)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),d=i;d>0;d--){for(o=0;o<a.length;o++)(s=a[o])===d?c=c.mixedAdd(n.points[o]):s===-d&&(c=c.mixedAdd(n.points[o].neg()));u=u.add(c)}return u.toP()},_i.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,o=wi(t,n,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var l=0;a>=0&&0===o[a];a--)l++;if(a>=0&&l++,s=s.dblp(l),a<0)break;var u=o[a];ki(0!==u),s="affine"===e.type?u>0?s.mixedAdd(i[u-1>>1]):s.mixedAdd(i[-u-1>>1].neg()):u>0?s.add(i[u-1>>1]):s.add(i[-u-1>>1].neg())}return"affine"===e.type?s.toP():s},_i.prototype._wnafMulAdd=function(e,t,n,r,i){var o,s,a,l=this._wnafT1,u=this._wnafT2,c=this._wnafT3,d=0;for(o=0;o<r;o++){var h=(a=t[o])._getNAFPoints(e);l[o]=h.wnd,u[o]=h.points}for(o=r-1;o>=1;o-=2){var f=o-1,p=o;if(1===l[f]&&1===l[p]){var m=[t[f],null,null,t[p]];0===t[f].y.cmp(t[p].y)?(m[1]=t[f].add(t[p]),m[2]=t[f].toJ().mixedAdd(t[p].neg())):0===t[f].y.cmp(t[p].y.redNeg())?(m[1]=t[f].toJ().mixedAdd(t[p]),m[2]=t[f].add(t[p].neg())):(m[1]=t[f].toJ().mixedAdd(t[p]),m[2]=t[f].toJ().mixedAdd(t[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=xi(n[f],n[p]);for(d=Math.max(y[0].length,d),c[f]=new Array(d),c[p]=new Array(d),s=0;s<d;s++){var v=0|y[0][s],b=0|y[1][s];c[f][s]=g[3*(v+1)+(b+1)],c[p][s]=0,u[f]=m}}else c[f]=wi(n[f],l[f],this._bitLength),c[p]=wi(n[p],l[p],this._bitLength),d=Math.max(c[f].length,d),d=Math.max(c[p].length,d)}var w=this.jpoint(null,null,null),x=this._wnafT4;for(o=d;o>=0;o--){for(var k=0;o>=0;){var _=!0;for(s=0;s<r;s++)x[s]=0|c[s][o],0!==x[s]&&(_=!1);if(!_)break;k++,o--}if(o>=0&&k++,w=w.dblp(k),o<0)break;for(s=0;s<r;s++){var S=x[s];0!==S&&(S>0?a=u[s][S-1>>1]:S<0&&(a=u[s][-S-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(o=0;o<r;o++)u[o]=null;return i?w:w.toP()},_i.BasePoint=Ei,Ei.prototype.eq=function(){throw new Error("Not implemented")},Ei.prototype.validate=function(){return this.curve.validate(this)},_i.prototype.decodePoint=function(e,t){e=bi.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*n)return 6===e[0]?ki(e[e.length-1]%2===0):7===e[0]&&ki(e[e.length-1]%2===1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},Ei.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Ei.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},Ei.prototype.encode=function(e,t){return bi.encode(this._encode(t),e)},Ei.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Ei.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Ei.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)r=r.dbl();n.push(r)}return{step:e,points:n}},Ei.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},Ei.prototype._getBeta=function(){return null},Ei.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t};var Ci=mi((function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}})),Ai=bi.assert;function Ii(e){Si.call(this,"short",e),this.a=new(Zn())(e.a,16).toRed(this.red),this.b=new(Zn())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ci(Ii,Si);var Mi=Ii;function ji(e,t,n,r){Si.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new(Zn())(t,16),this.y=new(Zn())(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Ti(e,t,n,r){Si.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(Zn())(0)):(this.x=new(Zn())(t,16),this.y=new(Zn())(n,16),this.z=new(Zn())(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Ii.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new(Zn())(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new(Zn())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?n=i[0]:(n=i[1],Ai(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new(Zn())(e.a,16),b:new(Zn())(e.b,16)}})):this._getEndoBasis(n)}}},Ii.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Zn().mont(e),n=new(Zn())(2).toRed(t).redInvm(),r=n.redNeg(),i=new(Zn())(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(i).fromRed(),r.redSub(i).fromRed()]},Ii.prototype._getEndoBasis=function(e){for(var t,n,r,i,o,s,a,l,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),f=new(Zn())(1),p=new(Zn())(0),m=new(Zn())(0),g=new(Zn())(1),y=0;0!==d.cmpn(0);){var v=h.div(d);l=h.sub(v.mul(d)),u=m.sub(v.mul(f));var b=g.sub(v.mul(p));if(!r&&l.cmp(c)<0)t=a.neg(),n=f,r=l.neg(),i=u;else if(r&&2===++y)break;a=l,h=d,d=l,m=f,f=u,g=p,p=b}o=l.neg(),s=u;var w=r.sqr().add(i.sqr());return o.sqr().add(s.sqr()).cmp(w)>=0&&(o=t,s=n),r.negative&&(r=r.neg(),i=i.neg()),o.negative&&(o=o.neg(),s=s.neg()),[{a:r,b:i},{a:o,b:s}]},Ii.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),s=i.mul(n.a),a=o.mul(r.a),l=i.mul(n.b),u=o.mul(r.b);return{k1:e.sub(s).sub(a),k2:l.add(u).neg()}},Ii.prototype.pointFromX=function(e,t){(e=new(Zn())(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var i=r.fromRed().isOdd();return(t&&!i||!t&&i)&&(r=r.redNeg()),this.point(e,r)},Ii.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},Ii.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],l=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),r[2*o]=a,r[2*o+1]=l,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var u=this._wnafMulAdd(1,r,i,2*o,n),c=0;c<2*o;c++)r[c]=null,i[c]=null;return u},Ci(ji,Si.BasePoint),Ii.prototype.point=function(e,t,n){return new ji(this,e,t,n)},Ii.prototype.pointFromJSON=function(e,t){return ji.fromJSON(this,e,t)},ji.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},ji.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ji.fromJSON=function(e,t,n){"string"===typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var o=t[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},ji.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ji.prototype.isInfinity=function(){return this.inf},ji.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},ji.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},ji.prototype.getX=function(){return this.x.fromRed()},ji.prototype.getY=function(){return this.y.fromRed()},ji.prototype.mul=function(e){return e=new(Zn())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},ji.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},ji.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},ji.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},ji.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},ji.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Ci(Ti,Si.BasePoint),Ii.prototype.jpoint=function(e,t,n){return new Ti(this,e,t,n)},Ti.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},Ti.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Ti.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),a=r.redSub(i),l=o.redSub(s);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),d=r.redMul(u),h=l.redSqr().redIAdd(c).redISub(d).redISub(d),f=l.redMul(d.redISub(h)).redISub(o.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,f,p)},Ti.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=n.redSub(r),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),u=l.redMul(s),c=n.redMul(l),d=a.redSqr().redIAdd(u).redISub(c).redISub(c),h=a.redMul(c.redISub(d)).redISub(i.redMul(u)),f=this.z.redMul(s);return this.curve.jpoint(d,h,f)},Ti.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var n=this;for(t=0;t<e;t++)n=n.dbl();return n}var r=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),u=s.redAdd(s);for(t=0;t<e;t++){var c=o.redSqr(),d=u.redSqr(),h=d.redSqr(),f=c.redAdd(c).redIAdd(c).redIAdd(r.redMul(l)),p=o.redMul(d),m=f.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=f.redMul(g);y=y.redIAdd(y).redISub(h);var v=u.redMul(a);t+1<e&&(l=l.redMul(h)),o=m,a=v,u=y}return this.curve.jpoint(o,u.redMul(i),a)},Ti.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Ti.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r),l=a.redSqr().redISub(s).redISub(s),u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),e=l,t=a.redMul(s.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),d=this.y.redSqr(),h=d.redSqr(),f=this.x.redAdd(d).redSqr().redISub(c).redISub(h);f=f.redIAdd(f);var p=c.redAdd(c).redIAdd(c),m=p.redSqr(),g=h.redIAdd(h);g=(g=g.redIAdd(g)).redIAdd(g),e=m.redISub(f).redISub(f),t=p.redMul(f.redISub(e)).redISub(g),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},Ti.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(r).redISub(o);s=s.redIAdd(s);var a=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);e=l;var u=o.redIAdd(o);u=(u=u.redIAdd(u)).redIAdd(u),t=a.redMul(s.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),d=this.y.redSqr(),h=this.x.redMul(d),f=this.x.redSub(c).redMul(this.x.redAdd(c));f=f.redAdd(f).redIAdd(f);var p=h.redIAdd(h),m=(p=p.redIAdd(p)).redAdd(p);e=f.redSqr().redISub(m),n=this.y.redAdd(this.z).redSqr().redISub(d).redISub(c);var g=d.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(p.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,n)},Ti.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=t.redSqr(),s=n.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),l=t.redAdd(t),u=(l=l.redIAdd(l)).redMul(s),c=a.redSqr().redISub(u.redAdd(u)),d=u.redISub(c),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=a.redMul(d).redISub(h),p=n.redAdd(n).redMul(r);return this.curve.jpoint(c,f,p)},Ti.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(r),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),l=r.redIAdd(r);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var u=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(l),c=t.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var d=this.x.redMul(a).redISub(c);d=(d=d.redIAdd(d)).redIAdd(d);var h=this.y.redMul(u.redMul(l.redISub(u)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var f=this.z.redAdd(s).redSqr().redISub(n).redISub(a);return this.curve.jpoint(d,h,f)},Ti.prototype.mul=function(e,t){return e=new(Zn())(e,t),this.curve._wnafMul(this,e)},Ti.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},Ti.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},Ti.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Ti.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Bi=mi((function(e,t){var n=t;n.base=Si,n.short=Mi,n.mont=null,n.edwards=null})),Pi=mi((function(e,t){var n,r=t,i=bi.assert;function o(e){"short"===e.type?this.curve=new Bi.short(e):"edwards"===e.type?this.curve=new Bi.edwards(e):this.curve=new Bi.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function s(e,t){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var n=new o(t);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:n}),n}})}r.PresetCurve=o,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ci().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ci().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ci().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ci().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ci().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ci().sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ci().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=null.crash()}catch(a){n=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ci().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})}));function Ni(e){if(!(this instanceof Ni))return new Ni(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=vi.toArray(e.entropy,e.entropyEnc||"hex"),n=vi.toArray(e.nonce,e.nonceEnc||"hex"),r=vi.toArray(e.pers,e.persEnc||"hex");gi(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}var Ri=Ni;Ni.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},Ni.prototype._hmac=function(){return new(ci().hmac)(this.hash,this.K)},Ni.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Ni.prototype.reseed=function(e,t,n,r){"string"!==typeof t&&(r=n,n=t,t=null),e=vi.toArray(e,t),n=vi.toArray(n,r),gi(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},Ni.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(r=n,n=t,t=null),n&&(n=vi.toArray(n,r||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(n),this._reseed++,vi.encode(o,t)};var Li=bi.assert;function Oi(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Di=Oi;Oi.fromPublic=function(e,t,n){return t instanceof Oi?t:new Oi(e,{pub:t,pubEnc:n})},Oi.fromPrivate=function(e,t,n){return t instanceof Oi?t:new Oi(e,{priv:t,privEnc:n})},Oi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Oi.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},Oi.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Oi.prototype._importPrivate=function(e,t){this.priv=new(Zn())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},Oi.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Li(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Li(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Oi.prototype.derive=function(e){return e.validate()||Li(e.validate(),"public point not validated"),e.mul(this.priv).getX()},Oi.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},Oi.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Oi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ui=bi.assert;function zi(e,t){if(e instanceof zi)return e;this._importDER(e,t)||(Ui(e.r&&e.s,"Signature without r or s"),this.r=new(Zn())(e.r,16),this.s=new(Zn())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Fi=zi;function Hi(){this.place=0}function Wi(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,o=0,s=t.place;o<r;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function $i(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function Ki(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}zi.prototype._importDER=function(e,t){e=bi.toArray(e,t);var n=new Hi;if(48!==e[n.place++])return!1;var r=Wi(e,n);if(!1===r)return!1;if(r+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var i=Wi(e,n);if(!1===i)return!1;var o=e.slice(n.place,i+n.place);if(n.place+=i,2!==e[n.place++])return!1;var s=Wi(e,n);if(!1===s)return!1;if(e.length!==s+n.place)return!1;var a=e.slice(n.place,s+n.place);if(0===o[0]){if(!(128&o[1]))return!1;o=o.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(Zn())(o),this.s=new(Zn())(a),this.recoveryParam=null,!0},zi.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=$i(t),n=$i(n);!n[0]&&!(128&n[1]);)n=n.slice(1);var r=[2];Ki(r,t.length),(r=r.concat(t)).push(2),Ki(r,n.length);var i=r.concat(n),o=[48];return Ki(o,i.length),o=o.concat(i),bi.encode(o,e)};var qi=function(){throw new Error("unsupported")},Vi=bi.assert;function Gi(e){if(!(this instanceof Gi))return new Gi(e);"string"===typeof e&&(Vi(Object.prototype.hasOwnProperty.call(Pi,e),"Unknown curve "+e),e=Pi[e]),e instanceof Pi.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Ji=Gi;Gi.prototype.keyPair=function(e){return new Di(this,e)},Gi.prototype.keyFromPrivate=function(e,t){return Di.fromPrivate(this,e,t)},Gi.prototype.keyFromPublic=function(e,t){return Di.fromPublic(this,e,t)},Gi.prototype.genKeyPair=function(e){e||(e={});for(var t=new Ri({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||qi(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),r=this.n.sub(new(Zn())(2));;){var i=new(Zn())(t.generate(n));if(!(i.cmp(r)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Gi.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Gi.prototype.sign=function(e,t,n,r){"object"===typeof n&&(r=n,n=null),r||(r={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new(Zn())(e,16));for(var i=this.n.byteLength(),o=t.getPrivate().toArray("be",i),s=e.toArray("be",i),a=new Ri({hash:this.hash,entropy:o,nonce:s,pers:r.pers,persEnc:r.persEnc||"utf8"}),l=this.n.sub(new(Zn())(1)),u=0;;u++){var c=r.k?r.k(u):new(Zn())(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(l)>=0)){var d=this.g.mul(c);if(!d.isInfinity()){var h=d.getX(),f=h.umod(this.n);if(0!==f.cmpn(0)){var p=c.invm(this.n).mul(f.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var m=(d.getY().isOdd()?1:0)|(0!==h.cmp(f)?2:0);return r.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),m^=1),new Fi({r:f,s:p,recoveryParam:m})}}}}}},Gi.prototype.verify=function(e,t,n,r){e=this._truncateToN(new(Zn())(e,16)),n=this.keyFromPublic(n,r);var i=(t=new Fi(t,"hex")).r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s,a=o.invm(this.n),l=a.mul(e).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(l,n.getPublic(),u)).isInfinity()&&s.eqXToP(i):!(s=this.g.mulAdd(l,n.getPublic(),u)).isInfinity()&&0===s.getX().umod(this.n).cmp(i)},Gi.prototype.recoverPubKey=function(e,t,n,r){Vi((3&n)===n,"The recovery param is more than two bits"),t=new Fi(t,r);var i=this.n,o=new(Zn())(e),s=t.r,a=t.s,l=1&n,u=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var c=t.r.invm(i),d=i.sub(o).mul(c).umod(i),h=a.mul(c).umod(i);return this.g.mulAdd(d,s,h)},Gi.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new Fi(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")};var Yi=mi((function(e,t){var n=t;n.version="6.5.4",n.utils=bi,n.rand=function(){throw new Error("unsupported")},n.curve=Bi,n.curves=Pi,n.ec=Ji,n.eddsa=null})).ec;const Zi=new je("signing-key/5.7.0");let Xi=null;function Qi(){return Xi||(Xi=new Yi("secp256k1")),Xi}class eo{constructor(e){wr(this,"curve","secp256k1"),wr(this,"privateKey",He(e)),32!==We(this.privateKey)&&Zi.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=Qi().keyFromPrivate(Oe(this.privateKey));wr(this,"publicKey","0x"+t.getPublic(!1,"hex")),wr(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),wr(this,"_isSigningKey",!0)}_addPoint(e){const t=Qi().keyFromPublic(Oe(this.publicKey)),n=Qi().keyFromPublic(Oe(e));return"0x"+t.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const t=Qi().keyFromPrivate(Oe(this.privateKey)),n=Oe(e);32!==n.length&&Zi.throwArgumentError("bad digest length","digest",e);const r=t.sign(n,{canonical:!0});return Ve({recoveryParam:r.recoveryParam,r:qe("0x"+r.r.toString(16),32),s:qe("0x"+r.s.toString(16),32)})}computeSharedSecret(e){const t=Qi().keyFromPrivate(Oe(this.privateKey)),n=Qi().keyFromPublic(Oe(to(e)));return qe("0x"+t.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function to(e,t){const n=Oe(e);if(32===n.length){const e=new eo(n);return t?"0x"+Qi().keyFromPrivate(n).getPublic(!0,"hex"):e.publicKey}return 33===n.length?t?He(n):"0x"+Qi().keyFromPublic(n).getPublic(!1,"hex"):65===n.length?t?"0x"+Qi().keyFromPublic(n).getPublic(!0,"hex"):He(n):Zi.throwArgumentError("invalid public or private key","key","[REDACTED]")}const no=new je("rlp/5.7.0");function ro(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function io(e){if(Array.isArray(e)){let t=[];if(e.forEach((function(e){t=t.concat(io(e))})),t.length<=55)return t.unshift(192+t.length),t;const n=ro(t.length);return n.unshift(247+n.length),n.concat(t)}Ne(e)||no.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(Oe(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const n=ro(t.length);return n.unshift(183+n.length),n.concat(t)}function oo(e){return He(io(e))}const so=new je("transactions/5.7.0");var ao;!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(ao||(ao={}));const lo=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],uo={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function co(e){return yr($e(cr($e(to(e),1)),12))}function ho(e,t){return co(function(e,t){const n=Ve(t),r={r:Oe(n.r),s:Oe(n.s)};return"0x"+Qi().recoverPubKey(Oe(e),r,n.recoveryParam).encode("hex",!1)}(Oe(e),t))}function fo(e,t){const n=Ue(rr.from(e).toHexString());return n.length>32&&so.throwArgumentError("invalid length for "+t,"transaction:"+t,e),n}function po(e,t){return{address:yr(e),storageKeys:(t||[]).map(((t,n)=>(32!==We(t)&&so.throwArgumentError("invalid access list storageKey",`accessList[${e}:${n}]`,t),t.toLowerCase())))}}function mo(e){if(Array.isArray(e))return e.map(((e,t)=>Array.isArray(e)?(e.length>2&&so.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),po(e[0],e[1])):po(e.address,e.storageKeys)));const t=Object.keys(e).map((t=>{const n=e[t].reduce(((e,t)=>(e[t]=!0,e)),{});return po(t,Object.keys(n).sort())}));return t.sort(((e,t)=>e.address.localeCompare(t.address))),t}function go(e){return mo(e).map((e=>[e.address,e.storageKeys]))}function yo(e,t){if(null!=e.gasPrice){const t=rr.from(e.gasPrice),n=rr.from(e.maxFeePerGas||0);t.eq(n)||so.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:n})}const n=[fo(e.chainId||0,"chainId"),fo(e.nonce||0,"nonce"),fo(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),fo(e.maxFeePerGas||0,"maxFeePerGas"),fo(e.gasLimit||0,"gasLimit"),null!=e.to?yr(e.to):"0x",fo(e.value||0,"value"),e.data||"0x",go(e.accessList||[])];if(t){const e=Ve(t);n.push(fo(e.recoveryParam,"recoveryParam")),n.push(Ue(e.r)),n.push(Ue(e.s))}return Ke(["0x02",oo(n)])}function vo(e,t){const n=[fo(e.chainId||0,"chainId"),fo(e.nonce||0,"nonce"),fo(e.gasPrice||0,"gasPrice"),fo(e.gasLimit||0,"gasLimit"),null!=e.to?yr(e.to):"0x",fo(e.value||0,"value"),e.data||"0x",go(e.accessList||[])];if(t){const e=Ve(t);n.push(fo(e.recoveryParam,"recoveryParam")),n.push(Ue(e.r)),n.push(Ue(e.s))}return Ke(["0x01",oo(n)])}function bo(e,t){!function(e,t){e&&"object"===typeof e||br.throwArgumentError("invalid object","object",e),Object.keys(e).forEach((n=>{t[n]||br.throwArgumentError("invalid object key - "+n,"transaction:"+n,e)}))}(e,uo);const n=[];lo.forEach((function(t){let r=e[t.name]||[];const i={};t.numeric&&(i.hexPad="left"),r=Oe(He(r,i)),t.length&&r.length!==t.length&&r.length>0&&so.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,r),t.maxLength&&(r=Ue(r),r.length>t.maxLength&&so.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,r)),n.push(He(r))}));let r=0;if(null!=e.chainId?(r=e.chainId,"number"!==typeof r&&so.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!Ne(t)&&t.v>28&&(r=Math.floor((t.v-35)/2)),0!==r&&(n.push(He(r)),n.push("0x"),n.push("0x")),!t)return oo(n);const i=Ve(t);let o=27+i.recoveryParam;return 0!==r?(n.pop(),n.pop(),n.pop(),o+=2*r+8,i.v>28&&i.v!==o&&so.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==o&&so.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),n.push(He(o)),n.push(Ue(Oe(i.r))),n.push(Ue(Oe(i.s))),oo(n)}function wo(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&so.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),bo(e,t);switch(e.type){case 1:return vo(e,t);case 2:return yo(e,t)}return so.throwError(`unsupported transaction type: ${e.type}`,je.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}const xo=new je("wordlists/5.7.0");class ko{constructor(e){xo.checkAbstract(new.target,ko),wr(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let n=0;n<2048;n++){const r=e.getWord(n);if(n!==e.getWordIndex(r))return"0x";t.push(r)}return Wr(t.join("\n")+"\n")}static register(e,t){t||(t=e.locale)}}let _o=null;function So(e){if(null==_o&&(_o="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==ko.check(e)))throw _o=null,new Error("BIP39 Wordlist for en (English) FAILED")}const Eo=new class extends ko{constructor(){super("en")}getWord(e){return So(this),_o[e]}getWordIndex(e){return So(this),_o.indexOf(e)}};ko.register(Eo);const Co={en:Eo},Ao=new je("hdnode/5.7.0"),Io=rr.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Mo=zr("Bitcoin seed"),jo=2147483648;function To(e){return(1<<e)-1<<8-e}function Bo(e){return qe(He(e),32)}function Po(e){return ai.encode(De([e,$e(hi(hi(e)),0,4)]))}function No(e){if(null==e)return Co.en;if("string"===typeof e){const t=Co[e];return null==t&&Ao.throwArgumentError("unknown locale","wordlist",e),t}return e}const Ro={},Lo="m/44'/60'/0'/0/0";class Oo{constructor(e,t,n,r,i,o,s,a){if(e!==Ro)throw new Error("HDNode constructor cannot be called directly");if(t){const e=new eo(t);wr(this,"privateKey",e.privateKey),wr(this,"publicKey",e.compressedPublicKey)}else wr(this,"privateKey",null),wr(this,"publicKey",He(n));var l;wr(this,"parentFingerprint",r),wr(this,"fingerprint",$e((l=hi(this.publicKey),"0x"+ci().ripemd160().update(Oe(l)).digest("hex")),0,4)),wr(this,"address",co(this.publicKey)),wr(this,"chainCode",i),wr(this,"index",o),wr(this,"depth",s),null==a?(wr(this,"mnemonic",null),wr(this,"path",null)):"string"===typeof a?(wr(this,"mnemonic",null),wr(this,"path",a)):(wr(this,"mnemonic",a),wr(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Po(De([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",He(this.depth),this.parentFingerprint,qe(He(this.index),4),this.chainCode,null!=this.privateKey?De(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Oo(Ro,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(2147483647&e));const n=new Uint8Array(37);if(e&jo){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(Oe(this.privateKey),1),t&&(t+="'")}else n.set(Oe(this.publicKey));for(let c=24;c>=0;c-=8)n[33+(c>>3)]=e>>24-c&255;const r=Oe(fi(li.sha512,this.chainCode,n)),i=r.slice(0,32),o=r.slice(32);let s=null,a=null;if(this.privateKey)s=Bo(rr.from(i).add(this.privateKey).mod(Io));else{a=new eo(He(i))._addPoint(this.publicKey)}let l=t;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:t,locale:u.locale||"en"})),new Oo(Ro,s,a,this.fingerprint,Bo(o),e,this.depth+1,l)}derivePath(e){const t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();let n=this;for(let r=0;r<t.length;r++){const e=t[r];if(e.match(/^[0-9]+'$/)){const t=parseInt(e.substring(0,e.length-1));if(t>=jo)throw new Error("invalid path index - "+e);n=n._derive(jo+t)}else{if(!e.match(/^[0-9]+$/))throw new Error("invalid path component - "+e);{const t=parseInt(e);if(t>=jo)throw new Error("invalid path index - "+e);n=n._derive(t)}}}return n}static _fromSeed(e,t){const n=Oe(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const r=Oe(fi(li.sha512,Mo,n));return new Oo(Ro,Bo(r.slice(0,32)),null,"0x00000000",Bo(r.slice(32)),0,0,t)}static fromMnemonic(e,t,n){return e=Uo(Do(e,n=No(n)),n),Oo._fromSeed(function(e,t){t||(t="");const n=zr("mnemonic"+t,Or.NFKD);return pi(zr(e,Or.NFKD),n,2048,64,"sha512")}(e,t),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Oo._fromSeed(e,null)}static fromExtendedKey(e){const t=ai.decode(e);82===t.length&&Po(t.slice(0,78))===e||Ao.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=t[4],r=He(t.slice(5,9)),i=parseInt(He(t.slice(9,13)).substring(2),16),o=He(t.slice(13,45)),s=t.slice(45,78);switch(He(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Oo(Ro,null,He(s),r,o,i,n,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new Oo(Ro,He(s.slice(1)),null,r,o,i,n,null)}return Ao.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Do(e,t){t=No(t),Ao.checkNormalize();const n=t.split(e);if(n.length%3!==0)throw new Error("invalid mnemonic");const r=Oe(new Uint8Array(Math.ceil(11*n.length/8)));let i=0;for(let a=0;a<n.length;a++){let e=t.getWordIndex(n[a].normalize("NFKD"));if(-1===e)throw new Error("invalid mnemonic");for(let t=0;t<11;t++)e&1<<10-t&&(r[i>>3]|=1<<7-i%8),i++}const o=32*n.length/3,s=To(n.length/3);if((Oe(hi(r.slice(0,o/8)))[0]&s)!==(r[r.length-1]&s))throw new Error("invalid checksum");return He(r.slice(0,o/8))}function Uo(e,t){if(t=No(t),(e=Oe(e)).length%4!==0||e.length<16||e.length>32)throw new Error("invalid entropy");const n=[0];let r=11;for(let s=0;s<e.length;s++)r>8?(n[n.length-1]<<=8,n[n.length-1]|=e[s],r-=8):(n[n.length-1]<<=r,n[n.length-1]|=e[s]>>8-r,n.push(e[s]&(1<<8-r)-1),r+=3);const i=e.length/4,o=Oe(hi(e))[0]&To(i);return n[n.length-1]<<=i,n[n.length-1]|=o>>8-i,t.join(n.map((e=>t.getWord(e))))}var zo=n(7532),Fo=n.n(zo);function Ho(e){return"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Oe(e)}function Wo(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function $o(e){return"string"===typeof e?zr(e,Or.NFKC):Oe(e)}function Ko(e,t){let n=e;const r=t.toLowerCase().split("/");for(let i=0;i<r.length;i++){let e=null;for(const t in n)if(t.toLowerCase()===r[i]){e=n[t];break}if(null===e)return null;n=e}return n}function qo(e){const t=Oe(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const n=He(t);return[n.substring(2,10),n.substring(10,14),n.substring(14,18),n.substring(18,22),n.substring(22,34)].join("-")}const Vo="json-wallets/5.7.0";var Go=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Jo=new je(Vo);function Yo(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class Zo extends Ar{isKeystoreAccount(e){return!(!e||!e._isKeystoreAccount)}}function Xo(e,t){const n=Ho(Ko(e,"crypto/ciphertext"));if(He(cr(De([t.slice(16,32),n]))).substring(2)!==Ko(e,"crypto/mac").toLowerCase())throw new Error("invalid password");const r=function(e,t,n){if("aes-128-ctr"===Ko(e,"crypto/cipher")){const r=Ho(Ko(e,"crypto/cipherparams/iv")),i=new(Fo().Counter)(r);return Oe(new(Fo().ModeOfOperation.ctr)(t,i).decrypt(n))}return null}(e,t.slice(0,16),n);r||Jo.throwError("unsupported cipher",je.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=t.slice(32,64),o=co(r);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),yr(t)!==o)throw new Error("address mismatch")}const s={_isKeystoreAccount:!0,address:o,privateKey:He(r)};if("0.1"===Ko(e,"x-ethers/version")){const t=Ho(Ko(e,"x-ethers/mnemonicCiphertext")),n=Ho(Ko(e,"x-ethers/mnemonicCounter")),r=new(Fo().Counter)(n),o=new(Fo().ModeOfOperation.ctr)(i,r),l=Ko(e,"x-ethers/path")||Lo,u=Ko(e,"x-ethers/locale")||"en",c=Oe(o.decrypt(t));try{const e=Uo(c,u),t=Oo.fromMnemonic(e,null,u).derivePath(l);if(t.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=t.mnemonic}catch(a){if(a.code!==je.errors.INVALID_ARGUMENT||"wordlist"!==a.argument)throw a}}return new Zo(s)}function Qo(e,t,n,r,i){return Oe(pi(e,t,n,r,i))}function es(e,t,n,r,i){return Promise.resolve(Qo(e,t,n,r,i))}function ts(e,t,n,r,i){const o=$o(t),s=Ko(e,"crypto/kdf");if(s&&"string"===typeof s){const t=function(e,t){return Jo.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===s.toLowerCase()){const n=Ho(Ko(e,"crypto/kdfparams/salt")),a=parseInt(Ko(e,"crypto/kdfparams/n")),l=parseInt(Ko(e,"crypto/kdfparams/r")),u=parseInt(Ko(e,"crypto/kdfparams/p"));a&&l&&u||t("kdf",s),0!==(a&a-1)&&t("N",a);const c=parseInt(Ko(e,"crypto/kdfparams/dklen"));return 32!==c&&t("dklen",c),r(o,n,a,l,u,64,i)}if("pbkdf2"===s.toLowerCase()){const r=Ho(Ko(e,"crypto/kdfparams/salt"));let i=null;const s=Ko(e,"crypto/kdfparams/prf");"hmac-sha256"===s?i="sha256":"hmac-sha512"===s?i="sha512":t("prf",s);const a=parseInt(Ko(e,"crypto/kdfparams/c")),l=parseInt(Ko(e,"crypto/kdfparams/dklen"));return 32!==l&&t("dklen",l),n(o,r,a,l,i)}}return Jo.throwArgumentError("unsupported key-derivation function","kdf",s)}const ns=new je(Vo);class rs extends Ar{isCrowdsaleAccount(e){return!(!e||!e._isCrowdsaleAccount)}}function is(e,t){const n=JSON.parse(e);t=$o(t);const r=yr(Ko(n,"ethaddr")),i=Ho(Ko(n,"encseed"));i&&i.length%16===0||ns.throwArgumentError("invalid encseed","json",e);const o=Oe(pi(t,t,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),a=i.slice(16),l=new(Fo().ModeOfOperation.cbc)(o,s),u=Fo().padding.pkcs7.strip(Oe(l.decrypt(a)));let c="";for(let h=0;h<u.length;h++)c+=String.fromCharCode(u[h]);const d=cr(zr(c));return new rs({_isCrowdsaleAccount:!0,address:r,privateKey:d})}function os(e){let t=null;try{t=JSON.parse(e)}catch(n){return!1}return t.encseed&&t.ethaddr}function ss(e){let t=null;try{t=JSON.parse(e)}catch(n){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function as(e,t,n){if(os(e)){n&&n(0);const r=is(e,t);return n&&n(1),Promise.resolve(r)}return ss(e)?function(e,t,n){return Go(this,void 0,void 0,(function*(){const r=JSON.parse(e);return Xo(r,yield ts(r,t,es,it().scrypt,n))}))}(e,t,n):Promise.reject(new Error("invalid JSON wallet"))}function ls(e,t){if(os(e))return is(e,t);if(ss(e))return function(e,t){const n=JSON.parse(e);return Xo(n,ts(n,t,Qo,it().syncScrypt))}(e,t);throw new Error("invalid JSON wallet")}var us=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const cs=new je("wallet/5.7.0");class ds extends Rr{constructor(e,t){if(super(),null!=(n=e)&&ze(n.privateKey,32)&&null!=n.address){const t=new eo(e.privateKey);if(wr(this,"_signingKey",(()=>t)),wr(this,"address",co(this.publicKey)),this.address!==yr(e.address)&&cs.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){const t=e.mnemonic;return t&&t.phrase}(e)){const t=e.mnemonic;wr(this,"_mnemonic",(()=>({phrase:t.phrase,path:t.path||Lo,locale:t.locale||"en"})));const n=this.mnemonic;co(Oo.fromMnemonic(n.phrase,null,n.locale).derivePath(n.path).privateKey)!==this.address&&cs.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else wr(this,"_mnemonic",(()=>null))}else{if(eo.isSigningKey(e))"secp256k1"!==e.curve&&cs.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),wr(this,"_signingKey",(()=>e));else{"string"===typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new eo(e);wr(this,"_signingKey",(()=>t))}wr(this,"_mnemonic",(()=>null)),wr(this,"address",co(this.publicKey))}var n;t&&!jr.isProvider(t)&&cs.throwArgumentError("invalid provider","provider",t),wr(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new ds(this,e)}signTransaction(e){return xr(e).then((t=>{null!=t.from&&(yr(t.from)!==this.address&&cs.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const n=this._signingKey().signDigest(cr(wo(t)));return wo(t,n)}))}signMessage(e){return us(this,void 0,void 0,(function*(){return Ge(this._signingKey().signDigest(Hr(e)))}))}_signTypedData(e,t,n){return us(this,void 0,void 0,(function*(){const r=yield oi.resolveNames(e,t,n,(e=>(null==this.provider&&cs.throwError("cannot resolve ENS names without a provider",je.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e))));return Ge(this._signingKey().signDigest(oi.hash(r.domain,t,r.value)))}))}encrypt(e,t,n){if("function"!==typeof t||n||(n=t,t={}),n&&"function"!==typeof n)throw new Error("invalid callback");return t||(t={}),function(e,t,n,r){try{if(yr(e.address)!==co(e.privateKey))throw new Error("address/privateKey mismatch");if(Yo(e)){const t=e.mnemonic;if(Oo.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||Lo).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(g){return Promise.reject(g)}"function"!==typeof n||r||(r=n,n={}),n||(n={});const i=Oe(e.privateKey),o=$o(t);let s=null,a=null,l=null;if(Yo(e)){const t=e.mnemonic;s=Oe(Do(t.phrase,t.locale||"en")),a=t.path||Lo,l=t.locale||"en"}let u=n.client;u||(u="ethers.js");let c=null;c=n.salt?Oe(n.salt):Xe(32);let d=null;if(n.iv){if(d=Oe(n.iv),16!==d.length)throw new Error("invalid iv")}else d=Xe(16);let h=null;if(n.uuid){if(h=Oe(n.uuid),16!==h.length)throw new Error("invalid uuid")}else h=Xe(16);let f=1<<17,p=8,m=1;return n.scrypt&&(n.scrypt.N&&(f=n.scrypt.N),n.scrypt.r&&(p=n.scrypt.r),n.scrypt.p&&(m=n.scrypt.p)),it().scrypt(o,c,f,p,m,64,r).then((t=>{const n=(t=Oe(t)).slice(0,16),r=t.slice(16,32),o=t.slice(32,64),g=new(Fo().Counter)(d),y=Oe(new(Fo().ModeOfOperation.ctr)(n,g).encrypt(i)),v=cr(De([r,y])),b={address:e.address.substring(2).toLowerCase(),id:qo(h),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:He(d).substring(2)},ciphertext:He(y).substring(2),kdf:"scrypt",kdfparams:{salt:He(c).substring(2),n:f,dklen:32,p:m,r:p},mac:v.substring(2)}};if(s){const e=Xe(16),t=new(Fo().Counter)(e),n=Oe(new(Fo().ModeOfOperation.ctr)(o,t).encrypt(s)),r=new Date,i=r.getUTCFullYear()+"-"+Wo(r.getUTCMonth()+1,2)+"-"+Wo(r.getUTCDate(),2)+"T"+Wo(r.getUTCHours(),2)+"-"+Wo(r.getUTCMinutes(),2)+"-"+Wo(r.getUTCSeconds(),2)+".0Z";b["x-ethers"]={client:u,gethFilename:"UTC--"+i+"--"+b.address,mnemonicCounter:He(e).substring(2),mnemonicCiphertext:He(n).substring(2),path:a,locale:l,version:"0.1"}}return JSON.stringify(b)}))}(this,e,t,n)}static createRandom(e){let t=Xe(16);e||(e={}),e.extraEntropy&&(t=Oe($e(cr(De([t,e.extraEntropy])),0,16)));const n=Uo(t,e.locale);return ds.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,t,n){return as(e,t,n).then((e=>new ds(e)))}static fromEncryptedJsonSync(e,t){return new ds(ls(e,t))}static fromMnemonic(e,t,n){return t||(t=Lo),new ds(Oo.fromMnemonic(e,null,n).derivePath(t))}}const hs=e=>{var t;let{room:n,connId:r,name:o,userId:s}=e;const{socket:a,connections:l,userData:u,modes:c}=(0,i.useContext)(Rw),d=Vt(n),h=Zp(n,null!==(t=null===u||void 0===u?void 0:u.userId)&&void 0!==t?t:""),f=Zp(n,s),p=h?en[h]:0,m=f?en[f]:0,g=p>=en.o,y=p>=en.h,v=p>=en[tn.b],b=p>=en[tn.M],w=(0,i.useCallback)((e=>p>=en[tn[e]]),[p]),x=p>m,k="h"===h&&"v"===f,_=g&&x,S=y&&x&&!k&&r in l,E=v&&x&&!k,C=b&&x&&!k,A=(0,i.useCallback)((e=>w(e)&&(x||false)),[w,x,false]),I=(0,i.useCallback)((async e=>{let{messageId:t,pastSecret:r}=e;if(null!=a&&null!=n)if(null==r)a.emit(Wt.DeleteMessage,{messageId:t});else{const e=new ds(r),{publicKey:n}=e,i=await e.signMessage(`chat.meowspace.lol:deletemessage ${t}`);a.emit(Wt.DeleteMessage,{messageId:t,publicKey:n,signature:i})}}),[a,n]),M=(0,i.useCallback)((()=>{if(null==a)return;if(null==n)return;const e=window.prompt(`Kick ${o}${ht(s)} from ${n}?\nReason (optional):`);null!=e&&a.emit(Wt.Kick,{cid:n,connId:r,reason:e})}),[a,n,r,o,s]),j=(0,i.useCallback)((e=>{let{connId:t}=e;if(null==a)return;if(null==n)return;const r=`${o}${ht(s)}`,i=fs({roomName:null!==d&&void 0!==d?d:"room",user:r});if(!i)return;const{duration:l,reason:u}=i;a.emit(Wt.SetMode,{cid:n,modes:[{mode:"b",arg:JSON.stringify({connId:t,reason:u,duration:l}),enable:!0}]})}),[a,n,d,o,s]),T=(0,i.useCallback)((e=>{let{connId:t}=e;if(null==a)return;if(null==n)return;const r=`${o}${ht(s)}`,i=ps({roomName:null!==d&&void 0!==d?d:"room",user:r});if(!i)return;const{duration:l,reason:u}=i;a.emit(Wt.SetMode,{cid:n,modes:[{mode:"M",arg:JSON.stringify({connId:t,reason:u,duration:l}),enable:!0}]})}),[a,n,d,o,s]),B=(0,i.useCallback)((e=>{let{messageId:t}=e;if(null==a)return;if(null==n)return;const r=`${o}${ht(s)}`,i=fs({roomName:null!==d&&void 0!==d?d:"room",user:r});if(!i)return;const{duration:l,reason:u}=i;a.emit(Wt.SetMode,{cid:n,modes:[{mode:"b",arg:JSON.stringify({messageId:t,reason:u,duration:l}),enable:!0}]})}),[a,n,d,o,s]),P=(0,i.useCallback)((e=>{let{messageId:t}=e;if(null==a)return;if(null==n)return;const r=`${o}${ht(s)}`,i=ps({roomName:null!==d&&void 0!==d?d:"room",user:r});if(!i)return;const{duration:l,reason:u}=i;a.emit(Wt.SetMode,{cid:n,modes:[{mode:"M",arg:JSON.stringify({messageId:t,reason:u,duration:l}),enable:!0}]})}),[a,n,d,o,s]),N=(0,i.useCallback)((()=>{if(null==a)return;if(null==n)return;window.confirm(`Ban ${o}${ht(s)} from ${n}?\n\nYou can remove the ban later via the channel settings.`)&&a.emit(Wt.SetMode,{cid:n,modes:[{mode:"b",arg:JSON.stringify({userId:s}),enable:!0}]})}),[a,n,o,s]);return(0,i.useMemo)((()=>({canAssignRole:A,canDeleteMessageAsOp:_,canKick:S,deleteMessage:I,kick:M,canBan:E,canMute:C,banByConnId:j,banByUserId:N,banByMessageId:B,muteByConnId:T,muteByMessageId:P})),[A,_,S,I,M,E,C,j,N,B,T,P])},fs=e=>{let{roomName:t,user:n}=e;if(!window.confirm(`Ban ${n} from ${t}? \n\nYou will be asked for duration and reason in the next steps.`))return null;const r=window.prompt(`Banning ${n} from ${t}... \n\nEnter a duration, such as 35h20m5s, or leave empty for permaban.`);if(null==r)return null;const i=window.prompt(`Banning ${n} from ${t}... \n\nEnter a reason.`);if(null==i)return null;return window.confirm(`Ban ${n} from ${t}?\n \nDuration: ${null!=r?r:"permanent"} \nReason: ${i||"none given"}`)?{duration:r,reason:i}:null},ps=e=>{let{roomName:t,user:n}=e;if(!window.confirm(`Mute ${n} in ${t}? \n\nYou will be asked for duration and reason in the next steps.`))return null;const r=window.prompt(`Muting ${n} in ${t}... \n\nEnter a duration, such as 35h20m5s, or leave empty for permanent mute.`);if(null==r)return null;const i=window.prompt(`Muting ${n} in ${t}... \n\nEnter a reason.`);if(null==i)return null;return window.confirm(`Mute ${n} in ${t}?\n \nDuration: ${null!=r?r:"permanent"} \nReason: ${i||"none given"}`)?{duration:r,reason:i}:null},ms=()=>{const{currentChannel:e}=(0,i.useContext)(Yw),{chatEditor:t}=(0,i.useContext)(Hw),{connId:n,userId:r,name:o,messageId:s,pastSecret:a}=(0,i.useContext)(Vp),l="server"===r,{deleteMessage:u}=hs({room:e,connId:n,userId:r,name:o}),c=(0,i.useCallback)((()=>{l?null!=e&&t.remove(e,s):u({messageId:s,pastSecret:a})}),[u,s,a,e,t,l]);return(0,It.jsxs)("span",{className:"DeleteMessageButton",onClick:c,children:[(0,It.jsx)("span",{className:"icon-trash"}),(0,It.jsx)("span",{className:"tooltip",children:(0,It.jsx)(Vn,{children:"Delete"})})]})},gs=()=>{const{setMenuParams:e}=(0,i.useContext)(Vp),t=(0,i.useRef)(null),n=(0,i.useCallback)((n=>{if(null==t.current)return;const{x:r,y:i,width:o,height:s}=t.current.getBoundingClientRect();e({x:r+o-240,y:i+s+8})}),[e]);return(0,It.jsxs)("span",{className:"MessageOptionsButton",onClick:n,ref:t,children:[(0,It.jsx)("span",{className:"icon-options"}),(0,It.jsx)("span",{className:"tooltip",children:(0,It.jsx)(Vn,{children:"More"})})]})},ys=e=>{let{id:t}=e;const{socket:n,userData:r}=(0,i.useContext)(Rw),{messageId:o,reactions:s}=(0,i.useContext)(Vp),a=(0,i.useMemo)((()=>{var e;return null!=r&&(null===(e=s[t])||void 0===e?void 0:e.includes(r.userId))}),[r,s,t]),l=(0,i.useCallback)((()=>{if(null==n)return;const e=a?-1:1;n.emit(Wt.Reaction,{data:t,messageId:o,action:e})}),[n,o,t,a]);return(0,It.jsx)("span",{className:"ReactionButton"+(a?" hasReacted":""),onClick:l,children:(0,It.jsx)(Nn,{emoji:t})})},vs=()=>{const e=Pn();return(0,It.jsxs)("span",{className:"ReplyButton",onClick:e,children:[(0,It.jsx)("span",{className:"icon-action-undo"}),(0,It.jsx)("span",{className:"tooltip",children:(0,It.jsx)(Vn,{children:"Reply"})})]})},bs=()=>{const{currentChannel:e}=(0,i.useContext)(Yw),{chatEditor:t}=(0,i.useContext)(Hw),{connId:n,userId:r,messageId:o,name:s,color:a,content:l,pastSecret:u,signedMessageData:c,active:d,solAddress:h}=(0,i.useContext)(Vp),f="server"===r,p=null!=u,{canAssignRole:m,canDeleteMessageAsOp:g,canKick:y,deleteMessage:v,kick:b,banByMessageId:w,muteByMessageId:x,canBan:k,canMute:_}=hs({room:e,connId:n,userId:r,name:s}),S=(0,i.useCallback)((()=>{f?null!=e&&t.remove(e,o):v({messageId:o,pastSecret:u})}),[v,o,u,e,t,f]),E=(0,i.useCallback)((()=>{w({messageId:o})}),[w,o]),C=(0,i.useCallback)((()=>{x({messageId:o})}),[x,o]),A=Pn(),I=(0,i.useCallback)((()=>{navigator.clipboard.writeText(l)}),[l]),M=(0,i.useCallback)((()=>{navigator.clipboard.writeText(o)}),[o]),j=(0,i.useCallback)((()=>{navigator.clipboard.writeText(r)}),[r]);return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(xs,{children:(0,It.jsxs)("span",{children:[(0,It.jsx)("span",{style:{color:a,fontWeight:"bold"},children:s}),(0,It.jsx)("span",{style:{color:"var(--sub)",fontSize:"11px",fontFamily:"var(--font-mono)",marginLeft:"4px"},children:ht(r)})]})}),!f&&window.isHandheld&&(0,It.jsx)(xs,{style:{padding:"0 8px 2px"},children:Rn.map((e=>(0,It.jsx)(ys,{id:e},e)))}),(0,It.jsx)(ws,{}),!f&&!d&&(0,It.jsxs)(xs,{onClick:A,children:[(0,It.jsx)(Un,{}),(0,It.jsx)(ks,{children:"Reply"})]}),!f&&(0,It.jsxs)(xs,{onClick:I,children:[(0,It.jsx)(Fn,{}),(0,It.jsx)(ks,{children:"Copy message"})]}),!f&&(0,It.jsxs)(xs,{onClick:M,children:[(0,It.jsx)(zn,{}),(0,It.jsx)(ks,{children:"Copy message id"})]}),!f&&(0,It.jsxs)(xs,{onClick:j,children:[(0,It.jsx)(Hn,{}),(0,It.jsx)(ks,{children:"Copy user id"})]}),(f||p||g)&&(0,It.jsxs)(xs,{onClick:S,children:[(0,It.jsx)(Wn,{}),(0,It.jsx)(ks,{children:"Delete message"})]}),!f&&(y||k||_)&&(0,It.jsx)(ws,{}),!f&&y&&(0,It.jsxs)(xs,{onClick:b,children:[(0,It.jsx)($n,{}),(0,It.jsx)(ks,{children:"Kick user"})]}),!f&&k&&(0,It.jsxs)(xs,{onClick:E,children:[(0,It.jsx)(Kn,{}),(0,It.jsx)(ks,{children:"Ban user"})]}),!f&&_&&(0,It.jsxs)(xs,{onClick:C,children:[(0,It.jsx)(qn,{}),(0,It.jsx)(ks,{children:"Mute user"})]})]})},ws=()=>(0,It.jsx)("div",{style:{margin:"4px 2px",borderBottom:"1px solid var(--muted)"}}),xs=e=>{let{onClick:t,style:n,children:r}=e;const o=St({background:"var(--bg-hover)",color:"var(--hover)",cursor:"pointer"}),s=(e=>{const[t,n]=(0,i.useState)(!1);return{style:t?e:{},props:{onTouchStart:(0,i.useCallback)((()=>n(!0)),[]),onTouchEnd:(0,i.useCallback)((()=>n(!1)),[]),onTouchMove:(0,i.useCallback)((()=>n(!1)),[]),onTouchCancel:(0,i.useCallback)((()=>n(!1)),[])},isTouching:t}})({background:"var(--bg-hover)",color:"var(--hover)"});return(0,It.jsx)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-start",alignItems:"center",padding:window.isHandheld?"8px 8px":"4px 8px",borderRadius:"2px",...n,...t&&o.style,...t&&s.style},...t&&o.props,...t&&s.props,onClick:e=>t?t(e):e.stopPropagation(),children:r})},ks=e=>{let{children:t}=e;return(0,It.jsx)("span",{children:t})},_s=e=>{let{pos:t,onClose:n}=e;const{windowWidth:r,windowHeight:o}=(0,i.useContext)(Rw),s=(0,i.useRef)(null),a=(0,i.useCallback)((()=>{n()}),[n]);Km(a),(0,i.useEffect)((()=>{const e=e=>{s.current&&!s.current.contains(e.target)&&a()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[a]);const l=(0,i.useCallback)((()=>{if(null==s.current)return;const{x:e,y:n}=t,{width:i,height:a}=s.current.getBoundingClientRect();let l=e,u=n;e+i>r&&(l-=e+i-r+32),n+a>o&&(u-=n+a-o+32),s.current.style.left=l.toString()+"px",s.current.style.top=u.toString()+"px"}),[s,t,r,o]);return(0,i.useEffect)((()=>{l()}),[l]),(0,It.jsx)("div",{className:"MessageContextMenu",ref:s,style:Ss,onClick:a,onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},children:(0,It.jsx)(bs,{})})},Ss={display:"flex",flexFlow:"column nowrap",position:"fixed",zIndex:"1000",width:"240px",background:"var(--bg)",color:"var(--text)",border:"1px solid var(--border)",borderRadius:"4px",overflow:"hidden",padding:"4px",fontSize:"14px",boxShadow:"0 0 1px 2px var(--bg)",userSelect:"none",WebkitUserSelect:"none"},Es="MenuMobile_enter__n7PsN",Cs="MenuMobile_exit__mh4GV",As="MenuMobile_overlayEnter__gaer7",Is="MenuMobile_overlayExit__LXvtW",Ms=e=>{let{onClose:t}=e;const n=(0,i.useRef)(null),{setSlideDisabled:r}=(0,i.useContext)(dx),[o,s]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),u=(0,i.useCallback)((()=>{o||a||(l(!0),setTimeout((()=>{l(!1),t()}),300))}),[o,a,t]);return(0,i.useEffect)((()=>(r(!0),()=>r(!1))),[r]),(0,i.useEffect)((()=>{s(!0),setTimeout((()=>s(!1)),300)}),[]),(0,i.useEffect)((()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&u()};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[o,a,u]),(0,It.jsx)("div",{style:js,className:a?Is:As,children:(0,It.jsx)("div",{ref:n,style:Ts,className:"Modal MessageBottomSheet "+(a?Cs:Es),onClick:u,onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},children:(0,It.jsx)(bs,{})})})},js={position:"fixed",height:"100%",width:"100%",left:"0",top:"0",zIndex:"999",background:"#0009"},Ts={display:"flex",flexFlow:"column nowrap",position:"fixed",left:"0",bottom:"0",transform:"translateY(50%)",maxHeight:"50%",width:"100%",zIndex:"1000",background:"var(--bg)",color:"var(--text)",borderRadius:"8px 8px 0 0",overflow:"hidden",padding:"4px 4px 16px",fontSize:"16px",boxShadow:"0 0 4px 2px #0002",userSelect:"none",WebkitUserSelect:"none"},Bs=e=>{var t;let{hover:n}=e;const{userData:r}=(0,i.useContext)(Rw),{currentChannel:o}=(0,i.useContext)(Yw),{active:s,pastSecret:a,signedMessageData:l,userId:u}=(0,i.useContext)(Vp),c=Gm(),d="server"===u,h=null!=a,f=(null===r||void 0===r||r.authorized,null!=l&&l.failed,Zp(o,null!==(t=null===r||void 0===r?void 0:r.userId)&&void 0!==t?t:"")),p=Zp(o,u),m=f?en[f]:0,g=m>=en.o&&m>(p?en[p]:0);return n?s?null:(0,It.jsx)("div",{className:"MessageMenu"+(n?" hover":""),onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},children:d?(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(ms,{}),!d&&(0,It.jsx)(gs,{})]}):(0,It.jsxs)(It.Fragment,{children:[Rn.map((e=>(0,It.jsx)(ys,{id:e},e))),Rn.length>0&&(0,It.jsx)("span",{className:"divider"}),(0,It.jsx)(vs,{}),(h||g)&&c?(0,It.jsx)(ms,{}):(0,It.jsx)(gs,{})]})}):null},Ps=()=>{const{time:e}=(0,i.useContext)(Vp),t=Nw(e);return(0,It.jsx)("span",{className:"MessageTime",children:e?t:"Sending..."})},Ns="Checkmark_animation__uLkof",Rs=e=>{let{onClick:t}=e;return(0,It.jsx)("span",{style:Ls,onClick:t,children:(0,It.jsx)("svg",{style:Os,className:Ns,viewBox:"0 0 24 24",children:(0,It.jsx)("path",{fillRule:"evenodd",d:"M11.593965,2.08736316 C11.8155418,1.98891464 12.0639725,1.97485056 12.2932219,2.04517094 L12.406035,2.08736316 L21.406035,6.08614246 C21.7680046,6.24696874 21.9974374,6.60402426 22.0000116,6.99295906 L21.9938837,7.11043153 L21.421479,12.2620742 C21.1288947,14.8953332 19.6919006,17.2604209 17.5024605,18.7341239 L17.2465158,18.9001752 L12.5299989,21.8479983 C12.2417587,22.0281485 11.8846299,22.0481651 11.5810811,21.9080484 L11.4700011,21.8479983 L6.75348416,18.9001752 C4.50674338,17.4959623 2.9973732,15.1763947 2.61733718,12.5646862 L2.57852101,12.2620742 L2.00611627,7.11043153 C1.96237547,6.71676437 2.15492555,6.3385415 2.48944458,6.14011287 L2.59396504,6.08614246 L11.593965,2.08736316 Z M12,4.09548316 L4.074684,7.61677088 L4.56628848,12.0412112 C4.79233189,14.0756019 5.89660391,15.904196 7.58032075,17.0519337 L7.81348204,17.2041786 L12,19.8207524 L16.186518,17.2041786 C17.9222943,16.1193184 19.0922069,14.3320083 19.3974719,12.3173079 L19.4337115,12.0412112 L19.925316,7.61677088 L12,4.09548316 Z M14.2136429,8.38221966 C14.5548556,7.94794959 15.1835091,7.87251128 15.6177798,8.21372347 C16.018645,8.52868858 16.1137597,9.0885733 15.8576477,9.51441088 L15.7862762,9.61785831 L11.7862996,14.6178079 C11.4423592,15.0555496 10.8149977,15.1228552 10.3877107,14.7908187 L10.2928777,14.7070928 L8.2928926,12.707118 C7.90236913,12.3165951 7.90236913,11.6834324 8.2928926,11.2929096 C8.65337579,10.9324269 9.22060564,10.9046975 9.61289601,11.2097213 L9.70710315,11.2929096 L10.9100574,12.4958547 L14.2136429,8.38221966 Z"})})})},Ls={marginLeft:"0.25em",borderRadius:"50%",cursor:"pointer"},Os={display:"inline-block",verticalAlign:"-2px",fill:"var(--verification-badge, hsl(120, 100%, 50%))",height:"14px",width:"14px",outline:"none"},Ds=e=>{let{onClick:t}=e;return(0,It.jsx)("span",{className:"icon-flag",style:Us,onClick:t})},Us={marginLeft:"4px",borderRadius:"50%",cursor:"pointer",display:"inline-block",verticalAlign:"-1px",color:"hsl(0, 100%, 75%)",fontSize:"12px"},zs=e=>{let{lines:t}=e;const{signedMessageData:n}=(0,i.useContext)(Vp),r=null!=n,o=r&&"external"===n.signatureType,s=r&&n.failed,a=(0,i.useCallback)((()=>{null!=n&&alert(`Signed by ${n.displayKey}`)}),[n]),l=(0,i.useCallback)((()=>{null!=n&&alert(`This message was signed, but verification failed (${n.failReason}).`)}),[n]);return(0,It.jsx)("div",{className:"MessageContent"+(s?" showFlag":""),children:t.map(((e,n)=>(0,It.jsxs)("span",{children:[e,n===t.length-1&&(0,It.jsxs)(It.Fragment,{children:[o&&(0,It.jsx)(Rs,{onClick:a}),s&&(0,It.jsx)(Ds,{onClick:l}),(0,It.jsx)(Ln,{})]}),(0,It.jsx)("br",{})]},n)))})},Fs=e=>{let{onClick:t}=e;const{name:n,shortId:r,color:o,background:s,solAddress:a}=(0,i.useContext)(Vp);return(0,It.jsx)("span",{className:"MessageName NameModern",children:(0,It.jsxs)("span",{className:"MessageAuthor",children:[(0,It.jsx)("span",{className:"MessageAuthorName",style:{color:o,background:s,cursor:a.length>0?"pointer":"auto"},onClick:t,children:n}),a.length>0&&(0,It.jsx)("span",{className:"icon-user",style:{display:"inline-block",fontSize:"8px",color:"gold",borderRadius:"50%",padding:"3px 4px 4px 3px",verticalAlign:"8px"}}),"\xa0",(0,It.jsx)("span",{className:"MessageAuthorId",children:r})]})})},Hs=e=>{let{onClick:t}=e;const{name:n,shortId:r,color:o,background:s,solAddress:a}=(0,i.useContext)(Vp),[l,u]=(0,i.useState)(!1);return(0,It.jsxs)("span",{className:"MessageName NameCompact",children:["\xa0",(0,It.jsxs)("span",{className:"MessageAuthor",style:{color:o,background:s},onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),onClick:t,children:[(0,It.jsx)("span",{className:"MessageAuthorName",style:{cursor:a.length>0?"pointer":"auto"},children:n}),a.length>0&&(0,It.jsx)("span",{className:"icon-user",style:{display:"inline-block",fontSize:"8px",color:"gold",borderRadius:"50%",padding:"3px 4px 4px 3px",verticalAlign:"8px"}}),l&&(0,It.jsx)(Ws,{children:r})]}),"\xa0"]})},Ws=e=>{let{children:t}=e;return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)("span",{style:$s}),(0,It.jsx)("span",{style:Ks,children:t})]})},$s={position:"absolute",top:"-50%",left:"50%",transform:"translateX(-50%)",width:"0",height:"0",borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:"10px solid var(--text)",zIndex:"1"},Ks={position:"absolute",top:"-160%",left:"50%",transform:"translateX(-50%)",width:"90px",padding:"4px 8px",borderRadius:"4px",background:"var(--text)",color:"var(--bg)",border:"1px solid var(--bg)",fontWeight:"normal",fontSize:"12px",textAlign:"center",fontFamily:"var(--font-mono)",userSelect:"none",WebkitUserSelect:"none"},qs="_RC",Vs=e=>{let{data:t}=e;return"REFERENCE_DEAD"===t?(0,It.jsx)(Js,{}):(0,It.jsx)(Gs,{data:t})},Gs=e=>{let{data:t}=e;const{name:n,content:r,color:o}=t,s=(0,i.useRef)(null);et(s,"--user-hue",o.toString());const a=Jp(r);return(0,It.jsxs)("span",{className:"Reference",ref:s,children:["> ",(0,It.jsx)("span",{className:"name",children:n})," ",(0,It.jsx)("span",{className:"content",children:a})]})},Js=()=>(0,It.jsx)("span",{className:"Reference dead",children:"> Unknown message."}),Ys=e=>{let{style:t={},children:n}=e;return(0,It.jsx)("div",{className:"replyWrap",style:t,children:(0,It.jsx)("div",{children:(0,It.jsx)("div",{children:n})})})},Zs=e=>{let{href:t,icon:n,filename:r}=e;const i=St({});return(0,It.jsxs)("a",{className:"MessageEmbed LinkOnly"+(i.isHovering?" hover":""),...i.props,href:t,rel:"noopener noreferrer nofollow",target:"_blank",children:[(0,It.jsx)("span",{className:n}),(0,It.jsx)("span",{className:"filename",children:r})]})},Xs=e=>{let{filename:t,linkOnly:n}=e;const{setShowEmbedPopup:r}=(0,i.useContext)(Rw),[o,s]=(0,i.useState)(!1),a=(0,i.useCallback)((()=>{s(!0)}),[]),l=`${Bt}/attachments/${t}`,u=`${Bt}/attachments/thumbnails/${t}`;return n?(0,It.jsx)(Zs,{href:l,icon:"icon-picture",filename:t}):window.isHandheld?(0,It.jsx)("div",{className:"MessageEmbed ImageEmbed",style:Qs,children:(0,It.jsx)("a",{style:ea,href:l,rel:"noopener noreferrer nofollow",target:"_blank",children:(0,It.jsx)("img",{onLoad:a,src:u,alt:t,style:ta({loaded:o})})})}):(0,It.jsx)("div",{className:"MessageEmbed ImageEmbed",style:Qs,children:(0,It.jsx)("a",{style:ea,onClick:e=>{0!==e.button||e.metaKey||e.ctrlKey||e.altKey||(e.preventDefault(),r({fullUrl:l,filename:t}))},href:l,rel:"noopener noreferrer nofollow",target:"_blank",children:(0,It.jsx)("img",{onLoad:a,src:u,alt:t,style:ta({loaded:o})})})})},Qs={padding:"4px"},ea={display:"inline-block",borderRadius:"6px",overflow:"hidden",cursor:"pointer"},ta=e=>{let{loaded:t}=e;const n="160px";return{display:"block",maxWidth:"100%",maxHeight:n,height:t?"auto":n}},na=e=>{let{filename:t,linkOnly:n}=e;const[r,o]=(0,i.useState)(!1),s=(0,i.useCallback)((()=>{o(!0)}),[]),a=`${Bt}/attachments/${t}`;return n?(0,It.jsx)(Zs,{href:a,icon:"icon-picture",filename:t}):(0,It.jsx)("div",{className:"MessageEmbed SVGEmbed",style:ra,children:(0,It.jsx)("a",{style:ia,href:a,rel:"noopener noreferrer nofollow",target:"_blank",children:(0,It.jsx)("img",{onLoad:s,src:a,alt:t,style:oa({loaded:r})})})})},ra={padding:"4px"},ia={borderRadius:"6px",overflow:"hidden"},oa=e=>{let{loaded:t}=e;const n="160px";return{display:"inline-block",maxWidth:"100%",maxHeight:n,height:t?"auto":n}},sa=e=>{let{filename:t,linkOnly:n}=e;const r=`${Bt}/attachments/${t}`;return n?(0,It.jsx)(Zs,{href:r,icon:"icon-music-tone-alt",filename:t}):(0,It.jsx)("div",{className:"MessageEmbed AudioEmbed",style:aa,children:(0,It.jsx)("span",{style:la,children:(0,It.jsx)("audio",{src:r,controls:!0,style:ua({loaded:!0})})})})},aa={padding:"4px"},la={display:"inline-block",borderRadius:"6px",overflow:"hidden"},ua=e=>{let{loaded:t}=e;return{display:"block",maxWidth:"100%"}},ca=e=>{let{filename:t,linkOnly:n}=e;const r=`${Bt}/attachments/${t}`,o=(0,i.useRef)(null);return(0,i.useEffect)((()=>{null!=o.current&&(o.current.volume=.5)}),[o]),n?(0,It.jsx)(Zs,{href:r,icon:"icon-film",filename:t}):(0,It.jsx)("div",{className:"MessageEmbed VideoEmbed",style:da,children:(0,It.jsx)("span",{style:ha,children:(0,It.jsx)("video",{src:r,controls:!0,ref:o,style:fa({loaded:!0})})})})},da={padding:"4px"},ha={display:"inline-block",borderRadius:"6px",overflow:"hidden"},fa=e=>{let{loaded:t}=e;const n="300px";return{display:"block",maxWidth:"100%",maxHeight:n,height:t?"auto":n}},pa=e=>{let{name:t,filename:n}=e;const r=`${Bt}/attachments/${n}`;return(0,It.jsx)(Zs,{href:r,icon:"icon-doc",filename:t})},ma=e=>{let{embedId:t,style:n={},maxWidth:r="initial",aspectRatio:i=16/9}=e;return(0,It.jsx)("div",{className:"MessageEmbed YouTubeEmbed",style:{...n,overflow:"hidden",maxWidth:r},children:(0,It.jsx)("div",{style:{position:"relative",paddingBottom:`${(100/i).toFixed(2)}%`},children:(0,It.jsx)("iframe",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},src:`https://www.youtube-nocookie.com/embed/${t}/`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})})},ga=e=>{let{attachments:t}=e;return(0,It.jsx)("div",{className:"Attachments"+(!window.isHandheld&&t.length>1?" multiple":""),children:t.map(((e,t)=>(0,It.jsx)(ya,{name:e.name,path:e.url},t)))})},ya=e=>{let{name:t,path:n}=e;const{settings:{embedImages:r}}=(0,i.useContext)(nx),o=(0,i.useMemo)((()=>n&&(e=>{const t=e.split(".").pop();switch(null===t||void 0===t?void 0:t.toLowerCase()){case"png":case"jpg":case"jpeg":case"webp":case"gif":return"image";case"svg":return"svg";case"mp4":case"mpeg":case"mov":case"3gp":case"webm":return"video";case"flac":case"mp3":case"oga":case"wav":case"weba":return"audio";default:return"other"}})(n)),[n]);return(0,It.jsxs)(It.Fragment,{children:["image"===o&&(0,It.jsx)(Xs,{filename:n,linkOnly:!r}),"svg"===o&&(0,It.jsx)(na,{filename:n,linkOnly:!r}),"video"===o&&(0,It.jsx)(ca,{filename:n,linkOnly:!r}),"audio"===o&&(0,It.jsx)(sa,{filename:n,linkOnly:!r}),"other"===o&&(0,It.jsx)(pa,{name:t,filename:n})]})},va=e=>{let{children:t}=e;return(0,It.jsx)("span",{style:{flex:"0 0 16px",display:"flex",alignItems:"center",marginRight:"10px"},children:t})},ba=()=>(0,It.jsx)(va,{children:(0,It.jsx)("span",{className:"icon-key"})});var wa=n(918);function xa(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function ka(e){if(!((t=e)instanceof Uint8Array||null!=t&&"object"===typeof t&&"Uint8Array"===t.constructor.name))throw new Error("Uint8Array expected");for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${e.length}`)}function _a(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");xa(e.outputLen),xa(e.blockLen)}function Sa(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ea(e,t){ka(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Ca="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;const Aa=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Ia=(e,t)=>e<<32-t|e>>>t;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function Ma(e){return"string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),ka(e),e}class ja{clone(){return this._cloneInto()}}function Ta(e){const t=t=>e().update(Ma(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function Ba(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Ca&&"function"===typeof Ca.getRandomValues)return Ca.getRandomValues(new Uint8Array(e));if(Ca&&"function"===typeof Ca.randomBytes)return Ca.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}const Pa=(e,t,n)=>e&t^e&n^t&n;class Na extends ja{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Aa(this.buffer)}update(e){Sa(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=Ma(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=Aa(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Sa(this),Ea(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let c=o;c<r;c++)t[c]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,u=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+u,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=Aa(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)s.setUint32(4*c,u[c],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const Ra=BigInt(2**32-1),La=BigInt(32);function Oa(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&Ra),l:Number(e>>La&Ra)}:{h:0|Number(e>>La&Ra),l:0|Number(e&Ra)}}const Da={fromBig:Oa,split:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=Oa(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]},toBig:(e,t)=>BigInt(e>>>0)<<La|BigInt(t>>>0),shrSH:(e,t,n)=>e>>>n,shrSL:(e,t,n)=>e<<32-n|t>>>n,rotrSH:(e,t,n)=>e>>>n|t<<32-n,rotrSL:(e,t,n)=>e<<32-n|t>>>n,rotrBH:(e,t,n)=>e<<64-n|t>>>n-32,rotrBL:(e,t,n)=>e>>>n-32|t<<64-n,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,n)=>e<<n|t>>>32-n,rotlSL:(e,t,n)=>t<<n|e>>>32-n,rotlBH:(e,t,n)=>t<<n-32|e>>>64-n,rotlBL:(e,t,n)=>e<<n-32|t>>>64-n,add:function(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}},add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0,add5H:(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0,add5L:(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0)},[Ua,za]=(()=>Da.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Fa=new Uint32Array(80),Ha=new Uint32Array(80);class Wa extends Na{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:s,Dl:a,Eh:l,El:u,Fh:c,Fl:d,Gh:h,Gl:f,Hh:p,Hl:m}=this;return[e,t,n,r,i,o,s,a,l,u,c,d,h,f,p,m]}set(e,t,n,r,i,o,s,a,l,u,c,d,h,f,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|l,this.El=0|u,this.Fh=0|c,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let v=0;v<16;v++,t+=4)Fa[v]=e.getUint32(t),Ha[v]=e.getUint32(t+=4);for(let v=16;v<80;v++){const e=0|Fa[v-15],t=0|Ha[v-15],n=Da.rotrSH(e,t,1)^Da.rotrSH(e,t,8)^Da.shrSH(e,t,7),r=Da.rotrSL(e,t,1)^Da.rotrSL(e,t,8)^Da.shrSL(e,t,7),i=0|Fa[v-2],o=0|Ha[v-2],s=Da.rotrSH(i,o,19)^Da.rotrBH(i,o,61)^Da.shrSH(i,o,6),a=Da.rotrSL(i,o,19)^Da.rotrBL(i,o,61)^Da.shrSL(i,o,6),l=Da.add4L(r,a,Ha[v-7],Ha[v-16]),u=Da.add4H(l,n,s,Fa[v-7],Fa[v-16]);Fa[v]=0|u,Ha[v]=0|l}let{Ah:n,Al:r,Bh:i,Bl:o,Ch:s,Cl:a,Dh:l,Dl:u,Eh:c,El:d,Fh:h,Fl:f,Gh:p,Gl:m,Hh:g,Hl:y}=this;for(let v=0;v<80;v++){const e=Da.rotrSH(c,d,14)^Da.rotrSH(c,d,18)^Da.rotrBH(c,d,41),t=Da.rotrSL(c,d,14)^Da.rotrSL(c,d,18)^Da.rotrBL(c,d,41),b=c&h^~c&p,w=d&f^~d&m,x=Da.add5L(y,t,w,za[v],Ha[v]),k=Da.add5H(x,g,e,b,Ua[v],Fa[v]),_=0|x,S=Da.rotrSH(n,r,28)^Da.rotrBH(n,r,34)^Da.rotrBH(n,r,39),E=Da.rotrSL(n,r,28)^Da.rotrBL(n,r,34)^Da.rotrBL(n,r,39),C=n&i^n&s^i&s,A=r&o^r&a^o&a;g=0|p,y=0|m,p=0|h,m=0|f,h=0|c,f=0|d,({h:c,l:d}=Da.add(0|l,0|u,0|k,0|_)),l=0|s,u=0|a,s=0|i,a=0|o,i=0|n,o=0|r;const I=Da.add3L(_,E,A);n=Da.add3H(I,k,S,C),r=0|I}({h:n,l:r}=Da.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:i,l:o}=Da.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=Da.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:l,l:u}=Da.add(0|this.Dh,0|this.Dl,0|l,0|u)),({h:c,l:d}=Da.add(0|this.Eh,0|this.El,0|c,0|d)),({h:h,l:f}=Da.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:m}=Da.add(0|this.Gh,0|this.Gl,0|p,0|m)),({h:g,l:y}=Da.add(0|this.Hh,0|this.Hl,0|g,0|y)),this.set(n,r,i,o,s,a,l,u,c,d,h,f,p,m,g,y)}roundClean(){Fa.fill(0),Ha.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const $a=Ta((()=>new Wa)),Ka=BigInt(0),qa=BigInt(1),Va=BigInt(2);function Ga(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}function Ja(e){if(!Ga(e))throw new Error("Uint8Array expected")}function Ya(e,t){if("boolean"!==typeof t)throw new Error(`${e} must be valid boolean, got "${t}".`)}const Za=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Xa(e){Ja(e);let t="";for(let n=0;n<e.length;n++)t+=Za[e[n]];return t}function Qa(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function el(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}const tl={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function nl(e){return e>=tl._0&&e<=tl._9?e-tl._0:e>=tl._A&&e<=tl._F?e-(tl._A-10):e>=tl._a&&e<=tl._f?e-(tl._a-10):void 0}function rl(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const t=nl(e.charCodeAt(o)),n=nl(e.charCodeAt(o+1));if(void 0===t||void 0===n){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[i]=16*t+n}return r}function il(e){return el(Xa(e))}function ol(e){return Ja(e),el(Xa(Uint8Array.from(e).reverse()))}function sl(e,t){return rl(e.toString(16).padStart(2*t,"0"))}function al(e,t){return sl(e,t).reverse()}function ll(e,t,n){let r;if("string"===typeof t)try{r=rl(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else{if(!Ga(t))throw new Error(`${e} must be hex string or Uint8Array`);r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(`${e} expected ${n} bytes, got ${i}`);return r}function ul(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];Ja(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const cl=e=>"bigint"===typeof e&&Ka<=e;function dl(e,t,n){return cl(e)&&cl(t)&&cl(n)&&t<=e&&e<n}function hl(e,t,n,r){if(!dl(t,n,r))throw new Error(`expected valid ${e}: ${n} <= n < ${r}, got ${typeof t} ${t}`)}function fl(e){let t;for(t=0;e>Ka;e>>=qa,t+=1);return t}const pl=e=>(Va<<BigInt(e-1))-qa,ml=e=>new Uint8Array(e),gl=e=>Uint8Array.from(e);function yl(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=ml(e),i=ml(e),o=0;const s=()=>{r.fill(1),i.fill(0),o=0},a=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n(i,r,...t)},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ml();i=a(gl([0]),e),r=a(),0!==e.length&&(i=a(gl([1]),e),r=a())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=a();const t=r.slice();n.push(t),e+=r.length}return ul(...n)};return(e,t)=>{let n;for(s(),l(e);!(n=t(u()));)l();return s(),n}}const vl={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||Ga(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function bl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=vl[n];if("function"!==typeof i)throw new Error(`Invalid validator "${n}", expected function`);const o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error(`Invalid param ${String(t)}=${o} (${typeof o}), expected ${n}`)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e}function wl(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];const a=e(n,...o);return t.set(n,a),a}}const xl=BigInt(0),kl=BigInt(1),_l=BigInt(2),Sl=BigInt(3),El=BigInt(4),Cl=BigInt(5),Al=BigInt(8);BigInt(9),BigInt(16);function Il(e,t){const n=e%t;return n>=xl?n:t+n}function Ml(e,t,n){if(n<=xl||t<xl)throw new Error("Expected power/modulo > 0");if(n===kl)return xl;let r=kl;for(;t>xl;)t&kl&&(r=r*e%n),e=e*e%n,t>>=kl;return r}function jl(e,t,n){let r=e;for(;t-- >xl;)r*=r,r%=n;return r}function Tl(e,t){if(e===xl||t<=xl)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Il(e,t),r=t,i=xl,o=kl,s=kl,a=xl;for(;n!==xl;){const e=r/n,t=r%n,l=i-s*e,u=o-a*e;r=n,n=t,i=s,o=a,s=l,a=u}if(r!==kl)throw new Error("invert: does not exist");return Il(i,t)}function Bl(e){if(e%El===Sl){const t=(e+kl)/El;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%Al===Cl){const t=(e-Cl)/Al;return function(e,n){const r=e.mul(n,_l),i=e.pow(r,t),o=e.mul(n,i),s=e.mul(e.mul(o,_l),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),n))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-kl)/_l;let n,r,i;for(n=e-kl,r=0;n%_l===xl;n/=_l,r++);for(i=_l;i<e&&Ml(i,t,e)!==e-kl;i++);if(1===r){const t=(e+kl)/El;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const o=(n+kl)/_l;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,l=e.pow(e.mul(e.ONE,i),n),u=e.pow(s,o),c=e.pow(s,n);for(;!e.eql(c,e.ONE);){if(e.eql(c,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(c);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(l,kl<<BigInt(a-t-1));l=e.sqr(n),u=e.mul(u,n),c=e.mul(c,l),a=t}return u}}(e)}const Pl=(e,t)=>(Il(e,t)&kl)===kl,Nl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Rl(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Ll(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=xl)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=Rl(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Bl(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:pl(i),ZERO:xl,ONE:kl,create:t=>Il(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("Invalid field element: expected bigint, got "+typeof t);return xl<=t&&t<e},is0:e=>e===xl,isOdd:e=>(e&kl)===kl,neg:t=>Il(-t,e),eql:(e,t)=>e===t,sqr:t=>Il(t*t,e),add:(t,n)=>Il(t+n,e),sub:(t,n)=>Il(t-n,e),mul:(t,n)=>Il(t*n,e),pow:(e,t)=>function(e,t,n){if(n<xl)throw new Error("Expected power > 0");if(n===xl)return e.ONE;if(n===kl)return t;let r=e.ONE,i=t;for(;n>xl;)n&kl&&(r=e.mul(r,i)),i=e.sqr(i),n>>=kl;return r}(a,e,t),div:(t,n)=>Il(t*Tl(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>Tl(t,e),sqrt:r.sqrt||(e=>s(a,e)),invertBatch:e=>function(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}(a,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?al(e,o):sl(e,o),fromBytes:e=>{if(e.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${e.length}`);return n?ol(e):il(e)}});return Object.freeze(a)}function Ol(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Dl(e){const t=Ol(e);return t+Math.ceil(t/2)}const Ul=BigInt(0),zl=BigInt(1),Fl=new WeakMap,Hl=new WeakMap;function Wl(e,t){const n=(e,t)=>{const n=t.negate();return e?n:t},r=e=>{if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error(`Wrong window size=${e}, should be [1..${t}]`)},i=e=>{r(e);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}};return{constTimeNegate:n,unsafeLadder(t,n){let r=e.ZERO,i=t;for(;n>Ul;)n&zl&&(r=r.add(i)),i=i.double(),n>>=zl;return r},precomputeWindow(e,t){const{windows:n,windowSize:r}=i(t),o=[];let s=e,a=s;for(let i=0;i<n;i++){a=s,o.push(a);for(let e=1;e<r;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(t,r,o){const{windows:s,windowSize:a}=i(t);let l=e.ZERO,u=e.BASE;const c=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<s;e++){const t=e*a;let i=Number(o&c);o>>=h,i>a&&(i-=d,o+=zl);const s=t,f=t+Math.abs(i)-1,p=e%2!==0,m=i<0;0===i?u=u.add(n(p,r[s])):l=l.add(n(m,r[f]))}return{p:l,f:u}},wNAFCached(e,t,n){const r=Hl.get(e)||1;let i=Fl.get(e);return i||(i=this.precomputeWindow(e,r),1!==r&&Fl.set(e,n(i))),this.wNAF(r,i,t)},setWindowSize(e,t){r(t),Hl.set(e,t),Fl.delete(e)}}}function $l(e,t,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");r.forEach(((e,n)=>{if(!t.isValid(e))throw new Error(`wrong scalar at index ${n}`)})),n.forEach(((t,n)=>{if(!(t instanceof e))throw new Error(`wrong point at index ${n}`)}));const i=fl(BigInt(n.length)),o=i>12?i-3:i>4?i-2:i?2:1,s=(1<<o)-1,a=new Array(s+1).fill(e.ZERO),l=Math.floor((t.BITS-1)/o)*o;let u=e.ZERO;for(let c=l;c>=0;c-=o){a.fill(e.ZERO);for(let e=0;e<r.length;e++){const t=r[e],i=Number(t>>BigInt(c)&BigInt(s));a[i]=a[i].add(n[e])}let t=e.ZERO;for(let n=a.length-1,r=e.ZERO;n>0;n--)r=r.add(a[n]),t=t.add(r);if(u=u.add(t),0!==c)for(let e=0;e<o;e++)u=u.double()}return u}function Kl(e){return function(e){const t=Nl.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});bl(e,t)}(e.Fp),bl(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Rl(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}const ql=BigInt(0),Vl=BigInt(1),Gl=BigInt(2),Jl=BigInt(8),Yl={zip215:!0};function Zl(e){const t=function(e){const t=Kl(e);return bl(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:n,n:r,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:l}=t,u=Gl<<BigInt(8*a)-Vl,c=n.create,d=Ll(t.n,t.nBitLength),h=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(r){return{isValid:!1,value:ql}}}),f=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,n)=>{if(Ya("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function m(e,t){hl("coordinate "+e,t,ql,u)}function g(e){if(!(e instanceof b))throw new Error("ExtendedPoint expected")}const y=wl(((e,t)=>{const{ex:r,ey:i,ez:o}=e,s=e.is0();null==t&&(t=s?Jl:n.inv(o));const a=c(r*t),l=c(i*t),u=c(o*t);if(s)return{x:ql,y:Vl};if(u!==Vl)throw new Error("invZ was invalid");return{x:a,y:l}})),v=wl((e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:o,ez:s,et:a}=e,l=c(i*i),u=c(o*o),d=c(s*s),h=c(d*d),f=c(l*n);if(c(d*c(f+u))!==c(h+c(r*c(l*u))))throw new Error("bad point: equation left != right (1)");if(c(i*o)!==c(s*a))throw new Error("bad point: equation left != right (2)");return!0}));class b{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,m("x",e),m("y",t),m("z",n),m("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof b)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return m("x",t),m("y",n),new b(t,n,Vl,c(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(b.fromAffine)}static msm(e,t){return $l(b,d,e,t)}_setWindowSize(e){k.setWindowSize(this,e)}assertValidity(){v(this)}equals(e){g(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:o,ez:s}=e,a=c(t*s),l=c(i*r),u=c(n*s),d=c(o*r);return a===l&&u===d}is0(){return this.equals(b.ZERO)}negate(){return new b(c(-this.ex),this.ey,this.ez,c(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,o=c(n*n),s=c(r*r),a=c(Gl*c(i*i)),l=c(e*o),u=n+r,d=c(c(u*u)-o-s),h=l+s,f=h-a,p=l-s,m=c(d*f),g=c(h*p),y=c(d*p),v=c(f*h);return new b(m,g,v,y)}add(e){g(e);const{a:n,d:r}=t,{ex:i,ey:o,ez:s,et:a}=this,{ex:l,ey:u,ez:d,et:h}=e;if(n===BigInt(-1)){const e=c((o-i)*(u+l)),t=c((o+i)*(u-l)),n=c(t-e);if(n===ql)return this.double();const r=c(s*Gl*h),f=c(a*Gl*d),p=f+r,m=t+e,g=f-r,y=c(p*n),v=c(m*g),w=c(p*g),x=c(n*m);return new b(y,v,x,w)}const f=c(i*l),p=c(o*u),m=c(a*r*h),y=c(s*d),v=c((i+o)*(l+u)-f-p),w=y-m,x=y+m,k=c(p-n*f),_=c(v*w),S=c(x*k),E=c(v*k),C=c(w*x);return new b(_,S,C,E)}subtract(e){return this.add(e.negate())}wNAF(e){return k.wNAFCached(this,e,b.normalizeZ)}multiply(e){const t=e;hl("scalar",t,Vl,r);const{p:n,f:i}=this.wNAF(t);return b.normalizeZ([n,i])[0]}multiplyUnsafe(e){const t=e;return hl("scalar",t,ql,r),t===ql?x:this.equals(x)||t===Vl?this:this.equals(w)?this.wNAF(t).p:k.unsafeLadder(this,t)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return k.unsafeLadder(this,r).is0()}toAffine(e){return y(this,e)}clearCofactor(){const{h:e}=t;return e===Vl?this:this.multiplyUnsafe(e)}static fromHex(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{d:i,a:o}=t,s=n.BYTES;e=ll("pointHex",e,s),Ya("zip215",r);const a=e.slice(),l=e[s-1];a[s-1]=-129&l;const d=ol(a),f=r?u:n.ORDER;hl("pointHex.y",d,ql,f);const p=c(d*d),m=c(p-Vl),g=c(i*p-o);let{isValid:y,value:v}=h(m,g);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const w=(v&Vl)===Vl,x=0!==(128&l);if(!r&&v===ql&&x)throw new Error("Point.fromHex: x=0 and x_0=1");return x!==w&&(v=c(-v)),b.fromAffine({x:v,y:d})}static fromPrivateKey(e){return E(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=al(t,n.BYTES);return r[r.length-1]|=e&Vl?128:0,r}toHex(){return Xa(this.toRawBytes())}}b.BASE=new b(t.Gx,t.Gy,Vl,c(t.Gx*t.Gy)),b.ZERO=new b(ql,Vl,Vl,ql);const{BASE:w,ZERO:x}=b,k=Wl(b,8*a);function _(e){return Il(e,r)}function S(e){return _(ol(e))}function E(e){const t=a;e=ll("private key",e,t);const n=ll("hashed private key",o(e),2*t),r=f(n.slice(0,t)),i=n.slice(t,2*t),s=S(r),l=w.multiply(s),u=l.toRawBytes();return{head:r,prefix:i,scalar:s,point:l,pointBytes:u}}function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=ul(...n);return S(o(p(s,ll("context",e),!!i)))}const A=Yl;w._setWindowSize(8);const I={getExtendedPublicKey:E,randomPrivateKey:()=>s(n.BYTES),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};return{CURVE:t,getPublicKey:function(e){return E(e).pointBytes},sign:function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=ll("message",e),i&&(e=i(e));const{prefix:s,scalar:l,pointBytes:u}=E(t),c=C(o.context,s,e),d=w.multiply(c).toRawBytes(),h=_(c+C(o.context,d,u,e)*l);return hl("signature.s",h,ql,r),ll("result",ul(d,al(h,n.BYTES)),2*a)},verify:function(e,t,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A;const{context:s,zip215:a}=o,l=n.BYTES;e=ll("signature",e,2*l),t=ll("message",t),void 0!==a&&Ya("zip215",a),i&&(t=i(t));const u=ol(e.slice(l,2*l));let c,d,h;try{c=b.fromHex(r,a),d=b.fromHex(e.slice(0,l),a),h=w.multiplyUnsafe(u)}catch(p){return!1}if(!a&&c.isSmallOrder())return!1;const f=C(s,d.toRawBytes(),c.toRawBytes(),t);return d.add(c.multiplyUnsafe(f)).subtract(h).clearCofactor().equals(b.ZERO)},ExtendedPoint:b,utils:I}}const Xl=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ql=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),eu=(BigInt(0),BigInt(1)),tu=BigInt(2),nu=(BigInt(3),BigInt(5)),ru=BigInt(8);function iu(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=Xl,s=e*e%o*e%o,a=jl(s,tu,o)*s%o,l=jl(a,eu,o)*e%o,u=jl(l,nu,o)*l%o,c=jl(u,t,o)*u%o,d=jl(c,n,o)*c%o,h=jl(d,r,o)*d%o,f=jl(h,i,o)*h%o,p=jl(f,i,o)*h%o,m=jl(p,t,o)*u%o;return{pow_p_5_8:jl(m,tu,o)*e%o,b2:s}}function ou(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function su(e,t){const n=Xl,r=Il(t*t*t,n),i=Il(r*r*t,n);let o=Il(e*r*iu(e*i).pow_p_5_8,n);const s=Il(t*o*o,n),a=o,l=Il(o*Ql,n),u=s===e,c=s===Il(-e,n),d=s===Il(-e*Ql,n);return u&&(o=a),(c||d)&&(o=l),Pl(o,n)&&(o=Il(-o,n)),{isValid:u||c,value:o}}const au=(()=>Ll(Xl,void 0,!0))(),lu=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:au,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:ru,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:$a,randomBytes:Ba,adjustScalarBytes:ou,uvRatio:su}))(),uu=(()=>Zl(lu))();var cu=n(6460),du=n.n(cu);function hu(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function fu(e){if(!((t=e)instanceof Uint8Array||null!=t&&"object"===typeof t&&"Uint8Array"===t.constructor.name))throw new Error("Uint8Array expected");for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${e.length}`)}function pu(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function mu(e,t){fu(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const gu=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),yu=(e,t)=>e<<32-t|e>>>t,vu=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],bu=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function wu(e){for(let t=0;t<e.length;t++)e[t]=bu(e[t])}function xu(e){return"string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),fu(e),e}class ku{clone(){return this._cloneInto()}}function _u(e){const t=t=>e().update(xu(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const Su=(e,t,n)=>e&t^e&n^t&n;class Eu extends ku{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=gu(this.buffer)}update(e){pu(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=xu(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=gu(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){pu(this),mu(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let c=o;c<r;c++)t[c]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,u=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+u,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=gu(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)s.setUint32(4*c,u[c],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const Cu=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Au=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Iu=new Uint32Array(64);class Mu extends Eu{constructor(){super(64,32,8,!1),this.A=0|Au[0],this.B=0|Au[1],this.C=0|Au[2],this.D=0|Au[3],this.E=0|Au[4],this.F=0|Au[5],this.G=0|Au[6],this.H=0|Au[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let d=0;d<16;d++,t+=4)Iu[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const e=Iu[d-15],t=Iu[d-2],n=yu(e,7)^yu(e,18)^e>>>3,r=yu(t,17)^yu(t,19)^t>>>10;Iu[d]=r+Iu[d-7]+n+Iu[d-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:l,H:u}=this;for(let d=0;d<64;d++){const e=u+(yu(s,6)^yu(s,11)^yu(s,25))+((c=s)&a^~c&l)+Cu[d]+Iu[d]|0,t=(yu(n,2)^yu(n,13)^yu(n,22))+Su(n,r,i)|0;u=l,l=a,a=s,s=o+e|0,o=i,i=r,r=n,n=e+t|0}var c;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,r,i,o,s,a,l,u)}roundClean(){Iu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const ju=_u((()=>new Mu));var Tu=n(3333),Bu=n(9563),Pu=n(3289);class Nu extends TypeError{constructor(e,t){let n;const{message:r,explanation:i,...o}=e,{path:s}=e,a=0===s.length?r:`At path: ${s.join(".")} -- ${r}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...t()])}}function Ru(e){return"object"===typeof e&&null!=e}function Lu(e){return Ru(e)&&!Array.isArray(e)}function Ou(e){return"symbol"===typeof e?e.toString():"string"===typeof e?JSON.stringify(e):`${e}`}function Du(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"===typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=n,{refinement:a,message:l=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ou(r)}\``}=e;return{value:r,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:l}}function*Uu(e,t,n,r){(function(e){return Ru(e)&&"function"===typeof e[Symbol.iterator]})(e)||(e=[e]);for(const i of e){const e=Du(i,t,n,r);e&&(yield e)}}function zu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){const{path:r=[],branch:i=[e],coerce:o=!1,mask:s=!1}=n,a={path:r,branch:i,mask:s};o&&(e=t.coercer(e,a));let l="valid";for(const u of t.validator(e,a))u.explanation=n.message,l="not_valid",yield[u,void 0];for(let[u,c,d]of t.entries(e,a)){const t=zu(c,d,{path:void 0===u?r:[...r,u],branch:void 0===u?i:[...i,c],coerce:o,mask:s,message:n.message});for(const n of t)n[0]?(l=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):o&&(c=n[1],void 0===u?e=c:e instanceof Map?e.set(u,c):e instanceof Set?e.add(c):Ru(e)&&(void 0!==c||u in e)&&(e[u]=c))}if("not_valid"!==l)for(const u of t.refiner(e,a))u.explanation=n.message,l="not_refined",yield[u,void 0];"valid"===l&&(yield[void 0,e])}()}class Fu{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:o=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=n,this.entries=s,this.coercer=o,this.validator=r?(e,t)=>Uu(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>Uu(i(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,n){const r=$u(e,t,{message:n});if(r[0])throw r[0]}(e,this,t)}create(e,t){return Hu(e,this,t)}is(e){return Wu(e,this)}mask(e,t){return function(e,t,n){const r=$u(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e){return $u(e,this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}function Hu(e,t,n){const r=$u(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Wu(e,t){return!$u(e,t)[0]}function $u(e,t){const n=zu(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),r=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(n);if(r[0]){return[new Nu(r[0],(function*(){for(const e of n)e[0]&&(yield e[0])})),void 0]}return[void 0,r[1]]}function Ku(e,t){return new Fu({type:e,schema:null,validator:t})}function qu(e){return new Fu({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${Ou(e)}`})}function Vu(){return Ku("boolean",(e=>"boolean"===typeof e))}function Gu(e){return Ku("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Ou(t)}`))}function Ju(e){const t=Ou(e),n=typeof e;return new Fu({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||`Expected the literal \`${t}\`, but received: ${Ou(n)}`})}function Yu(){return Ku("never",(()=>!1))}function Zu(e){return new Fu({...e,validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)})}function Xu(){return Ku("number",(e=>"number"===typeof e&&!isNaN(e)||`Expected a number, but received: ${Ou(e)}`))}function Qu(e){return new Fu({...e,validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)})}function ec(e,t){return new Fu({type:"record",schema:null,*entries(n){if(Ru(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>Lu(e)||`Expected an object, but received: ${Ou(e)}`,coercer:e=>Lu(e)?{...e}:e})}function tc(){return Ku("string",(e=>"string"===typeof e||`Expected a string, but received: ${Ou(e)}`))}function nc(e){const t=Yu();return new Fu({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${Ou(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function rc(e){const t=Object.keys(e);return new Fu({type:"type",schema:e,*entries(n){if(Ru(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>Lu(e)||`Expected an object, but received: ${Ou(e)}`,coercer:e=>Lu(e)?{...e}:e})}function ic(e){const t=e.map((e=>e.type)).join(" | ");return new Fu({type:"union",schema:null,coercer(t,n){for(const r of e){const[e,i]=r.validate(t,{coerce:!0,mask:n.mask});if(!e)return i}return t},validator(n,r){const i=[];for(const t of e){const[...e]=zu(n,t,r),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Ou(n)}`,...i]}})}function oc(){return Ku("unknown",(()=>!0))}function sc(e,t,n){return new Fu({...e,coercer:(r,i)=>Wu(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)})}var ac=n(2630),lc=n.n(ac),uc=n(3073);var cc=class extends uc{socket;constructor(e,t,n){super(),this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,n){const r=n||t;try{this.socket.send(e),r()}catch(i){r(i)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,n){this.socket.addEventListener(e,t,n)}};function dc(e,t){return new cc(e,t)}var hc=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},fc=class extends uc{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",{autoconnect:n=!0,reconnect:r=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=n,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=s,this.current_reconnects=0,this.generate_request_id=a||(()=>++this.rpc_id),this.dataPack=l||new hc,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,n,r){return r||"object"!==typeof n||(r=n,n=null),new Promise(((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const s=this.generate_request_id(e,t),a={jsonrpc:"2.0",method:e,params:t||void 0,id:s};this.socket.send(this.dataPack.encode(a),r,(e=>{if(e)return o(e);this.queue[s]={promise:[i,o]},n&&(this.queue[s].timeout=setTimeout((()=>{delete this.queue[s],o(new Error("reply timeout"))}),n))}))}))}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise(((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(i),(e=>{if(e)return r(e);n()}))}))}async subscribe(e){"string"===typeof e&&(e=[e]);const t=await this.call("rpc.on",e);if("string"===typeof e&&"ok"!==t[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"===typeof e&&(e=[e]);const t=await this.call("rpc.off",e);if("string"===typeof e&&"ok"!==t[e])throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(e=>{let{data:t}=e;t instanceof ArrayBuffer&&(t=wa.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch(n){return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);const e=[t.notification];if(t.params.constructor===Object)e.push(t.params);else for(let n=0;n<t.params.length;n++)e.push(t.params[n]);return Promise.resolve().then((()=>{this.emit.apply(this,e)}))}if(!this.queue[t.id])return t.method?Promise.resolve().then((()=>{this.emit(t.method,t?.params)})):void 0;"error"in t==="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]})),this.socket.addEventListener("error",(e=>this.emit("error",e))),this.socket.addEventListener("close",(n=>{let{code:r,reason:i}=n;this.ready&&setTimeout((()=>this.emit("close",r,i)),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(e,t)),this.reconnect_interval)))}))}};const pc=BigInt(2**32-1),mc=BigInt(32);function gc(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&pc),l:Number(e>>mc&pc)}:{h:0|Number(e>>mc&pc),l:0|Number(e&pc)}}function yc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=gc(e[i],t);[n[i],r[i]]=[o,s]}return[n,r]}const vc=(e,t,n)=>e<<n|t>>>32-n,bc=(e,t,n)=>t<<n|e>>>32-n,wc=(e,t,n)=>t<<n-32|e>>>64-n,xc=(e,t,n)=>e<<n-32|t>>>64-n;const kc=[],_c=[],Sc=[],Ec=BigInt(0),Cc=BigInt(1),Ac=BigInt(2),Ic=BigInt(7),Mc=BigInt(256),jc=BigInt(113);for(let n=0,RA=Cc,LA=1,OA=0;n<24;n++){[LA,OA]=[OA,(2*LA+3*OA)%5],kc.push(2*(5*OA+LA)),_c.push((n+1)*(n+2)/2%64);let e=Ec;for(let t=0;t<7;t++)RA=(RA<<Cc^(RA>>Ic)*jc)%Mc,RA&Ac&&(e^=Cc<<(Cc<<BigInt(t))-Cc);Sc.push(e)}const[Tc,Bc]=yc(Sc,!0),Pc=(e,t,n)=>n>32?wc(e,t,n):vc(e,t,n),Nc=(e,t,n)=>n>32?xc(e,t,n):bc(e,t,n);class Rc extends ku{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=r,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,hu(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var o;this.state=new Uint8Array(200),this.state32=(o=this.state,new Uint32Array(o.buffer,o.byteOffset,Math.floor(o.byteLength/4)))}keccak(){vu||wu(this.state32),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,o=n[i],s=n[i+1],a=Pc(o,s,1)^n[t],l=Nc(o,s,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=a,e[r+n+1]^=l}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=_c[n],o=Pc(t,i,r),s=Nc(t,i,r),a=kc[n];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=Tc[r],e[1]^=Bc[r]}n.fill(0)}(this.state32,this.rounds),vu||wu(this.state32),this.posOut=0,this.pos=0}update(e){pu(this);const{blockLen:t,state:n}=this,r=(e=xu(e)).length;for(let i=0;i<r;){const o=Math.min(t-this.pos,r-i);for(let t=0;t<o;t++)n[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){pu(this,!1),fu(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(mu(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return e||(e=new Rc(t,n,r,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Lc=(e,t,n)=>_u((()=>new Rc(t,e,n))),Oc=Lc(1,136,32),Dc=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Uc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),zc=new Uint32Array(64);class Fc extends Na{constructor(){super(64,32,8,!1),this.A=0|Uc[0],this.B=0|Uc[1],this.C=0|Uc[2],this.D=0|Uc[3],this.E=0|Uc[4],this.F=0|Uc[5],this.G=0|Uc[6],this.H=0|Uc[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let d=0;d<16;d++,t+=4)zc[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const e=zc[d-15],t=zc[d-2],n=Ia(e,7)^Ia(e,18)^e>>>3,r=Ia(t,17)^Ia(t,19)^t>>>10;zc[d]=r+zc[d-7]+n+zc[d-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:l,H:u}=this;for(let d=0;d<64;d++){const e=u+(Ia(s,6)^Ia(s,11)^Ia(s,25))+((c=s)&a^~c&l)+Dc[d]+zc[d]|0,t=(Ia(n,2)^Ia(n,13)^Ia(n,22))+Pa(n,r,i)|0;u=l,l=a,a=s,s=o+e|0,o=i,i=r,r=n,n=e+t|0}var c;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,r,i,o,s,a,l,u)}roundClean(){zc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Hc=Ta((()=>new Fc));class Wc extends ja{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,_a(e);const n=Ma(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Sa(this),this.iHash.update(e),this}digestInto(e){Sa(this),ka(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $c=(e,t,n)=>new Wc(e,t).update(n).digest();function Kc(e){void 0!==e.lowS&&Ya("lowS",e.lowS),void 0!==e.prehash&&Ya("prehash",e.prehash)}$c.create=(e,t)=>new Wc(e,t);const{bytesToNumberBE:qc,hexToBytes:Vc}=e,Gc={Err:class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}},_tlv:{encode:(e,t)=>{const{Err:n}=Gc;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(1&t.length)throw new n("tlv.encode: unpadded data");const r=t.length/2,i=Qa(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Qa(i.length/2|128):"";return`${Qa(e)}${o}${i}${t}`},decode(e,t){const{Err:n}=Gc;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const i=t[r++];let o=0;if(!!(128&i)){const e=127&i;if(!e)throw new n("tlv.decode(long): indefinite length not supported");if(e>4)throw new n("tlv.decode(long): byte length is too big");const s=t.subarray(r,r+e);if(s.length!==e)throw new n("tlv.decode: length bytes not complete");if(0===s[0])throw new n("tlv.decode(long): zero leftmost byte");for(const t of s)o=o<<8|t;if(r+=e,o<128)throw new n("tlv.decode(long): not minimal encoding")}else o=i;const s=t.subarray(r,r+o);if(s.length!==o)throw new n("tlv.decode: wrong value length");return{v:s,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Gc;if(e<Jc)throw new t("integer: negative integers are not allowed");let n=Qa(e);if(8&Number.parseInt(n[0],16)&&(n="00"+n),1&n.length)throw new t("unexpected assertion");return n},decode(e){const{Err:t}=Gc;if(128&e[0])throw new t("Invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("Invalid signature integer: unnecessary leading zero");return qc(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Gc,i="string"===typeof e?Vc(e):e;Ja(i);const{v:o,l:s}=r.decode(48,i);if(s.length)throw new t("Invalid signature: left bytes after parsing");const{v:a,l:l}=r.decode(2,o),{v:u,l:c}=r.decode(2,l);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Gc,r=`${t.encode(2,n.encode(e.r))}${t.encode(2,n.encode(e.s))}`;return t.encode(48,r)}},Jc=BigInt(0),Yc=BigInt(1),Zc=(BigInt(2),BigInt(3));BigInt(4);function Xc(e){const t=function(e){const t=Kl(e);bl(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=t;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:n}=t,r=Ll(t.n,t.nBitLength),i=t.toBytes||((e,t,r)=>{const i=t.toAffine();return ul(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),o=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function s(e){const{a:r,b:i}=t,o=n.sqr(e),s=n.mul(o,e);return n.add(n.add(s,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:o}=t;if(n&&"bigint"!==typeof e){if(Ga(e)&&(e=Xa(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("Invalid key");e=e.padStart(2*r,"0")}let s;try{s="bigint"===typeof e?e:il(ll("private key",e,r))}catch(a){throw new Error(`private key must be ${r} bytes, hex or bigint, not ${typeof e}`)}return i&&(s=Il(s,o)),hl("private key",s,Yc,o),s}function l(e){if(!(e instanceof d))throw new Error("ProjectivePoint expected")}const u=wl(((e,t)=>{const{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};const s=e.is0();null==t&&(t=s?n.ONE:n.inv(o));const a=n.mul(r,t),l=n.mul(i,t),u=n.mul(o,t);if(s)return{x:n.ZERO,y:n.ZERO};if(!n.eql(u,n.ONE))throw new Error("invZ was invalid");return{x:a,y:l}})),c=wl((e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");const o=n.sqr(i),a=s(r);if(!n.eql(o,a))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class d{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof d)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?d.ZERO:new d(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(d.fromAffine)}static fromHex(e){const t=d.fromAffine(o(ll("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(a(e))}static msm(e,t){return $l(d,r,e,t)}_setWindowSize(e){f.setWindowSize(this,e)}assertValidity(){c(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:r,pz:i}=this,{px:o,py:s,pz:a}=e,u=n.eql(n.mul(t,a),n.mul(o,i)),c=n.eql(n.mul(r,a),n.mul(s,i));return u&&c}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,Zc),{px:o,py:s,pz:a}=this;let l=n.ZERO,u=n.ZERO,c=n.ZERO,h=n.mul(o,o),f=n.mul(s,s),p=n.mul(a,a),m=n.mul(o,s);return m=n.add(m,m),c=n.mul(o,a),c=n.add(c,c),l=n.mul(e,c),u=n.mul(i,p),u=n.add(l,u),l=n.sub(f,u),u=n.add(f,u),u=n.mul(l,u),l=n.mul(m,l),c=n.mul(i,c),p=n.mul(e,p),m=n.sub(h,p),m=n.mul(e,m),m=n.add(m,c),c=n.add(h,h),h=n.add(c,h),h=n.add(h,p),h=n.mul(h,m),u=n.add(u,h),p=n.mul(s,a),p=n.add(p,p),h=n.mul(p,m),l=n.sub(l,h),c=n.mul(p,f),c=n.add(c,c),c=n.add(c,c),new d(l,u,c)}add(e){l(e);const{px:r,py:i,pz:o}=this,{px:s,py:a,pz:u}=e;let c=n.ZERO,h=n.ZERO,f=n.ZERO;const p=t.a,m=n.mul(t.b,Zc);let g=n.mul(r,s),y=n.mul(i,a),v=n.mul(o,u),b=n.add(r,i),w=n.add(s,a);b=n.mul(b,w),w=n.add(g,y),b=n.sub(b,w),w=n.add(r,o);let x=n.add(s,u);return w=n.mul(w,x),x=n.add(g,v),w=n.sub(w,x),x=n.add(i,o),c=n.add(a,u),x=n.mul(x,c),c=n.add(y,v),x=n.sub(x,c),f=n.mul(p,w),c=n.mul(m,v),f=n.add(c,f),c=n.sub(y,f),f=n.add(y,f),h=n.mul(c,f),y=n.add(g,g),y=n.add(y,g),v=n.mul(p,v),w=n.mul(m,w),y=n.add(y,v),v=n.sub(g,v),v=n.mul(p,v),w=n.add(w,v),g=n.mul(y,w),h=n.add(h,g),g=n.mul(x,w),c=n.mul(b,c),c=n.sub(c,g),g=n.mul(b,y),f=n.mul(x,f),f=n.add(f,g),new d(c,h,f)}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return f.wNAFCached(this,e,d.normalizeZ)}multiplyUnsafe(e){hl("scalar",e,Jc,t.n);const r=d.ZERO;if(e===Jc)return r;if(e===Yc)return this;const{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:o,k1:s,k2neg:a,k2:l}=i.splitScalar(e),u=r,c=r,h=this;for(;s>Jc||l>Jc;)s&Yc&&(u=u.add(h)),l&Yc&&(c=c.add(h)),h=h.double(),s>>=Yc,l>>=Yc;return o&&(u=u.negate()),a&&(c=c.negate()),c=new d(n.mul(c.px,i.beta),c.py,c.pz),u.add(c)}multiply(e){const{endo:r,n:i}=t;let o,s;if(hl("scalar",e,Yc,i),r){const{k1neg:t,k1:i,k2neg:a,k2:l}=r.splitScalar(e);let{p:u,f:c}=this.wNAF(i),{p:h,f:p}=this.wNAF(l);u=f.constTimeNegate(t,u),h=f.constTimeNegate(a,h),h=new d(n.mul(h.px,r.beta),h.py,h.pz),o=u.add(h),s=c.add(p)}else{const{p:t,f:n}=this.wNAF(e);o=t,s=n}return d.normalizeZ([o,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=d.BASE,i=(e,t)=>t!==Jc&&t!==Yc&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){return u(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===Yc)return!0;if(n)return n(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===Yc?this:n?n(d,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Ya("isCompressed",e),this.assertValidity(),i(d,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Ya("isCompressed",e),Xa(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=t.nBitLength,f=Wl(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:function(e){return dl(e,Yc,t.n)}}}function Qc(e){const t=function(e){const t=Kl(e);return bl(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:n,n:r}=t,i=n.BYTES+1,o=2*n.BYTES+1;function s(e){return Il(e,r)}function a(e){return Tl(e,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:c,isWithinCurveOrder:d}=Xc({...t,toBytes(e,t,r){const i=t.toAffine(),o=n.toBytes(i.x),s=ul;return Ya("isCompressed",r),r?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,n.toBytes(i.y))},fromBytes(e){const t=e.length,r=e[0],s=e.subarray(1);if(t!==i||2!==r&&3!==r){if(t===o&&4===r){return{x:n.fromBytes(s.subarray(0,n.BYTES)),y:n.fromBytes(s.subarray(n.BYTES,2*n.BYTES))}}throw new Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}{const e=il(s);if(!dl(e,Yc,n.ORDER))throw new Error("Point is not on curve");const t=c(e);let i;try{i=n.sqrt(t)}catch(a){const e=a instanceof Error?": "+a.message:"";throw new Error("Point is not on curve"+e)}return 1===(1&r)!==((i&Yc)===Yc)&&(i=n.neg(i)),{x:e,y:i}}}}),h=e=>Xa(sl(e,t.nByteLength));function f(e){return e>r>>Yc}const p=(e,t,n)=>il(e.slice(t,n));class m{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const n=t.nByteLength;return e=ll("compactSignature",e,2*n),new m(p(e,0,n),p(e,n,2*n))}static fromDER(e){const{r:t,s:n}=Gc.toSig(ll("DER",e));return new m(t,n)}assertValidity(){hl("r",this.r,Yc,r),hl("s",this.s,Yc,r)}addRecoveryBit(e){return new m(this.r,this.s,e)}recoverPublicKey(e){const{r:r,s:i,recovery:o}=this,u=b(ll("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const c=2===o||3===o?r+t.n:r;if(c>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const d=0===(1&o)?"02":"03",f=l.fromHex(d+h(c)),p=a(c),m=s(-u*p),g=s(i*p),y=l.BASE.multiplyAndAddUnsafe(f,m,g);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return rl(this.toDERHex())}toDERHex(){return Gc.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rl(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const g={isValidPrivateKey(e){try{return u(e),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const e=Dl(t.n);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.length,i=Ol(t),o=Dl(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const s=Il(n?il(e):ol(e),t-kl)+kl;return n?al(s,i):sl(s,i)}(t.randomBytes(e),t.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function y(e){const t=Ga(e),n="string"===typeof e,r=(t||n)&&e.length;return t?r===i||r===o:n?r===2*i||r===2*o:e instanceof l}const v=t.bits2int||function(e){const n=il(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},b=t.bits2int_modN||function(e){return s(v(e))},w=pl(t.nBitLength);function x(e){return hl(`num < 2^${t.nBitLength}`,e,Jc,w),sl(e,t.nByteLength)}function k(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:c}=t;let{lowS:h,prehash:p,extraEntropy:g}=i;null==h&&(h=!0),e=ll("msgHash",e),Kc(i),p&&(e=ll("prehashed msgHash",o(e)));const y=b(e),w=u(r),k=[x(w),x(y)];if(null!=g&&!1!==g){const e=!0===g?c(n.BYTES):g;k.push(ll("extraEntropy",e))}const S=ul(...k),E=y;return{seed:S,k2sig:function(e){const t=v(e);if(!d(t))return;const n=a(t),r=l.BASE.multiply(t).toAffine(),i=s(r.x);if(i===Jc)return;const o=s(n*s(E+i*w));if(o===Jc)return;let u=(r.x===i?0:2)|Number(r.y&Yc),c=o;return h&&f(o)&&(c=function(e){return f(e)?s(-e):e}(o),u^=1),new m(i,c,u)}}}const _={lowS:t.lowS,prehash:!1},S={lowS:t.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(y(e))throw new Error("first arg must be private key");if(!y(t))throw new Error("second arg must be public key");return l.fromHex(t).multiply(u(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_;const{seed:i,k2sig:o}=k(e,n,r),s=t;return yl(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)},verify:function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S;const o=e;if(n=ll("msgHash",n),r=ll("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");Kc(i);const{lowS:u,prehash:c}=i;let d,h;try{if("string"===typeof o||Ga(o))try{d=m.fromDER(o)}catch(k){if(!(k instanceof Gc.Err))throw k;d=m.fromCompact(o)}else{if("object"!==typeof o||"bigint"!==typeof o.r||"bigint"!==typeof o.s)throw new Error("PARSE");{const{r:e,s:t}=o;d=new m(e,t)}}h=l.fromHex(r)}catch(_){if("PARSE"===_.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&d.hasHighS())return!1;c&&(n=t.hash(n));const{r:f,s:p}=d,g=b(n),y=a(p),v=s(g*y),w=s(f*y),x=l.BASE.multiplyAndAddUnsafe(h,v,w)?.toAffine();return!!x&&s(x.x)===f},ProjectivePoint:l,Signature:m,utils:g}}function ed(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return $c(e,t,function(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];ka(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}(...r))},randomBytes:Ba}}const td=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),nd=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rd=BigInt(1),id=BigInt(2),od=(e,t)=>(e+t/id)/t;function sd(e){const t=td,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),u=e*e*e%t,c=u*u*e%t,d=jl(c,n,t)*c%t,h=jl(d,n,t)*c%t,f=jl(h,id,t)*u%t,p=jl(f,i,t)*f%t,m=jl(p,o,t)*p%t,g=jl(m,a,t)*m%t,y=jl(g,l,t)*g%t,v=jl(y,a,t)*m%t,b=jl(v,n,t)*c%t,w=jl(b,s,t)*p%t,x=jl(w,r,t)*u%t,k=jl(x,id,t);if(!ad.eql(ad.sqr(k),e))throw new Error("Cannot find square root");return k}const ad=Ll(td,void 0,void 0,{sqrt:sd}),ld=function(e,t){const n=t=>Qc({...e,...ed(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:ad,n:nd,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=nd,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-rd*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,s=BigInt("0x100000000000000000000000000000000"),a=od(o*e,t),l=od(-r*e,t);let u=Il(e-a*n-l*i,t),c=Il(-a*r-l*o,t);const d=u>s,h=c>s;if(d&&(u=t-u),h&&(c=t-c),u>s||c>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:h,k2:c}}}},Hc);BigInt(0);ld.ProjectivePoint;uu.utils.randomPrivateKey;const ud=()=>{const e=uu.utils.randomPrivateKey(),t=cd(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},cd=uu.getPublicKey;function dd(e){try{return uu.ExtendedPoint.fromHex(e),!0}catch{return!1}}const hd=(e,t)=>uu.sign(e,t.slice(0,32)),fd=uu.verify,pd=e=>wa.Buffer.isBuffer(e)?e:e instanceof Uint8Array?wa.Buffer.from(e.buffer,e.byteOffset,e.byteLength):wa.Buffer.from(e);class md{constructor(e){Object.assign(this,e)}encode(){return wa.Buffer.from((0,Tu.serialize)(gd,this))}static decode(e){return(0,Tu.deserialize)(gd,this,e)}static decodeUnchecked(e){return(0,Tu.deserializeUnchecked)(gd,this,e)}}const gd=new Map;var yd;const vd=32;let bd=1;class wd extends md{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=du().decode(e);if(t.length!=vd)throw new Error("Invalid public key input");this._bn=new(Zn())(t)}else this._bn=new(Zn())(e);if(this._bn.byteLength()>vd)throw new Error("Invalid public key input")}}static unique(){const e=new wd(bd);return bd+=1,new wd(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return du().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(wa.Buffer);if(e.length===vd)return e;const t=wa.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const r=wa.Buffer.concat([e.toBuffer(),wa.Buffer.from(t),n.toBuffer()]),i=ju(r);return new wd(i)}static createProgramAddressSync(e,t){let n=wa.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");n=wa.Buffer.concat([n,pd(e)])})),n=wa.Buffer.concat([n,t.toBuffer(),wa.Buffer.from("ProgramDerivedAddress")]);const r=ju(n);if(dd(r))throw new Error("Invalid seeds, address must fall off the curve");return new wd(r)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n,r=255;for(;0!=r;){try{const i=e.concat(wa.Buffer.from([r]));n=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return dd(new wd(e).toBytes())}}yd=wd,wd.default=new yd("11111111111111111111111111111111"),gd.set(wd,{kind:"struct",fields:[["_bn","u256"]]});new wd("BPFLoader1111111111111111111111111111111111");const xd=1232,kd=64;class _d extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(_d.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Sd extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Sd.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ed extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ed.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Cd{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,n)=>{t.set(e.toBase58(),n)}));const n=e=>{const n=t.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map((e=>({programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map((e=>n(e.pubkey))),data:e.data})))}}const Ad=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return Bu.Ik(32,e)},Id=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signature";return Bu.Ik(64,e)},Md=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=Bu.n_([Bu.Jq("length"),Bu.Jq("lengthPadding"),Bu.Ik(Bu.cv(Bu.Jq(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(e,t)=>n(e,t).chars.toString(),i.encode=(e,t,n)=>{const i={chars:wa.Buffer.from(e,"utf8")};return r(i,t,n)},i.alloc=e=>Bu.Jq().span+Bu.Jq().span+wa.Buffer.from(e,"utf8").length,i};function jd(e,t){const n=e=>{if(e.span>=0)return e.span;if("function"===typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const r=t[e.property];if(Array.isArray(r))return r.length*n(e.elementLayout)}else if("fields"in e)return jd({layout:e},t[e.property]);return 0};let r=0;return e.layout.fields.forEach((e=>{r+=n(e)})),r}function Td(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,0===(128&r))break}return t}function Bd(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t)}}function Pd(e,t){if(!e)throw new Error(t||"Assertion failed")}class Nd{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,r=e=>{const t=e.toBase58();let r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},i=r(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){r(o.programId).isInvoked=!0;for(const e of o.keys){const t=r(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}}return new Nd(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Pd(e.length<=256,"Max static account keys length exceeded");const t=e.filter((e=>{let[,t]=e;return t.isSigner&&t.isWritable})),n=e.filter((e=>{let[,t]=e;return t.isSigner&&!t.isWritable})),r=e.filter((e=>{let[,t]=e;return!t.isSigner&&t.isWritable})),i=e.filter((e=>{let[,t]=e;return!t.isSigner&&!t.isWritable})),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Pd(t.length>0,"Expected at least one writable signer key");const[e]=t[0];Pd(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...t.map((e=>{let[t]=e;return new wd(t)})),...n.map((e=>{let[t]=e;return new wd(t)})),...r.map((e=>{let[t]=e;return new wd(t)})),...i.map((e=>{let[t]=e;return new wd(t)}))]]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[r,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==r.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,r=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const t=new wd(i),o=e.findIndex((e=>e.equals(t)));o>=0&&(Pd(o<256,"Max lookup table index exceeded"),n.push(o),r.push(t),this.keyMetaMap.delete(i))}return[n,r]}}const Rd="Reached end of buffer unexpectedly";function Ld(e){if(0===e.length)throw new Error(Rd);return e.shift()}function Od(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const[i]=n;if(2===n.length?i+(n[1]??0)>e.length:i>=e.length)throw new Error(Rd);return e.splice(...n)}class Dd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new wd(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:du().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new Cd(this.staticAccountKeys)}static compile(e){const t=Nd.compile(e.instructions,e.payerKey),[n,r]=t.getMessageComponents(),i=new Cd(r).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:du().encode(e.data)})));return new Dd({header:n,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];Bd(t,e);const n=this.instructions.map((e=>{const{accounts:t,programIdIndex:n}=e,r=Array.from(du().decode(e.data));let i=[];Bd(i,t.length);let o=[];return Bd(o,r.length),{programIdIndex:n,keyIndicesCount:wa.Buffer.from(i),keyIndices:t,dataLength:wa.Buffer.from(o),data:r}}));let r=[];Bd(r,n.length);let i=wa.Buffer.alloc(xd);wa.Buffer.from(r).copy(i);let o=r.length;n.forEach((e=>{const t=Bu.n_([Bu.u8("programIdIndex"),Bu.Ik(e.keyIndicesCount.length,"keyIndicesCount"),Bu.A9(Bu.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Bu.Ik(e.dataLength.length,"dataLength"),Bu.A9(Bu.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);const s=Bu.n_([Bu.Ik(1,"numRequiredSignatures"),Bu.Ik(1,"numReadonlySignedAccounts"),Bu.Ik(1,"numReadonlyUnsignedAccounts"),Bu.Ik(t.length,"keyCount"),Bu.A9(Ad("key"),e,"keys"),Ad("recentBlockhash")]),a={numRequiredSignatures:wa.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:wa.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:wa.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:wa.Buffer.from(t),keys:this.accountKeys.map((e=>pd(e.toBytes()))),recentBlockhash:du().decode(this.recentBlockhash)};let l=wa.Buffer.alloc(2048);const u=s.encode(a,l);return i.copy(l,u),l.slice(0,u+i.length)}static from(e){let t=[...e];const n=Ld(t);if(n!==(127&n))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r=Ld(t),i=Ld(t),o=Td(t);let s=[];for(let d=0;d<o;d++){const e=Od(t,0,vd);s.push(new wd(wa.Buffer.from(e)))}const a=Od(t,0,vd),l=Td(t);let u=[];for(let d=0;d<l;d++){const e=Ld(t),n=Od(t,0,Td(t)),r=Od(t,0,Td(t)),i=du().encode(wa.Buffer.from(r));u.push({programIdIndex:e,accounts:n,data:i})}const c={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:i},recentBlockhash:du().encode(wa.Buffer.from(a)),accountKeys:s,instructions:u};return new Dd(c)}}class Ud{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Cd(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){return e-n<this.addressTableLookups.reduce(((e,t)=>e+t.writableIndexes.length),0)}if(e>=this.header.numRequiredSignatures){return e-t<n-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=e.find((e=>e.key.equals(n.accountKey)));if(!r)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const e of n.writableIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.writable.push(r.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<r.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${n.accountKey.toBase58()}`);t.readonly.push(r.state.addresses[e])}}return t}static compile(e){const t=Nd.compile(e.instructions,e.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const e=t.extractTableLookup(l);if(void 0!==e){const[t,{writable:i,readonly:o}]=e;n.push(t),r.writable.push(...i),r.readonly.push(...o)}}const[o,s]=t.getMessageComponents(),a=new Cd(s,r).compileInstructions(e.instructions);return new Ud({header:o,staticAccountKeys:s,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:n})}serialize(){const e=Array();Bd(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();Bd(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();Bd(i,this.addressTableLookups.length);const o=Bu.n_([Bu.u8("prefix"),Bu.n_([Bu.u8("numRequiredSignatures"),Bu.u8("numReadonlySignedAccounts"),Bu.u8("numReadonlyUnsignedAccounts")],"header"),Bu.Ik(e.length,"staticAccountKeysLength"),Bu.A9(Ad(),this.staticAccountKeys.length,"staticAccountKeys"),Ad("recentBlockhash"),Bu.Ik(n.length,"instructionsLength"),Bu.Ik(t.length,"serializedInstructions"),Bu.Ik(i.length,"addressTableLookupsLength"),Bu.Ik(r.length,"serializedAddressTableLookups")]),s=new Uint8Array(xd),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:du().decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},s);return s.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(xd);for(const n of this.compiledInstructions){const r=Array();Bd(r,n.accountKeyIndexes.length);const i=Array();Bd(i,n.data.length);e+=Bu.n_([Bu.u8("programIdIndex"),Bu.Ik(r.length,"encodedAccountKeyIndexesLength"),Bu.A9(Bu.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),Bu.Ik(i.length,"encodedDataLength"),Bu.Ik(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(xd);for(const n of this.addressTableLookups){const r=Array();Bd(r,n.writableIndexes.length);const i=Array();Bd(i,n.readonlyIndexes.length);e+=Bu.n_([Ad("accountKey"),Bu.Ik(r.length,"encodedWritableIndexesLength"),Bu.A9(Bu.u8(),n.writableIndexes.length,"writableIndexes"),Bu.Ik(i.length,"encodedReadonlyIndexesLength"),Bu.A9(Bu.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=Ld(t),r=127&n;Pd(n!==r,"Expected versioned message but received legacy message");Pd(0===r,`Expected versioned message with version 0 but found version ${r}`);const i={numRequiredSignatures:Ld(t),numReadonlySignedAccounts:Ld(t),numReadonlyUnsignedAccounts:Ld(t)},o=[],s=Td(t);for(let h=0;h<s;h++)o.push(new wd(Od(t,0,vd)));const a=du().encode(Od(t,0,vd)),l=Td(t),u=[];for(let h=0;h<l;h++){const e=Ld(t),n=Od(t,0,Td(t)),r=Td(t),i=new Uint8Array(Od(t,0,r));u.push({programIdIndex:e,accountKeyIndexes:n,data:i})}const c=Td(t),d=[];for(let h=0;h<c;h++){const e=new wd(Od(t,0,vd)),n=Od(t,0,Td(t)),r=Od(t,0,Td(t));d.push({accountKey:e,writableIndexes:n,readonlyIndexes:r})}return new Ud({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:u,addressTableLookups:d})}}const zd={deserializeMessageVersion(e){const t=e[0],n=127&t;return n===t?"legacy":n},deserialize:e=>{const t=zd.deserializeMessageVersion(e);if("legacy"===t)return Dd.from(e);if(0===t)return Ud.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Fd=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const Hd=wa.Buffer.alloc(kd).fill(0);class Wd{constructor(e){this.keys=void 0,this.programId=void 0,this.data=wa.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((e=>{let{pubkey:t,isSigner:n,isWritable:r}=e;return{pubkey:t.toJSON(),isSigner:n,isWritable:r}})),programId:this.programId.toJSON(),data:[...this.data]}}}class $d{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((e=>{let{publicKey:t}=e;return t.toJSON()}))}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Wd(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let p=0;p<t.length;p++)if(void 0===t[p].programId)throw new Error(`Transaction instruction index ${p} has undefined program id`);const r=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();r.includes(t)||r.push(t)})),r.forEach((e=>{i.push({pubkey:new wd(e),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((e=>{const t=e.pubkey.toString(),n=o.findIndex((e=>e.pubkey.toString()===t));n>-1?(o[n].isWritable=o[n].isWritable||e.isWritable,o[n].isSigner=o[n].isSigner||e.isSigner):o.push(e)})),o.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const s=o.findIndex((e=>e.pubkey.equals(n)));if(s>-1){const[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const p of this.signatures){const e=o.findIndex((e=>e.pubkey.equals(p.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${p.publicKey.toString()}`);o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,l=0,u=0;const c=[],d=[];o.forEach((e=>{let{pubkey:t,isSigner:n,isWritable:r}=e;n?(c.push(t.toString()),a+=1,r||(l+=1)):(d.push(t.toString()),r||(u+=1))}));const h=c.concat(d),f=t.map((e=>{const{data:t,programId:n}=e;return{programIdIndex:h.indexOf(n.toString()),accounts:e.keys.map((e=>h.indexOf(e.pubkey.toString()))),data:du().encode(t)}}));return f.forEach((e=>{Pd(e.programIdIndex>=0),e.accounts.forEach((e=>Pd(e>=0)))})),new Dd({header:{numRequiredSignatures:a,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:u},accountKeys:h,recentBlockhash:e,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,n)=>t[n].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!r.has(t)&&(r.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set,i=[];for(const s of t){const e=s.publicKey.toString();r.has(e)||(r.add(e),i.push(s))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const o=this._compile();this._partialSign(o,...i)}partialSign(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set,i=[];for(const s of t){const e=s.publicKey.toString();r.has(e)||(r.add(e),i.push(s))}const o=this._compile();this._partialSign(o,...i)}_partialSign(e){const t=e.serialize();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.forEach((e=>{const n=hd(t,e.secretKey);this._addSignature(e.publicKey,pd(n))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Pd(64===t.length);const n=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=wa.Buffer.from(t)}verifySignatures(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?t&&(n.missing||=[]).push(i):fd(r,e,i.toBytes())||(n.invalid||=[]).push(i);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(r,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map((e=>e.toBase58())).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map((e=>e.toBase58())).join("`, `")}\`].`),new Error(t)}}return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];Bd(n,t.length);const r=n.length+64*t.length+e.length,i=wa.Buffer.alloc(r);return Pd(t.length<256),wa.Buffer.from(n).copy(i,0),t.forEach(((e,t)=>{let{signature:r}=e;null!==r&&(Pd(64===r.length,"signature has invalid length"),wa.Buffer.from(r).copy(i,n.length+64*t))})),e.copy(i,n.length+64*t.length),Pd(i.length<=xd,`Transaction too large: ${i.length} > 1232`),i}get keys(){return Pd(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return Pd(1===this.instructions.length),this.instructions[0].programId}get data(){return Pd(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=Td(t);let r=[];for(let i=0;i<n;i++){const e=Od(t,0,kd);r.push(du().encode(wa.Buffer.from(e)))}return $d.populate(Dd.from(t),r)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=new $d;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach(((t,r)=>{const i={signature:t==du().encode(Hd)?null:du().decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i)})),e.instructions.forEach((t=>{const r=t.accounts.map((t=>{const r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some((e=>e.publicKey.toString()===r.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));n.instructions.push(new Wd({keys:r,programId:e.accountKeys[t.programIdIndex],data:du().decode(t.data)}))})),n._message=e,n._json=n.toJSON(),n}}class Kd{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)Pd(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let n=0;n<e.header.numRequiredSignatures;n++)t.push(new Uint8Array(kd));this.signatures=t}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Bd(t,this.signatures.length);const n=Bu.n_([Bu.Ik(t.length,"encodedSignaturesLength"),Bu.A9(Id(),this.signatures.length,"signatures"),Bu.Ik(e.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},r);return r.slice(0,i)}static deserialize(e){let t=[...e];const n=[],r=Td(t);for(let o=0;o<r;o++)n.push(new Uint8Array(Od(t,0,kd)));const i=zd.deserialize(new Uint8Array(t));return new Kd(i,n)}sign(e){const t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of e){const e=n.findIndex((e=>e.equals(r.publicKey)));Pd(e>=0,`Cannot sign with non signer key ${r.publicKey.toBase58()}`),this.signatures[e]=hd(t,r.secretKey)}}addSignature(e,t){Pd(64===t.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((t=>t.equals(e)));Pd(n>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[n]=t}}const qd=new wd("SysvarC1ock11111111111111111111111111111111"),Vd=(new wd("SysvarEpochSchedu1e111111111111111111111111"),new wd("Sysvar1nstructions1111111111111111111111111"),new wd("SysvarRecentB1ockHashes11111111111111111111")),Gd=new wd("SysvarRent111111111111111111111111111111111"),Jd=(new wd("SysvarRewards111111111111111111111111111111"),new wd("SysvarS1otHashes111111111111111111111111111"),new wd("SysvarS1otHistory11111111111111111111111111"),new wd("SysvarStakeHistory1111111111111111111111111"));class Yd extends Error{constructor(e){let{action:t,signature:n,transactionMessage:r,logs:i}=e;const o=i?`Logs: \n${JSON.stringify(i.slice(-10),null,2)}. `:"",s="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${n} resulted in an error. \n${r}. `+o+s;break;case"simulate":a=`Simulation failed. \nMessage: ${r}. \n`+o+s;break;default:a=`Unknown action '${t}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!==typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((t,n)=>{e.getTransaction(this.signature).then((e=>{if(e&&e.meta&&e.meta.logMessages){const n=e.meta.logMessages;this.transactionLogs=n,t(n)}else n(new Error("Log messages not found"))})).catch(n)}))),await this.transactionLogs}}class Zd extends Error{constructor(e,t){let{code:n,message:r,data:i}=e;super(null!=t?`${t}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=n,this.data=i,this.name="SolanaJSONRPCError"}}async function Xd(e,t,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await e.sendTransaction(t,n,i);let s;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)s=(await e.confirmTransaction({abortSignal:r?.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:n}=t.nonceInfo,i=n.keys[0].pubkey;s=(await e.confirmTransaction({abortSignal:r?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else null!=r?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await e.confirmTransaction(o,r&&r.commitment)).value;if(s.err){if(null!=o)throw new Yd({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`});throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`)}return o}function Qd(e){return new Promise((t=>setTimeout(t,e)))}function eh(e,t){const n=e.layout.span>=0?e.layout.span:jd(e,t),r=wa.Buffer.alloc(n),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,r),r}const th=Bu._O("lamportsPerSignature"),nh=Bu.n_([Bu.Jq("version"),Bu.Jq("state"),Ad("authorizedPubkey"),Ad("nonce"),Bu.n_([th],"feeCalculator")]),rh=nh.span;class ih{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=nh.decode(pd(e),0);return new ih({authorizedPubkey:new wd(t.authorizedPubkey),nonce:new wd(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const oh=(sh=8,e=>{const t=(0,Bu.Ik)(sh,e),{encode:n,decode:r}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),i=t;return i.decode=(e,t)=>{const n=r(e,t);return(0,Pu.oU)(wa.Buffer.from(n))},i.encode=(e,t,r)=>{const i=(0,Pu.k$)(e,sh);return n(i,t,r)},i});var sh;const ah=Object.freeze({Create:{index:0,layout:Bu.n_([Bu.Jq("instruction"),Bu.gM("lamports"),Bu.gM("space"),Ad("programId")])},Assign:{index:1,layout:Bu.n_([Bu.Jq("instruction"),Ad("programId")])},Transfer:{index:2,layout:Bu.n_([Bu.Jq("instruction"),oh("lamports")])},CreateWithSeed:{index:3,layout:Bu.n_([Bu.Jq("instruction"),Ad("base"),Md("seed"),Bu.gM("lamports"),Bu.gM("space"),Ad("programId")])},AdvanceNonceAccount:{index:4,layout:Bu.n_([Bu.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:Bu.n_([Bu.Jq("instruction"),Bu.gM("lamports")])},InitializeNonceAccount:{index:6,layout:Bu.n_([Bu.Jq("instruction"),Ad("authorized")])},AuthorizeNonceAccount:{index:7,layout:Bu.n_([Bu.Jq("instruction"),Ad("authorized")])},Allocate:{index:8,layout:Bu.n_([Bu.Jq("instruction"),Bu.gM("space")])},AllocateWithSeed:{index:9,layout:Bu.n_([Bu.Jq("instruction"),Ad("base"),Md("seed"),Bu.gM("space"),Ad("programId")])},AssignWithSeed:{index:10,layout:Bu.n_([Bu.Jq("instruction"),Ad("base"),Md("seed"),Ad("programId")])},TransferWithSeed:{index:11,layout:Bu.n_([Bu.Jq("instruction"),oh("lamports"),Md("seed"),Ad("programId")])},UpgradeNonceAccount:{index:12,layout:Bu.n_([Bu.Jq("instruction")])}});class lh{constructor(){}static createAccount(e){const t=eh(ah.Create,{lamports:e.lamports,space:e.space,programId:pd(e.programId.toBuffer())});return new Wd({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;if("basePubkey"in e){t=eh(ah.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:pd(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=eh(ah.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Wd({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){t=eh(ah.AssignWithSeed,{base:pd(e.basePubkey.toBuffer()),seed:e.seed,programId:pd(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=eh(ah.Assign,{programId:pd(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Wd({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=eh(ah.CreateWithSeed,{base:pd(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:pd(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Wd({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new $d;"basePubkey"in e&&"seed"in e?t.add(lh.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:rh,programId:this.programId})):t.add(lh.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:rh,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=eh(ah.InitializeNonceAccount,{authorized:pd(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Vd,isSigner:!1,isWritable:!1},{pubkey:Gd,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new Wd(n)}static nonceAdvance(e){const t=eh(ah.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Vd,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new Wd(n)}static nonceWithdraw(e){const t=eh(ah.WithdrawNonceAccount,{lamports:e.lamports});return new Wd({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Vd,isSigner:!1,isWritable:!1},{pubkey:Gd,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=eh(ah.AuthorizeNonceAccount,{authorized:pd(e.newAuthorizedPubkey.toBuffer())});return new Wd({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;if("basePubkey"in e){t=eh(ah.AllocateWithSeed,{base:pd(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:pd(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=eh(ah.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Wd({keys:n,programId:this.programId,data:t})}}lh.programId=new wd("11111111111111111111111111111111");class uh{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/uh.chunkSize)+1+1)}static async load(e,t,n,r,i){{const o=await e.getMinimumBalanceForRentExemption(i.length),s=await e.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==i.length&&(a=a||new $d,a.add(lh.allocate({accountPubkey:n.publicKey,space:i.length}))),s.owner.equals(r)||(a=a||new $d,a.add(lh.assign({accountPubkey:n.publicKey,programId:r}))),s.lamports<o&&(a=a||new $d,a.add(lh.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:o-s.lamports})))}else a=(new $d).add(lh.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:o>0?o:1,space:i.length,programId:r}));null!==a&&await Xd(e,a,[t,n],{commitment:"confirmed"})}const o=Bu.n_([Bu.Jq("instruction"),Bu.Jq("offset"),Bu.Jq("bytesLength"),Bu.Jq("bytesLengthPadding"),Bu.A9(Bu.u8("byte"),Bu.cv(Bu.Jq(),-8),"bytes")]),s=uh.chunkSize;let a=0,l=i,u=[];for(;l.length>0;){const i=l.slice(0,s),c=wa.Buffer.alloc(s+16);o.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},c);const d=(new $d).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:r,data:c});if(u.push(Xd(e,d,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await Qd(1e3/e)}a+=s,l=l.slice(s)}await Promise.all(u);{const i=Bu.n_([Bu.Jq("instruction")]),o=wa.Buffer.alloc(i.span);i.encode({instruction:1},o);const s=(new $d).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:Gd,isSigner:!1,isWritable:!1}],programId:r,data:o}),a="processed",l=await e.sendTransaction(s,[t,n],{preflightCommitment:a}),{context:u,value:c}=await e.confirmTransaction({signature:l,lastValidBlockHeight:s.lastValidBlockHeight,blockhash:s.recentBlockhash},a);if(c.err)throw new Error(`Transaction ${l} failed (${JSON.stringify(c)})`);for(;;){try{if(await e.getSlot({commitment:a})>u.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}uh.chunkSize=932;new wd("BPFLoader2111111111111111111111111111111111");function ch(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dh=Object.prototype.toString,hh=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function fh(e,t){var n,r,i,o,s,a,l;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"===typeof e.toJSON)return fh(e.toJSON(),t);if("[object Array]"===(l=dh.call(e))){for(i="[",r=e.length-1,n=0;n<r;n++)i+=fh(e[n],!0)+",";return r>-1&&(i+=fh(e[n],!0)),i+"]"}if("[object Object]"===l){for(r=(o=hh(e).sort()).length,i="",n=0;n<r;)void 0!==(a=fh(e[s=o[n]],!1))&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),n++;return"{"+i+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var ph=ch((function(e){var t=fh(e,!1);if(void 0!==t)return""+t}));function mh(e){let t=0;for(;e>1;)e/=2,t++;return t}class gh{constructor(e,t,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=mh(function(e){return 0===e?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32))}(e+32+1))-mh(32)-1;return[t,e-(this.getSlotsInEpoch(t)-32)]}{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+n,t%this.slotsPerEpoch]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+mh(32)):this.slotsPerEpoch}}var yh=globalThis.fetch;class vh extends fc{constructor(e,t,n){super((e=>{const n=dc(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return this.underlyingSocket="socket"in n?n.socket:n,n}),e,t,n),this.underlyingSocket=void 0}call(){const e=this.underlyingSocket?.readyState;return 1===e?super.call(...arguments):Promise.reject(new Error("Tried to call a JSON-RPC method `"+(arguments.length<=0?void 0:arguments[0])+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(){const e=this.underlyingSocket?.readyState;return 1===e?super.notify(...arguments):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+(arguments.length<=0?void 0:arguments[0])+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}class bh{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}(wh,e),n=e.length-56;Pd(n>=0,"lookup table is invalid"),Pd(n%32===0,"lookup table is invalid");const r=n/32,{addresses:i}=Bu.n_([Bu.A9(Ad(),r,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new wd(t.authority[0]):void 0,addresses:i.map((e=>new wd(e)))}}}const wh={index:1,layout:Bu.n_([Bu.Jq("typeIndex"),oh("deactivationSlot"),Bu._O("lastExtendedSlot"),Bu.u8("lastExtendedStartIndex"),Bu.u8(),Bu.A9(Ad(),Bu.cv(Bu.u8(),-1),"authority")])},xh=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const kh=sc(Gu(wd),tc(),(e=>new wd(e))),_h=nc([tc(),Ju("base64")]),Sh=sc(Gu(wa.Buffer),_h,(e=>wa.Buffer.from(e[0],"base64")));function Eh(e){let t,n;if("string"===typeof e)t=e;else if(e){const{commitment:r,...i}=e;t=r,n=i}return{commitment:t,config:n}}function Ch(e){return e.map((e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e))}function Ah(e){return ic([rc({jsonrpc:Ju("2.0"),id:tc(),result:e}),rc({jsonrpc:Ju("2.0"),id:tc(),error:rc({code:oc(),message:tc(),data:Qu(Ku("any",(()=>!0)))})})])}const Ih=Ah(oc());function Mh(e){return sc(Ah(e),Ih,(t=>"error"in t?t:{...t,result:Hu(t.result,e)}))}function jh(e){return Mh(rc({context:rc({slot:Xu()}),value:e}))}function Th(e){return rc({context:rc({slot:Xu()}),value:e})}function Bh(e,t){return 0===e?new Ud({header:t.header,staticAccountKeys:t.accountKeys.map((e=>new wd(e))),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:du().decode(e.data)}))),addressTableLookups:t.addressTableLookups}):new Dd(t)}const Ph=rc({foundation:Xu(),foundationTerm:Xu(),initial:Xu(),taper:Xu(),terminal:Xu()}),Nh=Mh(qu(Zu(rc({epoch:Xu(),effectiveSlot:Xu(),amount:Xu(),postBalance:Xu(),commission:Qu(Zu(Xu()))})))),Rh=qu(rc({slot:Xu(),prioritizationFee:Xu()})),Lh=rc({total:Xu(),validator:Xu(),foundation:Xu(),epoch:Xu()}),Oh=rc({epoch:Xu(),slotIndex:Xu(),slotsInEpoch:Xu(),absoluteSlot:Xu(),blockHeight:Qu(Xu()),transactionCount:Qu(Xu())}),Dh=rc({slotsPerEpoch:Xu(),leaderScheduleSlotOffset:Xu(),warmup:Vu(),firstNormalEpoch:Xu(),firstNormalSlot:Xu()}),Uh=ec(tc(),qu(Xu())),zh=Zu(ic([rc({}),tc()])),Fh=rc({err:zh}),Hh=Ju("receivedSignature"),Wh=rc({"solana-core":tc(),"feature-set":Qu(Xu())}),$h=rc({program:tc(),programId:kh,parsed:oc()}),Kh=rc({programId:kh,accounts:qu(kh),data:tc()}),qh=jh(rc({err:Zu(ic([rc({}),tc()])),logs:Zu(qu(tc())),accounts:Qu(Zu(qu(Zu(rc({executable:Vu(),owner:tc(),lamports:Xu(),data:qu(tc()),rentEpoch:Qu(Xu())}))))),unitsConsumed:Qu(Xu()),returnData:Qu(Zu(rc({programId:tc(),data:nc([tc(),Ju("base64")])}))),innerInstructions:Qu(Zu(qu(rc({index:Xu(),instructions:qu(ic([$h,Kh]))}))))})),Vh=jh(rc({byIdentity:ec(tc(),qu(Xu())),range:rc({firstSlot:Xu(),lastSlot:Xu()})}));const Gh=Mh(Ph),Jh=Mh(Lh),Yh=Mh(Rh),Zh=Mh(Oh),Xh=Mh(Dh),Qh=Mh(Uh),ef=Mh(Xu()),tf=jh(rc({total:Xu(),circulating:Xu(),nonCirculating:Xu(),nonCirculatingAccounts:qu(kh)})),nf=rc({amount:tc(),uiAmount:Zu(Xu()),decimals:Xu(),uiAmountString:Qu(tc())}),rf=jh(qu(rc({address:kh,amount:tc(),uiAmount:Zu(Xu()),decimals:Xu(),uiAmountString:Qu(tc())}))),of=jh(qu(rc({pubkey:kh,account:rc({executable:Vu(),owner:kh,lamports:Xu(),data:Sh,rentEpoch:Xu()})}))),sf=rc({program:tc(),parsed:oc(),space:Xu()}),af=jh(qu(rc({pubkey:kh,account:rc({executable:Vu(),owner:kh,lamports:Xu(),data:sf,rentEpoch:Xu()})}))),lf=jh(qu(rc({lamports:Xu(),address:kh}))),uf=rc({executable:Vu(),owner:kh,lamports:Xu(),data:Sh,rentEpoch:Xu()}),cf=rc({pubkey:kh,account:uf}),df=sc(ic([Gu(wa.Buffer),sf]),ic([_h,sf]),(e=>Array.isArray(e)?Hu(e,Sh):e)),hf=rc({executable:Vu(),owner:kh,lamports:Xu(),data:df,rentEpoch:Xu()}),ff=rc({pubkey:kh,account:hf}),pf=rc({state:ic([Ju("active"),Ju("inactive"),Ju("activating"),Ju("deactivating")]),active:Xu(),inactive:Xu()}),mf=Mh(qu(rc({signature:tc(),slot:Xu(),err:zh,memo:Zu(tc()),blockTime:Qu(Zu(Xu()))}))),gf=Mh(qu(rc({signature:tc(),slot:Xu(),err:zh,memo:Zu(tc()),blockTime:Qu(Zu(Xu()))}))),yf=rc({subscription:Xu(),result:Th(uf)}),vf=rc({pubkey:kh,account:uf}),bf=rc({subscription:Xu(),result:Th(vf)}),wf=rc({parent:Xu(),slot:Xu(),root:Xu()}),xf=rc({subscription:Xu(),result:wf}),kf=ic([rc({type:ic([Ju("firstShredReceived"),Ju("completed"),Ju("optimisticConfirmation"),Ju("root")]),slot:Xu(),timestamp:Xu()}),rc({type:Ju("createdBank"),parent:Xu(),slot:Xu(),timestamp:Xu()}),rc({type:Ju("frozen"),slot:Xu(),timestamp:Xu(),stats:rc({numTransactionEntries:Xu(),numSuccessfulTransactions:Xu(),numFailedTransactions:Xu(),maxTransactionsPerEntry:Xu()})}),rc({type:Ju("dead"),slot:Xu(),timestamp:Xu(),err:tc()})]),_f=rc({subscription:Xu(),result:kf}),Sf=rc({subscription:Xu(),result:Th(ic([Fh,Hh]))}),Ef=rc({subscription:Xu(),result:Xu()}),Cf=rc({pubkey:tc(),gossip:Zu(tc()),tpu:Zu(tc()),rpc:Zu(tc()),version:Zu(tc())}),Af=rc({votePubkey:tc(),nodePubkey:tc(),activatedStake:Xu(),epochVoteAccount:Vu(),epochCredits:qu(nc([Xu(),Xu(),Xu()])),commission:Xu(),lastVote:Xu(),rootSlot:Zu(Xu())}),If=Mh(rc({current:qu(Af),delinquent:qu(Af)})),Mf=ic([Ju("processed"),Ju("confirmed"),Ju("finalized")]),jf=rc({slot:Xu(),confirmations:Zu(Xu()),err:zh,confirmationStatus:Qu(Mf)}),Tf=jh(qu(Zu(jf))),Bf=Mh(Xu()),Pf=rc({accountKey:kh,writableIndexes:qu(Xu()),readonlyIndexes:qu(Xu())}),Nf=rc({signatures:qu(tc()),message:rc({accountKeys:qu(tc()),header:rc({numRequiredSignatures:Xu(),numReadonlySignedAccounts:Xu(),numReadonlyUnsignedAccounts:Xu()}),instructions:qu(rc({accounts:qu(Xu()),data:tc(),programIdIndex:Xu()})),recentBlockhash:tc(),addressTableLookups:Qu(qu(Pf))})}),Rf=rc({pubkey:kh,signer:Vu(),writable:Vu(),source:Qu(ic([Ju("transaction"),Ju("lookupTable")]))}),Lf=rc({accountKeys:qu(Rf),signatures:qu(tc())}),Of=rc({parsed:oc(),program:tc(),programId:kh}),Df=rc({accounts:qu(kh),data:tc(),programId:kh}),Uf=sc(ic([Df,Of]),ic([rc({parsed:oc(),program:tc(),programId:tc()}),rc({accounts:qu(tc()),data:tc(),programId:tc()})]),(e=>Hu(e,"accounts"in e?Df:Of))),zf=rc({signatures:qu(tc()),message:rc({accountKeys:qu(Rf),instructions:qu(Uf),recentBlockhash:tc(),addressTableLookups:Qu(Zu(qu(Pf)))})}),Ff=rc({accountIndex:Xu(),mint:tc(),owner:Qu(tc()),uiTokenAmount:nf}),Hf=rc({writable:qu(kh),readonly:qu(kh)}),Wf=rc({err:zh,fee:Xu(),innerInstructions:Qu(Zu(qu(rc({index:Xu(),instructions:qu(rc({accounts:qu(Xu()),data:tc(),programIdIndex:Xu()}))})))),preBalances:qu(Xu()),postBalances:qu(Xu()),logMessages:Qu(Zu(qu(tc()))),preTokenBalances:Qu(Zu(qu(Ff))),postTokenBalances:Qu(Zu(qu(Ff))),loadedAddresses:Qu(Hf),computeUnitsConsumed:Qu(Xu())}),$f=rc({err:zh,fee:Xu(),innerInstructions:Qu(Zu(qu(rc({index:Xu(),instructions:qu(Uf)})))),preBalances:qu(Xu()),postBalances:qu(Xu()),logMessages:Qu(Zu(qu(tc()))),preTokenBalances:Qu(Zu(qu(Ff))),postTokenBalances:Qu(Zu(qu(Ff))),loadedAddresses:Qu(Hf),computeUnitsConsumed:Qu(Xu())}),Kf=ic([Ju(0),Ju("legacy")]),qf=rc({pubkey:tc(),lamports:Xu(),postBalance:Zu(Xu()),rewardType:Zu(tc()),commission:Qu(Zu(Xu()))}),Vf=Mh(Zu(rc({blockhash:tc(),previousBlockhash:tc(),parentSlot:Xu(),transactions:qu(rc({transaction:Nf,meta:Zu(Wf),version:Qu(Kf)})),rewards:Qu(qu(qf)),blockTime:Zu(Xu()),blockHeight:Zu(Xu())}))),Gf=Mh(Zu(rc({blockhash:tc(),previousBlockhash:tc(),parentSlot:Xu(),rewards:Qu(qu(qf)),blockTime:Zu(Xu()),blockHeight:Zu(Xu())}))),Jf=Mh(Zu(rc({blockhash:tc(),previousBlockhash:tc(),parentSlot:Xu(),transactions:qu(rc({transaction:Lf,meta:Zu(Wf),version:Qu(Kf)})),rewards:Qu(qu(qf)),blockTime:Zu(Xu()),blockHeight:Zu(Xu())}))),Yf=Mh(Zu(rc({blockhash:tc(),previousBlockhash:tc(),parentSlot:Xu(),transactions:qu(rc({transaction:zf,meta:Zu($f),version:Qu(Kf)})),rewards:Qu(qu(qf)),blockTime:Zu(Xu()),blockHeight:Zu(Xu())}))),Zf=Mh(Zu(rc({blockhash:tc(),previousBlockhash:tc(),parentSlot:Xu(),transactions:qu(rc({transaction:Lf,meta:Zu($f),version:Qu(Kf)})),rewards:Qu(qu(qf)),blockTime:Zu(Xu()),blockHeight:Zu(Xu())}))),Xf=Mh(Zu(rc({blockhash:tc(),previousBlockhash:tc(),parentSlot:Xu(),rewards:Qu(qu(qf)),blockTime:Zu(Xu()),blockHeight:Zu(Xu())}))),Qf=Mh(Zu(rc({blockhash:tc(),previousBlockhash:tc(),parentSlot:Xu(),transactions:qu(rc({transaction:Nf,meta:Zu(Wf)})),rewards:Qu(qu(qf)),blockTime:Zu(Xu())}))),ep=Mh(Zu(rc({blockhash:tc(),previousBlockhash:tc(),parentSlot:Xu(),signatures:qu(tc()),blockTime:Zu(Xu())}))),tp=Mh(Zu(rc({slot:Xu(),meta:Zu(Wf),blockTime:Qu(Zu(Xu())),transaction:Nf,version:Qu(Kf)}))),np=Mh(Zu(rc({slot:Xu(),transaction:zf,meta:Zu($f),blockTime:Qu(Zu(Xu())),version:Qu(Kf)}))),rp=jh(rc({blockhash:tc(),feeCalculator:rc({lamportsPerSignature:Xu()})})),ip=jh(rc({blockhash:tc(),lastValidBlockHeight:Xu()})),op=jh(Vu()),sp=Mh(qu(rc({slot:Xu(),numTransactions:Xu(),numSlots:Xu(),samplePeriodSecs:Xu()}))),ap=jh(Zu(rc({feeCalculator:rc({lamportsPerSignature:Xu()})}))),lp=Mh(tc()),up=Mh(tc()),cp=rc({err:zh,logs:qu(tc()),signature:tc()}),dp=rc({result:Th(cp),subscription:Xu()}),hp={"solana-client":"js/1.0.0-maintenance"};class fp{constructor(e,t){let n,r,i,o,s,a;var l;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async t=>{const{commitment:n,config:r}=Eh(t),i=this._buildArgs([],n,void 0,r),o=ph(i);return e[o]=e[o]??(async()=>{try{const e=Hu(await this._rpcRequest("getBlockHeight",i),Mh(Xu()));if("error"in e)throw new Zd(e.error,"failed to get block height information");return e.result}finally{delete e[o]}})(),await e[o]}})(),t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,r=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,s=t.disableRetryOnRateLimit,a=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function(e){const t=e.match(xh);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${s}//${r}${null==a?"":`:${a+1}`}${o}`}(e),this._rpcClient=function(e,t,n,r,i,o){const s=n||yh;let a;return null!=o&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),r&&(a=async(e,t)=>{const n=await new Promise(((n,i)=>{try{r(e,t,((e,t)=>n([e,t])))}catch(o){i(o)}}));return await s(...n)}),new(lc())((async(n,r)=>{const o={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},hp)};try{let t,n=5,l=500;for(;t=a?await a(e,o):await s(e,o),429===t.status&&!0!==i&&(n-=1,0!==n);)console.error(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${l}ms delay...`),await Qd(l),l*=2;const u=await t.text();t.ok?r(null,u):r(new Error(`${t.status} ${t.statusText}: ${u}`))}catch(l){l instanceof Error&&r(l)}}),{})}(e,r,i,o,s,a),this._rpcRequest=(l=this._rpcClient,(e,t)=>new Promise(((n,r)=>{l.request(e,t,((e,t)=>{e?r(e):n(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((n,r)=>{0===t.length&&n([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?r(e):n(t)}))}))}(this._rpcClient),this._rpcWebSocket=new vh(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:r}=Eh(t),i=this._buildArgs([e.toBase58()],n,void 0,r),o=Hu(await this._rpcRequest("getBalance",i),jh(Xu()));if("error"in o)throw new Zd(o.error,`failed to get balance for ${e.toBase58()}`);return o.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=Hu(await this._rpcRequest("getBlockTime",[e]),Mh(Zu(Xu())));if("error"in t)throw new Zd(t.error,`failed to get block time for slot ${e}`);return t.result}async getMinimumLedgerSlot(){const e=Hu(await this._rpcRequest("minimumLedgerSlot",[]),Mh(Xu()));if("error"in e)throw new Zd(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const e=Hu(await this._rpcRequest("getFirstAvailableBlock",[]),ef);if("error"in e)throw new Zd(e.error,"failed to get first available block");return e.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=Hu(await this._rpcRequest("getSupply",[t]),tf);if("error"in n)throw new Zd(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),r=Hu(await this._rpcRequest("getTokenSupply",n),jh(nf));if("error"in r)throw new Zd(r.error,"failed to get token supply");return r.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),r=Hu(await this._rpcRequest("getTokenAccountBalance",n),jh(nf));if("error"in r)throw new Zd(r.error,"failed to get token account balance");return r.result}async getTokenAccountsByOwner(e,t,n){const{commitment:r,config:i}=Eh(n);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const s=this._buildArgs(o,r,"base64",i),a=Hu(await this._rpcRequest("getTokenAccountsByOwner",s),of);if("error"in a)throw new Zd(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),o=Hu(await this._rpcRequest("getTokenAccountsByOwner",i),af);if("error"in o)throw new Zd(o.error,`failed to get token accounts owned by account ${e.toBase58()}`);return o.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],r=Hu(await this._rpcRequest("getLargestAccounts",n),lf);if("error"in r)throw new Zd(r.error,"failed to get largest accounts");return r.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),r=Hu(await this._rpcRequest("getTokenLargestAccounts",n),rf);if("error"in r)throw new Zd(r.error,"failed to get token largest accounts");return r.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:r}=Eh(t),i=this._buildArgs([e.toBase58()],n,"base64",r),o=Hu(await this._rpcRequest("getAccountInfo",i),jh(Zu(uf)));if("error"in o)throw new Zd(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getParsedAccountInfo(e,t){const{commitment:n,config:r}=Eh(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=Hu(await this._rpcRequest("getAccountInfo",i),jh(Zu(hf)));if("error"in o)throw new Zd(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,t){const{commitment:n,config:r}=Eh(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],n,"jsonParsed",r),s=Hu(await this._rpcRequest("getMultipleAccounts",o),jh(qu(Zu(hf))));if("error"in s)throw new Zd(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:r}=Eh(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],n,"base64",r),s=Hu(await this._rpcRequest("getMultipleAccounts",o),jh(qu(Zu(uf))));if("error"in s)throw new Zd(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:r,config:i}=Eh(t),o=this._buildArgs([e.toBase58()],r,void 0,{...i,epoch:null!=n?n:i?.epoch}),s=Hu(await this._rpcRequest("getStakeActivation",o),Mh(pf));if("error"in s)throw new Zd(s.error,`failed to get Stake Activation ${e.toBase58()}`);return s.result}async getProgramAccounts(e,t){const{commitment:n,config:r}=Eh(t),{encoding:i,...o}=r||{},s=this._buildArgs([e.toBase58()],n,i||"base64",{...o,...o.filters?{filters:Ch(o.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",s),l=qu(cf),u=!0===o.withContext?Hu(a,jh(l)):Hu(a,Mh(l));if("error"in u)throw new Zd(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:r}=Eh(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=Hu(await this._rpcRequest("getProgramAccounts",i),Mh(qu(ff)));if("error"in o)throw new Zd(o.error,`failed to get accounts owned by program ${e.toBase58()}`);return o.result}async confirmTransaction(e,t){let n,r;if("string"==typeof e)n=e;else{const t=e;if(t.abortSignal?.aborted)return Promise.reject(t.abortSignal.reason);n=t.signature}try{r=du().decode(n)}catch(i){throw new Error("signature must be base58 encoded: "+n)}return Pd(64===r.length,"signature has invalid length"),"string"===typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise(((t,n)=>{null!=e&&(e.aborted?n(e.reason):e.addEventListener("abort",(()=>{n(e.reason)})))}))}getTransactionConfirmationPromise(e){let t,n,{commitment:r,signature:i}=e,o=!1;return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=t&&(this.removeSignatureListener(t),t=void 0)},confirmationPromise:new Promise(((e,s)=>{try{t=this.onSignature(i,((n,r)=>{t=void 0;const i={context:r,value:n};e({__type:Fd.PROCESSED,response:i})}),r);const a=new Promise((e=>{null==t?e():n=this._onSubscriptionStateChange(t,(t=>{"subscribed"===t&&e()}))}));(async()=>{if(await a,o)return;const t=await this.getSignatureStatus(i);if(o)return;if(null==t)return;const{context:n,value:l}=t;if(null!=l)if(l?.err)s(l.err);else{switch(r){case"confirmed":case"single":case"singleGossip":if("processed"===l.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===l.confirmationStatus||"confirmed"===l.confirmationStatus)return}o=!0,e({__type:Fd.PROCESSED,response:{context:n,value:l}})}})()}catch(a){s(a)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy(e){let{commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}=e,o=!1;const s=new Promise((e=>{const n=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let t=await n();if(!o){for(;t<=r;){if(await Qd(1e3),o)return;if(t=await n(),o)return}e({__type:Fd.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:a,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),u=this.getCancellationPromise(n);let c;try{const e=await Promise.race([u,l,s]);if(e.__type!==Fd.PROCESSED)throw new _d(i);c=e.response}finally{o=!0,a()}return c}async confirmTransactionUsingDurableNonceStrategy(e){let{commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:s}}=e,a=!1;const l=new Promise((e=>{let n=o,s=null;const l=async()=>{try{const{context:e,value:n}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return s=e.slot,n?.nonce}catch(e){return n}};(async()=>{if(n=await l(),!a)for(;;){if(o!==n)return void e({__type:Fd.NONCE_INVALID,slotInWhichNonceDidAdvance:s});if(await Qd(2e3),a)return;if(n=await l(),a)return}})()})),{abortConfirmation:u,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),d=this.getCancellationPromise(n);let h;try{const e=await Promise.race([d,c,l]);if(e.__type===Fd.PROCESSED)h=e.response;else{let n;for(;;){const t=await this.getSignatureStatus(s);if(null==t)break;if(!(t.context.slot<(e.slotInWhichNonceDidAdvance??r))){n=t;break}await Qd(400)}if(!n?.value)throw new Ed(s);{const e=t||"finalized",{confirmationStatus:r}=n.value;switch(e){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new Ed(s);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new Ed(s);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new Ed(s)}h={context:n.context,value:{err:n.value.err}}}}}finally{a=!0,u()}return h}async confirmTransactionUsingLegacyTimeoutStrategy(e){let t,{commitment:n,signature:r}=e;const i=new Promise((e=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(n){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4}t=setTimeout((()=>e({__type:Fd.TIMED_OUT,timeoutMs:r})),r)})),{abortConfirmation:o,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:n,signature:r});let a;try{const e=await Promise.race([s,i]);if(e.__type!==Fd.PROCESSED)throw new Sd(r,e.timeoutMs/1e3);a=e.response}finally{clearTimeout(t),o()}return a}async getClusterNodes(){const e=Hu(await this._rpcRequest("getClusterNodes",[]),Mh(qu(Cf)));if("error"in e)throw new Zd(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=Hu(await this._rpcRequest("getVoteAccounts",t),If);if("error"in n)throw new Zd(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:t,config:n}=Eh(e),r=this._buildArgs([],t,void 0,n),i=Hu(await this._rpcRequest("getSlot",r),Mh(Xu()));if("error"in i)throw new Zd(i.error,"failed to get slot");return i.result}async getSlotLeader(e){const{commitment:t,config:n}=Eh(e),r=this._buildArgs([],t,void 0,n),i=Hu(await this._rpcRequest("getSlotLeader",r),Mh(tc()));if("error"in i)throw new Zd(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(e,t){const n=[e,t],r=Hu(await this._rpcRequest("getSlotLeaders",n),Mh(qu(kh)));if("error"in r)throw new Zd(r.error,"failed to get slot leaders");return r.result}async getSignatureStatus(e,t){const{context:n,value:r}=await this.getSignatureStatuses([e],t);Pd(1===r.length);return{context:n,value:r[0]}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const r=Hu(await this._rpcRequest("getSignatureStatuses",n),Tf);if("error"in r)throw new Zd(r.error,"failed to get signature status");return r.result}async getTransactionCount(e){const{commitment:t,config:n}=Eh(e),r=this._buildArgs([],t,void 0,n),i=Hu(await this._rpcRequest("getTransactionCount",r),Mh(Xu()));if("error"in i)throw new Zd(i.error,"failed to get transaction count");return i.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=Hu(await this._rpcRequest("getInflationGovernor",t),Gh);if("error"in n)throw new Zd(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,n){const{commitment:r,config:i}=Eh(n),o=this._buildArgs([e.map((e=>e.toBase58()))],r,void 0,{...i,epoch:null!=t?t:i?.epoch}),s=Hu(await this._rpcRequest("getInflationReward",o),Nh);if("error"in s)throw new Zd(s.error,"failed to get inflation reward");return s.result}async getInflationRate(){const e=Hu(await this._rpcRequest("getInflationRate",[]),Jh);if("error"in e)throw new Zd(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(e){const{commitment:t,config:n}=Eh(e),r=this._buildArgs([],t,void 0,n),i=Hu(await this._rpcRequest("getEpochInfo",r),Zh);if("error"in i)throw new Zd(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const e=Hu(await this._rpcRequest("getEpochSchedule",[]),Xh);if("error"in e)throw new Zd(e.error,"failed to get epoch schedule");const t=e.result;return new gh(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){const e=Hu(await this._rpcRequest("getLeaderSchedule",[]),Qh);if("error"in e)throw new Zd(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),r=Hu(await this._rpcRequest("getMinimumBalanceForRentExemption",n),Bf);return"error"in r?(console.warn("Unable to fetch minimum balance for rent exemption"),0):r.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),n=Hu(await this._rpcRequest("getRecentBlockhash",t),rp);if("error"in n)throw new Zd(n.error,"failed to get recent blockhash");return n.result}async getRecentPerformanceSamples(e){const t=Hu(await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),sp);if("error"in t)throw new Zd(t.error,"failed to get recent performance samples");return t.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),r=Hu(await this._rpcRequest("getFeeCalculatorForBlockhash",n),ap);if("error"in r)throw new Zd(r.error,"failed to get fee calculator");const{context:i,value:o}=r.result;return{context:i,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(e,t){const n=pd(e.serialize()).toString("base64"),r=this._buildArgs([n],t),i=Hu(await this._rpcRequest("getFeeForMessage",r),jh(Zu(Xu())));if("error"in i)throw new Zd(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(e){const t=e?.lockedWritableAccounts?.map((e=>e.toBase58())),n=t?.length?[t]:[],r=Hu(await this._rpcRequest("getRecentPrioritizationFees",n),Yh);if("error"in r)throw new Zd(r.error,"failed to get recent prioritization fees");return r.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=Eh(e),r=this._buildArgs([],t,void 0,n),i=Hu(await this._rpcRequest("getLatestBlockhash",r),ip);if("error"in i)throw new Zd(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(e,t){const{commitment:n,config:r}=Eh(t),i=this._buildArgs([e],n,void 0,r),o=Hu(await this._rpcRequest("isBlockhashValid",i),op);if("error"in o)throw new Zd(o.error,"failed to determine if the blockhash `"+e+"`is valid");return o.result}async getVersion(){const e=Hu(await this._rpcRequest("getVersion",[]),Mh(Wh));if("error"in e)throw new Zd(e.error,"failed to get version");return e.result}async getGenesisHash(){const e=Hu(await this._rpcRequest("getGenesisHash",[]),Mh(tc()));if("error"in e)throw new Zd(e.error,"failed to get genesis hash");return e.result}async getBlock(e,t){const{commitment:n,config:r}=Eh(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const e=Hu(o,Jf);if("error"in e)throw e.error;return e.result}case"none":{const e=Hu(o,Gf);if("error"in e)throw e.error;return e.result}default:{const e=Hu(o,Vf);if("error"in e)throw e.error;const{result:t}=e;return t?{...t,transactions:t.transactions.map((e=>{let{transaction:t,meta:n,version:r}=e;return{meta:n,transaction:{...t,message:Bh(r,t.message)},version:r}}))}:null}}}catch(s){throw new Zd(s,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:n,config:r}=Eh(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),o=await this._rpcRequest("getBlock",i);try{switch(r?.transactionDetails){case"accounts":{const e=Hu(o,Zf);if("error"in e)throw e.error;return e.result}case"none":{const e=Hu(o,Xf);if("error"in e)throw e.error;return e.result}default:{const e=Hu(o,Yf);if("error"in e)throw e.error;return e.result}}}catch(s){throw new Zd(s,"failed to get block")}}async getBlockProduction(e){let t,n;if("string"===typeof e)n=e;else if(e){const{commitment:r,...i}=e;n=r,t=i}const r=this._buildArgs([],n,"base64",t),i=Hu(await this._rpcRequest("getBlockProduction",r),Vh);if("error"in i)throw new Zd(i.error,"failed to get block production information");return i.result}async getTransaction(e,t){const{commitment:n,config:r}=Eh(t),i=this._buildArgsAtLeastConfirmed([e],n,void 0,r),o=Hu(await this._rpcRequest("getTransaction",i),tp);if("error"in o)throw new Zd(o.error,"failed to get transaction");const s=o.result;return s?{...s,transaction:{...s.transaction,message:Bh(s.version,s.transaction.message)}}:s}async getParsedTransaction(e,t){const{commitment:n,config:r}=Eh(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),o=Hu(await this._rpcRequest("getTransaction",i),np);if("error"in o)throw new Zd(o.error,"failed to get transaction");return o.result}async getParsedTransactions(e,t){const{commitment:n,config:r}=Eh(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=Hu(e,np);if("error"in t)throw new Zd(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const{commitment:n,config:r}=Eh(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,r)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=Hu(e,tp);if("error"in t)throw new Zd(t.error,"failed to get transactions");const n=t.result;return n?{...n,transaction:{...n.transaction,message:Bh(n.version,n.transaction.message)}}:n}))}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=Hu(await this._rpcRequest("getConfirmedBlock",n),Qf);if("error"in r)throw new Zd(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");const o={...i,transactions:i.transactions.map((e=>{let{transaction:t,meta:n}=e;const r=new Dd(t.message);return{meta:n,transaction:{...t,message:r}}}))};return{...o,transactions:o.transactions.map((e=>{let{transaction:t,meta:n}=e;return{meta:n,transaction:$d.populate(t.message,t.signatures)}}))}}async getBlocks(e,t,n){const r=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],n),i=Hu(await this._rpcRequest("getBlocks",r),Mh(qu(Xu())));if("error"in i)throw new Zd(i.error,"failed to get blocks");return i.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=Hu(await this._rpcRequest("getBlock",n),ep);if("error"in r)throw new Zd(r.error,"failed to get block");const i=r.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=Hu(await this._rpcRequest("getConfirmedBlock",n),ep);if("error"in r)throw new Zd(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=Hu(await this._rpcRequest("getConfirmedTransaction",n),tp);if("error"in r)throw new Zd(r.error,"failed to get transaction");const i=r.result;if(!i)return i;const o=new Dd(i.transaction.message),s=i.transaction.signatures;return{...i,transaction:$d.populate(o,s)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=Hu(await this._rpcRequest("getConfirmedTransaction",n),np);if("error"in r)throw new Zd(r.error,"failed to get confirmed transaction");return r.result}async getParsedConfirmedTransactions(e,t){const n=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const t=Hu(e,np);if("error"in t)throw new Zd(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(r.until=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}let o=await this.getSlot("finalized");for(;!("before"in r)&&!(++n>o);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(r.before=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}return(await this.getConfirmedSignaturesForAddress2(e,r)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=Hu(await this._rpcRequest("getConfirmedSignaturesForAddress2",r),mf);if("error"in i)throw new Zd(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=Hu(await this._rpcRequest("getSignaturesForAddress",r),gf);if("error"in i)throw new Zd(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=new bh({key:e,state:bh.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=ih.fromAccountData(r.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const n=Hu(await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),lp);if("error"in n)throw new Zd(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Qd(100);const e=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let r=0;r<50;r++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await Qd(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=Eh(e),r=this._buildArgs([],t,"base64",n),i=Hu(await this._rpcRequest("getStakeMinimumDelegation",r),jh(Xu()));if("error"in i)throw new Zd(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(e,t,n){if("message"in e){const r=e.serialize(),i=wa.Buffer.from(r).toString("base64");if(Array.isArray(t)||void 0!==n)throw new Error("Invalid arguments");const o=t||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment),t&&"object"===typeof t&&"innerInstructions"in t&&(o.innerInstructions=t.innerInstructions);const s=[i,o],a=Hu(await this._rpcRequest("simulateTransaction",s),qh);if("error"in a)throw new Error("failed to simulate transaction: "+a.error.message);return a.result}let r;if(e instanceof $d){let t=e;r=new $d,r.feePayer=t.feePayer,r.instructions=e.instructions,r.nonceInfo=t.nonceInfo,r.signatures=t.signatures}else r=$d.populate(e),r._message=r._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(r.nonceInfo&&i)r.sign(...i);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(r.lastValidBlockHeight=t.lastValidBlockHeight,r.recentBlockhash=t.blockhash,!i)break;if(r.sign(...i),!r.signature)throw new Error("!signature");const n=r.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const o=r._compile(),s=o.serialize(),a=r._serialize(s).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:o.nonProgramIds()).map((e=>e.toBase58()));l.accounts={encoding:"base64",addresses:e}}i&&(l.sigVerify=!0),t&&"object"===typeof t&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const u=[a,l],c=Hu(await this._rpcRequest("simulateTransaction",u),qh);if("error"in c){let e;if("data"in c.error&&(e=c.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(c.error.message,n)}throw new Yd({action:"simulate",signature:"",transactionMessage:c.error.message,logs:e})}return c.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,t)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const r=t;if(e.nonceInfo)e.sign(...r);else{let t=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...r),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}t=!0}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,t){const n=pd(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},r=t&&t.skipPreflight,i=!0===r?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(n.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(n.minContextSlot=t.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const o=[e,n],s=Hu(await this._rpcRequest("sendTransaction",o),up);if("error"in s){let e;throw"data"in s.error&&(e=s.error.data.logs),new Yd({action:r?"send":"simulate",signature:"",transactionMessage:s.error.message,logs:e})}return s.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((e=>{let[t,n]=e;this._setSubscription(t,{...n,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(e,t){const n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,n!==t.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach((e=>{try{e(t.state)}catch{}}))}}_onSubscriptionStateChange(e,t){const n=this._subscriptionHashByClientSubscriptionId[e];if(null==n)return()=>{};const r=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return r.add(t),()=>{r.delete(t),0===r.size&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const n=this._subscriptionsByHash[e];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:r,method:i}=n;try{this._setSubscription(e,{...n,state:"subscribing"});const t=await this._rpcWebSocket.call(i,r);this._setSubscription(e,{...n,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=n.callbacks,await this._updateSubscriptions()}catch(o){if(o instanceof Error&&console.error(`${i} error for argument`,r,o.message),!t())return;this._setSubscription(e,{...n,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:i}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(e,{...n,state:"unsubscribing"}),this._setSubscription(e,{...n,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[r])}catch(o){if(o instanceof Error&&console.error(`${i} error:`,o.message),!t())return;return this._setSubscription(e,{...n,state:"subscribed"}),void await this._updateSubscriptions()}}this._setSubscription(e,{...n,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach((e=>{try{e(...t)}catch(n){console.error(n)}}))}_wsOnAccountNotification(e){const{result:t,subscription:n}=Hu(e,yf);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,r=ph([e.method,t]),i=this._subscriptionsByHash[r];return void 0===i?this._subscriptionsByHash[r]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const t=this._subscriptionsByHash[r];Pd(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const{commitment:r,config:i}=Eh(n),o=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=Hu(e,bf);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,r){const{commitment:i,config:o}=Eh(n),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(r?{filters:Ch(r)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const r=this._buildArgs(["object"===typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=Hu(e,dp);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=Hu(e,xf);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=Hu(e,_f);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,r){const i=t||this._commitment;if(i||n||r){let t={};n&&(t.encoding=n),i&&(t.commitment=i),r&&(t=Object.assign(t,r)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,n,r){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,r)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=Hu(e,Sf);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const r=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){t(e.result,n);try{this.removeSignatureListener(i)}catch(r){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(e,t,n){const{commitment:r,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],r,void 0,i),s=this._makeSubscription({callback:(e,n)=>{t(e,n);try{this.removeSignatureListener(s)}catch(r){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=Hu(e,Ef);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class pp{constructor(e){this._keypair=void 0,this._keypair=e??ud()}static generate(){return new pp(ud())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),r=cd(t);for(let e=0;e<32;e++)if(n[e]!==r[e])throw new Error("provided secretKey is invalid")}return new pp({publicKey:n,secretKey:e})}static fromSeed(e){const t=cd(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new pp({publicKey:t,secretKey:n})}get publicKey(){return new wd(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const mp=Object.freeze({CreateLookupTable:{index:0,layout:Bu.n_([Bu.Jq("instruction"),oh("recentSlot"),Bu.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Bu.n_([Bu.Jq("instruction")])},ExtendLookupTable:{index:2,layout:Bu.n_([Bu.Jq("instruction"),oh(),Bu.A9(Ad(),Bu.cv(Bu.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Bu.n_([Bu.Jq("instruction")])},CloseLookupTable:{index:4,layout:Bu.n_([Bu.Jq("instruction")])}});class gp{constructor(){}static createLookupTable(e){const[t,n]=wd.findProgramAddressSync([e.authority.toBuffer(),(0,Pu.k$)(BigInt(e.recentSlot),8)],this.programId),r=eh(mp.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:lh.programId,isSigner:!1,isWritable:!1}];return[new Wd({programId:this.programId,keys:i,data:r}),t]}static freezeLookupTable(e){const t=eh(mp.FreezeLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Wd({programId:this.programId,keys:n,data:t})}static extendLookupTable(e){const t=eh(mp.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:lh.programId,isSigner:!1,isWritable:!1}),new Wd({programId:this.programId,keys:n,data:t})}static deactivateLookupTable(e){const t=eh(mp.DeactivateLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Wd({programId:this.programId,keys:n,data:t})}static closeLookupTable(e){const t=eh(mp.CloseLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Wd({programId:this.programId,keys:n,data:t})}}gp.programId=new wd("AddressLookupTab1e1111111111111111111111111");const yp=Object.freeze({RequestUnits:{index:0,layout:Bu.n_([Bu.u8("instruction"),Bu.Jq("units"),Bu.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:Bu.n_([Bu.u8("instruction"),Bu.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:Bu.n_([Bu.u8("instruction"),Bu.Jq("units")])},SetComputeUnitPrice:{index:3,layout:Bu.n_([Bu.u8("instruction"),oh("microLamports")])}});class vp{constructor(){}static requestUnits(e){const t=eh(yp.RequestUnits,e);return new Wd({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=eh(yp.RequestHeapFrame,e);return new Wd({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=eh(yp.SetComputeUnitLimit,e);return new Wd({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=eh(yp.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new Wd({keys:[],programId:this.programId,data:t})}}vp.programId=new wd("ComputeBudget111111111111111111111111111111");const bp=Bu.n_([Bu.u8("numSignatures"),Bu.u8("padding"),Bu.KB("signatureOffset"),Bu.KB("signatureInstructionIndex"),Bu.KB("publicKeyOffset"),Bu.KB("publicKeyInstructionIndex"),Bu.KB("messageDataOffset"),Bu.KB("messageDataSize"),Bu.KB("messageInstructionIndex")]);class wp{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,instructionIndex:i}=e;Pd(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),Pd(64===r.length,`Signature must be 64 bytes but received ${r.length} bytes`);const o=bp.span,s=o+t.length,a=s+r.length,l=wa.Buffer.alloc(a+n.length),u=null==i?65535:i;return bp.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:u,publicKeyOffset:o,publicKeyInstructionIndex:u,messageDataOffset:a,messageDataSize:n.length,messageInstructionIndex:u},l),l.fill(t,o),l.fill(r,s),l.fill(n,a),new Wd({keys:[],programId:wp.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;Pd(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=pp.fromSecretKey(t),i=e.publicKey.toBytes(),o=hd(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,instructionIndex:r})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}wp.programId=new wd("Ed25519SigVerify111111111111111111111111111");ld.utils.isValidPrivateKey;const xp=ld.getPublicKey,kp=Bu.n_([Bu.u8("numSignatures"),Bu.KB("signatureOffset"),Bu.u8("signatureInstructionIndex"),Bu.KB("ethAddressOffset"),Bu.u8("ethAddressInstructionIndex"),Bu.KB("messageDataOffset"),Bu.KB("messageDataSize"),Bu.u8("messageInstructionIndex"),Bu.Ik(20,"ethAddress"),Bu.Ik(64,"signature"),Bu.u8("recoveryId")]);class _p{constructor(){}static publicKeyToEthAddress(e){Pd(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return wa.Buffer.from(Oc(pd(e))).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,recoveryId:i,instructionIndex:o}=e;return _p.createInstructionWithEthAddress({ethAddress:_p.publicKeyToEthAddress(t),message:n,signature:r,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:r,recoveryId:i,instructionIndex:o=0}=e;let s;s="string"===typeof t?t.startsWith("0x")?wa.Buffer.from(t.substr(2),"hex"):wa.Buffer.from(t,"hex"):t,Pd(20===s.length,`Address must be 20 bytes but received ${s.length} bytes`);const a=12+s.length,l=a+r.length+1,u=wa.Buffer.alloc(kp.span+n.length);return kp.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:o,signature:pd(r),ethAddress:pd(s),recoveryId:i},u),u.fill(pd(n),kp.span),new Wd({keys:[],programId:_p.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;Pd(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=pd(t),i=xp(e,!1).slice(1),o=wa.Buffer.from(Oc(pd(n))),[s,a]=((e,t)=>{const n=ld.sign(e,t);return[n.toCompactRawBytes(),n.recovery]})(o,e);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:s,recoveryId:a,instructionIndex:r})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}var Sp;_p.programId=new wd("KeccakSecp256k11111111111111111111111111111");const Ep=new wd("StakeConfig11111111111111111111111111111111");class Cp{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}Sp=Cp,Cp.default=new Sp(0,0,wd.default);const Ap=Object.freeze({Initialize:{index:0,layout:Bu.n_([Bu.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return Bu.n_([Ad("staker"),Ad("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return Bu.n_([Bu.gM("unixTimestamp"),Bu.gM("epoch"),Ad("custodian")],e)}()])},Authorize:{index:1,layout:Bu.n_([Bu.Jq("instruction"),Ad("newAuthorized"),Bu.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:Bu.n_([Bu.Jq("instruction")])},Split:{index:3,layout:Bu.n_([Bu.Jq("instruction"),Bu.gM("lamports")])},Withdraw:{index:4,layout:Bu.n_([Bu.Jq("instruction"),Bu.gM("lamports")])},Deactivate:{index:5,layout:Bu.n_([Bu.Jq("instruction")])},Merge:{index:7,layout:Bu.n_([Bu.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:Bu.n_([Bu.Jq("instruction"),Ad("newAuthorized"),Bu.Jq("stakeAuthorizationType"),Md("authoritySeed"),Ad("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Ip{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:r}=e,i=r||Cp.default,o=eh(Ap.Initialize,{authorized:{staker:pd(n.staker.toBuffer()),withdrawer:pd(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:pd(i.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Gd,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new Wd(s)}static createAccountWithSeed(e){const t=new $d;t.add(lh.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(e){const t=new $d;t.add(lh.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:r}=e,i=eh(Ap.Delegate);return(new $d).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:qd,isSigner:!1,isWritable:!1},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:Ep,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:o}=e,s=eh(Ap.Authorize,{newAuthorized:pd(r.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:qd,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new $d).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,l=eh(Ap.AuthorizeWithSeed,{newAuthorized:pd(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:r,authorityOwner:pd(i.toBuffer())}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:qd,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!0,isWritable:!1}),(new $d).add({keys:u,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=e,o=eh(Ap.Split,{lamports:i});return new Wd({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(e,t){const n=new $d;return n.add(lh.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,l=new $d;return l.add(lh.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),t&&t>0&&l.add(lh.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),l.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:r}=e,i=eh(Ap.Merge);return(new $d).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:qd,isSigner:!1,isWritable:!1},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:o}=e,s=eh(Ap.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:qd,isSigner:!1,isWritable:!1},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new $d).add({keys:a,programId:this.programId,data:s})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,r=eh(Ap.Deactivate);return(new $d).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:qd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}Ip.programId=new wd("Stake11111111111111111111111111111111111111"),Ip.space=200;const Mp=Object.freeze({InitializeAccount:{index:0,layout:Bu.n_([Bu.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return Bu.n_([Ad("nodePubkey"),Ad("authorizedVoter"),Ad("authorizedWithdrawer"),Bu.u8("commission")],e)}()])},Authorize:{index:1,layout:Bu.n_([Bu.Jq("instruction"),Ad("newAuthorized"),Bu.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:Bu.n_([Bu.Jq("instruction"),Bu.gM("lamports")])},UpdateValidatorIdentity:{index:4,layout:Bu.n_([Bu.Jq("instruction")])},AuthorizeWithSeed:{index:10,layout:Bu.n_([Bu.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteAuthorizeWithSeedArgs";return Bu.n_([Bu.Jq("voteAuthorizationType"),Ad("currentAuthorityDerivedKeyOwnerPubkey"),Md("currentAuthorityDerivedKeySeed"),Ad("newAuthorized")],e)}()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class jp{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:r}=e,i=eh(Mp.InitializeAccount,{voteInit:{nodePubkey:pd(r.nodePubkey.toBuffer()),authorizedVoter:pd(r.authorizedVoter.toBuffer()),authorizedWithdrawer:pd(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Gd,isSigner:!1,isWritable:!1},{pubkey:qd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Wd(o)}static createAccount(e){const t=new $d;return t.add(lh.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=e,o=eh(Mp.Authorize,{newAuthorized:pd(r.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:qd,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new $d).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=e,a=eh(Mp.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:pd(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:pd(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:qd,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new $d).add({keys:l,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=e,o=eh(Mp.Withdraw,{lamports:r}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new $d).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return jp.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,nodePubkey:r}=e,i=eh(Mp.UpdateValidatorIdentity),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new $d).add({keys:o,programId:this.programId,data:i})}}jp.programId=new wd("Vote111111111111111111111111111111111111111"),jp.space=3762;new wd("Va1idator1nfo111111111111111111111111111111"),rc({name:tc(),website:Qu(tc()),details:Qu(tc()),iconUrl:Qu(tc()),keybaseUsername:Qu(tc())});new wd("Vote111111111111111111111111111111111111111"),Bu.n_([Ad("nodePubkey"),Ad("authorizedWithdrawer"),Bu.u8("commission"),Bu._O(),Bu.A9(Bu.n_([Bu._O("slot"),Bu.Jq("confirmationCount")]),Bu.cv(Bu.Jq(),-8),"votes"),Bu.u8("rootSlotValid"),Bu._O("rootSlot"),Bu._O(),Bu.A9(Bu.n_([Bu._O("epoch"),Ad("authorizedVoter")]),Bu.cv(Bu.Jq(),-8),"authorizedVoters"),Bu.n_([Bu.A9(Bu.n_([Ad("authorizedPubkey"),Bu._O("epochOfLastAuthorizedSwitch"),Bu._O("targetEpoch")]),32,"buf"),Bu._O("idx"),Bu.u8("isEmpty")],"priorVoters"),Bu._O(),Bu.A9(Bu.n_([Bu._O("epoch"),Bu._O("credits"),Bu._O("prevCredits")]),Bu.cv(Bu.Jq(),-8),"epochCredits"),Bu.n_([Bu._O("slot"),Bu._O("timestamp")],"lastTimestamp")]);const Tp="https://srv.my.meowspace.lol",Bp=e=>{const[t,n]=(0,i.useState)(null),r=(0,i.useCallback)((async()=>{if(null!=e&&0!==e.length){n("loading");try{const t=await(async e=>{const t=await fetch(`${Tp}/profile/${e}`),n=await t.json();if(n.error)throw new Error(`GET /profile/${e} failed: ${n.error}`);return n})(e);n(t)}catch(t){console.error(t),n("not_found")}}}),[e]);return(0,i.useEffect)((()=>{r()}),[r]),t},Pp=e=>{let{onLoad:t}=e;const{userId:n,name:r,color:o,solAddress:s}=(0,i.useContext)(Vp),a="server"===n,l=(0,i.useCallback)((()=>{navigator.clipboard.writeText(s)}),[s]),u=Bp(s),c=(0,i.useRef)(null),d=(0,i.useCallback)((()=>{var e;null===(e=window.open(`https://my.meowspace.lol/${s}`,"_blank"))||void 0===e||e.focus()}),[s]);Hm(c,{onLeftClick:()=>d()}),Pw(c,{onTap:()=>d()});const h=(0,i.useRef)(null),f=(0,i.useCallback)((()=>{var e;null!=u&&"loading"!==u&&"not_found"!==u&&(null===(e=window.open(`https://x.com/${u.twitter}`,"_blank"))||void 0===e||e.focus())}),[u]);return Hm(h,{onLeftClick:()=>f()}),Pw(h,{onTap:()=>f()}),(0,i.useEffect)((()=>{null!=u&&"loading"!==u&&"not_found"!==u&&t()}),[u,t]),(0,It.jsxs)(It.Fragment,{children:["loading"===u&&(0,It.jsx)(Rp,{children:"Loading MeowSpace profile..."}),"not_found"===u&&(0,It.jsx)(Rp,{children:"No MeowSpace profile found."}),null!=u&&"loading"!==u&&"not_found"!==u&&(0,It.jsx)(Rp,{children:(0,It.jsxs)("div",{className:"info",children:[(0,It.jsxs)("div",{style:{display:"flex",flexFlow:"row wrap",alignItems:"start"},children:[u.picture&&(0,It.jsx)("img",{src:u.picture,alt:"Profile",style:{width:"64px",height:"64px",marginRight:"16px",display:"inline-block"}}),(0,It.jsxs)("div",{children:[u.name&&(0,It.jsx)("div",{style:{fontWeight:"bold",fontSize:"18px"},children:u.name}),u.tagline&&(0,It.jsx)("div",{style:{color:"var(--sub)",fontStyle:"italic",wordBreak:"break-word"},children:u.tagline})]})]}),u.bio&&(0,It.jsx)("div",{style:{marginTop:"8px",fontSize:"14px",wordBreak:"break-word"},children:(0,It.jsx)("span",{className:"text",children:u.bio})}),u.twitter&&(0,It.jsxs)("div",{style:{marginTop:"8px",fontSize:"14px",wordBreak:"break-word"},children:[(0,It.jsxs)("span",{ref:h,style:{color:"var(--link)",textDecoration:"underline",cursor:"pointer"},children:["@",u.twitter]})," ","on Twitter/X"]}),(0,It.jsxs)("div",{style:{color:"var(--sub)",marginTop:"8px"},children:[(0,It.jsx)("div",{children:"Solana address:"}),(0,It.jsx)("div",{style:{fontSize:"10px",wordBreak:"break-all"},children:s})]}),(0,It.jsx)("div",{children:(0,It.jsx)("span",{ref:c,style:{color:"var(--link)",textDecoration:"underline",cursor:"pointer"},children:"Visit profile"})})]})}),u&&(0,It.jsx)(Np,{}),(0,It.jsx)(Rp,{children:(0,It.jsxs)("span",{children:[(0,It.jsx)("span",{style:{color:o,fontWeight:"bold"},children:r}),(0,It.jsx)("span",{style:{color:"var(--sub)",fontSize:"11px",fontFamily:"var(--font-mono)",marginLeft:"4px"},children:ht(n)})]})}),!a&&window.isHandheld&&(0,It.jsx)(Rp,{style:{padding:"0 8px 2px"},children:Rn.map((e=>(0,It.jsx)(ys,{id:e},e)))}),(0,It.jsx)(Np,{}),!a&&s&&(0,It.jsxs)(Rp,{onClick:l,children:[(0,It.jsx)(ba,{}),(0,It.jsx)(Lp,{children:"Copy Solana address"})]})]})},Np=()=>(0,It.jsx)("div",{style:{margin:"4px 2px",borderBottom:"1px solid var(--muted)"}}),Rp=e=>{let{onClick:t,style:n,children:r}=e;const o=St({background:"var(--bg-hover)",color:"var(--hover)",cursor:"pointer"}),s=(e=>{const[t,n]=(0,i.useState)(!1);return{style:t?e:{},props:{onTouchStart:(0,i.useCallback)((()=>n(!0)),[]),onTouchEnd:(0,i.useCallback)((()=>n(!1)),[]),onTouchMove:(0,i.useCallback)((()=>n(!1)),[]),onTouchCancel:(0,i.useCallback)((()=>n(!1)),[])},isTouching:t}})({background:"var(--bg-hover)",color:"var(--hover)"});return(0,It.jsx)("div",{style:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-start",alignItems:"center",padding:window.isHandheld?"8px 8px":"4px 8px",borderRadius:"2px",...n,...t&&o.style,...t&&s.style},...t&&o.props,...t&&s.props,onClick:e=>t?t(e):e.stopPropagation(),children:r})},Lp=e=>{let{children:t}=e;return(0,It.jsx)("span",{children:t})},Op=e=>{let{pos:t,onClose:n}=e;const{windowWidth:r,windowHeight:o}=(0,i.useContext)(Rw),s=(0,i.useRef)(null),a=(0,i.useCallback)((()=>{n()}),[n]);Km(a),(0,i.useEffect)((()=>{const e=e=>{s.current&&!s.current.contains(e.target)&&a()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[a]);const l=(0,i.useCallback)((()=>{if(null==s.current)return;const{x:e,y:n}=t,{width:i,height:a}=s.current.getBoundingClientRect();let l=e,u=n;e+i>r&&(l-=e+i-r+32),n+a>o&&(u-=n+a-o+32),s.current.style.left=l.toString()+"px",s.current.style.top=u.toString()+"px"}),[s,t,r,o]);return(0,i.useEffect)((()=>{l()}),[l]),(0,It.jsx)("div",{className:"MessageContextMenu",ref:s,style:Dp,onClick:a,onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},children:(0,It.jsx)(Pp,{onLoad:l})})},Dp={display:"flex",flexFlow:"column nowrap",position:"fixed",zIndex:"1000",width:"240px",background:"var(--bg)",color:"var(--text)",border:"1px solid var(--border)",borderRadius:"4px",overflow:"hidden",padding:"4px",fontSize:"14px",boxShadow:"0 0 1px 2px var(--bg)",userSelect:"none",WebkitUserSelect:"none"},Up="MenuMobile_enter__Gd0S-",zp="MenuMobile_exit__VAHtd",Fp="MenuMobile_overlayEnter__lO3-S",Hp="MenuMobile_overlayExit__bppu4",Wp=e=>{let{onClose:t}=e;const n=(0,i.useRef)(null),{setSlideDisabled:r}=(0,i.useContext)(dx),[o,s]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),u=(0,i.useCallback)((()=>{o||a||(l(!0),setTimeout((()=>{l(!1),t()}),300))}),[o,a,t]);return(0,i.useEffect)((()=>(r(!0),()=>r(!1))),[r]),(0,i.useEffect)((()=>{s(!0),setTimeout((()=>s(!1)),300)}),[]),(0,i.useEffect)((()=>{const e=e=>{n.current&&!n.current.contains(e.target)&&u()};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[o,a,u]),(0,It.jsx)("div",{style:$p,className:a?Hp:Fp,children:(0,It.jsx)("div",{ref:n,style:Kp,className:"Modal MessageBottomSheet "+(a?zp:Up),onClick:u,onContextMenu:e=>{e.preventDefault(),e.stopPropagation()},children:(0,It.jsx)(Pp,{onLoad:()=>{}})})})},$p={position:"fixed",height:"100%",width:"100%",left:"0",top:"0",zIndex:"999",background:"#0009"},Kp={display:"flex",flexFlow:"column nowrap",position:"fixed",left:"0",bottom:"0",transform:"translateY(50%)",maxHeight:"50%",width:"100%",zIndex:"1000",background:"var(--bg)",color:"var(--text)",borderRadius:"8px 8px 0 0",overflow:"hidden",padding:"4px 4px 16px",fontSize:"16px",boxShadow:"0 0 4px 2px #0002",userSelect:"none",WebkitUserSelect:"none"},qp={badword:"replacement"},Vp=(0,i.createContext)({connId:"",name:"",userId:"",shortId:"",time:0,messageId:"",active:!1,solAddress:"",reactions:{},content:"",color:"",background:"",isHovering:!1,modern:!1,signedMessageData:{},pastSecret:"",setMenuParams:()=>{}}),Gp=(0,i.memo)((e=>{let{_ref:t,message:n,prevMessage:r,refMessage:o}=e;const{name:s,userId:a,connId:l,content:u,time:c,reference:d,referencedMessage:h,trackingId:f,solAddress:p,color:m,active:g,unsent:y,attachments:v,mentions:b,reactions:w}=n,x=(0,i.useMemo)((()=>{if(null!=h){const{name:e,content:t,color:n}=h;return{name:e,content:t,color:null!==n&&void 0!==n?n:-1}}return((e,t)=>{if(null!=e&&e!==qs){if(null==t)return"REFERENCE_DEAD";if(!("active"in t)||!t.active)return{name:t.name,content:t.content,color:"color"in t&&null!=t.color?t.color:-1}}})(d,o)}),[d,h,o]),k=(0,i.useMemo)((()=>{let e=!1;if(null!=r){const t=s===r.name,n=a===r.userId,i=c-r.time<6e5;e=t&&n&&i,e&&=null==x}return e}),[s,a,c,r,x]),{settings:{cozy:_,embedImages:S}}=(0,i.useContext)(nx),{pastSecrets:E,serverEmojis:C,userData:A}=(0,i.useContext)(Rw),{verifiedMessageIds:I}=(0,i.useContext)(Kw),M="server"===a,j=(0,i.useMemo)((()=>M?"!server":ht(a)),[M,a]),T=(0,i.useRef)(null);null==t&&(t=T),et(t,"--user-hue",String(null!==m&&void 0!==m?m:yt(a)));const{hsl:B,hsla:P}=At(),N=(0,i.useMemo)((()=>B(null!==m&&void 0!==m?m:yt(a))),[B,m,a]),R=(0,i.useMemo)((()=>P(null!==m&&void 0!==m?m:yt(a),null!==g&&void 0!==g&&g)),[P,m,a,g]),L=(0,i.useMemo)((()=>null!=A&&(null!=b&&null!=b.find((e=>e.userId===A.userId)))),[b,A]),O=(0,i.useMemo)((()=>({mentions:b,serverEmojis:C,clientEmojis:dn,censoredWords:qp})),[b,C]),{lines:D,embed:U}=Dm(u,O,null!==g&&void 0!==g&&g),z=St({}),[F,H]=(0,i.useState)(null),[W,$]=(0,i.useState)(null),K=(e=>{let{callback:t,vizMs:n=50,ms:r=300}=e;const o=(0,i.useRef)(0),s=(0,i.useRef)(0),[a,l]=(0,i.useState)(!1),u=(0,i.useCallback)((()=>{var e,t;clearTimeout(null!==(e=o.current)&&void 0!==e?e:0),o.current=0,clearTimeout(null!==(t=s.current)&&void 0!==t?t:0),s.current=0}),[]);return(0,i.useEffect)((()=>(document.addEventListener("touchmove",u),()=>{document.removeEventListener("touchmove",u)})),[u]),{props:{onTouchStart:(0,i.useCallback)((()=>{u(),s.current=window.setTimeout((()=>{l(!0)}),n),o.current=window.setTimeout((()=>{t(),u()}),r)}),[u,t,n,r]),onTouchEnd:(0,i.useCallback)((()=>{l(!1),o.current&&u()}),[u])},endTimer:u,isPressing:a}})({callback:()=>H({x:0,y:0})}),q=(0,i.useCallback)((e=>{p&&(e.preventDefault(),window.isHandheld?$({x:0,y:0}):$({x:e.pageX,y:e.pageY}))}),[p]);return null==D?(0,It.jsx)(It.Fragment,{}):(0,It.jsx)(Vp.Provider,{value:{name:s,userId:a,shortId:j,solAddress:null!==p&&void 0!==p?p:"",connId:l,time:c,messageId:f,active:null!==g&&void 0!==g&&g,reactions:null!==w&&void 0!==w?w:{},content:u,color:N,background:R,isHovering:z.isHovering,modern:_,pastSecret:E[a],signedMessageData:I[f],setMenuParams:H},children:(0,It.jsx)("div",{className:"Message"+(_?" Modern":" Compact")+(window.isHandheld?" mobileOnly":"")+(k?" followUp":"")+(g?" active":"")+(L?" tagged":"")+(M?" isInfo":"")+(y?" unsent":"")+(z.isHovering?" hover":"")+(null!=F||window.isHandheld&&K.isPressing?" clicked":""),ref:t,onContextMenu:e=>{e.preventDefault(),window.isHandheld||H({x:e.pageX,y:e.pageY})},...z.props,...K.props,children:(0,It.jsx)("div",{className:"inside",children:(0,It.jsxs)("span",{className:"resetIndentStyle",children:[!window.isHandheld&&(0,It.jsx)(Bs,{hover:z.isHovering}),!window.isHandheld&&null!=F&&(0,It.jsx)(_s,{pos:F,onClose:()=>H(null)}),window.isHandheld&&null!=F&&(0,It.jsx)(Ms,{onClose:()=>H(null)}),!window.isHandheld&&null!=W&&(0,It.jsx)(Op,{pos:W,onClose:()=>$(null)}),window.isHandheld&&null!=W&&(0,It.jsx)(Wp,{onClose:()=>$(null)}),null==x?(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(Ps,{}),_?(0,It.jsx)(Fs,{onClick:q}):(0,It.jsx)(Hs,{onClick:q})]}):_?(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(Ps,{}),(0,It.jsx)(Fs,{onClick:q}),(0,It.jsx)(Ys,{style:{marginLeft:"0.5em",paddingRight:"40px"},children:(0,It.jsx)(Vs,{data:x})})]}):(0,It.jsxs)(Ys,{style:{marginLeft:"-3.25em"},children:[(0,It.jsx)(Ps,{}),(0,It.jsx)(Hs,{onClick:q}),(0,It.jsx)(Vs,{data:x})]}),(0,It.jsx)(zs,{lines:D}),S&&(null===U||void 0===U?void 0:U.id)&&(0,It.jsx)(ma,{embedId:U.id,maxWidth:300,aspectRatio:16/9},U.id),v&&(0,It.jsx)(ga,{attachments:v})]})})})})})),Jp=e=>{const{serverEmojis:t}=(0,i.useContext)(Rw),n=(0,i.useMemo)((()=>{let n=[[e]];return t&&(n=n.map(Yp(Ot,dn))),dn&&(n=n.map(Yp(Lt,t))),qp&&(n=n.map(Yp(Dt,qp))),n}),[e,t]);return n},Yp=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return t=>{const r=t.flatMap((t=>"string"!==typeof t?t:e(t,...n).filter((e=>e))));return r}},Zp=(e,t)=>{const{modes:n}=(0,i.useContext)(Rw),r=Tn(e),o=(()=>{const{modes:e}=(0,i.useContext)(Rw);return(0,i.useCallback)(((t,n)=>{var r;return(null!==(r=e.get(t))&&void 0!==r?r:[]).filter((e=>"c"===e.mode)).map((e=>e.arg)).includes(n)}),[e])})(),s=(0,i.useCallback)((()=>{var t;return null==e?[]:(null!==(t=n.get(e))&&void 0!==t?t:[]).filter((e=>null!=nn[e.mode]||"z"===e.mode||"M"===e.mode||"b"===e.mode))}),[e,n]),a=(0,i.useCallback)((()=>{var t;return null==e||null==r.pcid?[]:o(r.pcid,e)?(null!==(t=n.get(r.pcid))&&void 0!==t?t:[]).filter((e=>null!=nn[e.mode]||"M"===e.mode||"b"===e.mode)).filter((e=>r.check.includes(e.mode))):[]}),[e,r,n,o]),l=(0,i.useCallback)((e=>{var n;const r=e.sort(sn).find((e=>{if("M"===e.mode||"b"===e.mode){const n=((e,t)=>{let n=e.replaceAll("\\:","\0").split(":");for(let r=0;r<n.length;r++)n[r]=n[r].replaceAll("\0",":");return t===n[3]})(e.arg,t);return n}return(null!=nn[e.mode]||"z"===e.mode)&&e.arg===t}));return null!==(n=null===r||void 0===r?void 0:r.mode)&&void 0!==n?n:null}),[t]);return(0,i.useMemo)((()=>{const e=s(),t=l(e);if(null!=t)return t;const n=a(),r=l(n);return null!=r?r:null}),[l,s,a])},Xp=()=>{const{settings:{chatHistoryLength:e}}=(0,i.useContext)(nx),{modes:t}=(0,i.useContext)(Rw);return(0,i.useCallback)((n=>{if("channel"===e){var r;const e=null===(r=(t.get(n)||[]).find((e=>"L"===e.mode)))||void 0===r?void 0:r.arg;if(null!=e&&dt(e))return parseInt(e)}return"number"===typeof e?e:null}),[e,t])};window.isHandheld=function(){let e=!1;var t;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}();const Qp=e=>(0,i.useCallback)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto";const n=e.current;if(null==n)return;const{offsetBottom:r}=xt(n);r>0&&n.scroll({top:n.scrollHeight,behavior:t})}),[e]),em=e=>{let{messagesRef:t,firstMsg:n,lastMsg:r,oldestTime:o,chan:s,chat:a}=e;const{doneLoading:l}=(0,i.useContext)(Hw),u=An(),c=Xp(),d=(0,i.useMemo)((()=>null!=a?Object.keys(a).length:null),[a]),h=qm(s.current),f=(0,i.useCallback)((()=>{if(null==h)return;if(null==s.current)return;if(l[s.current])return;if(null==o.current)return;const e=c(s.current);null!=e&&null!=d&&e<=d||u({cid:s.current,time:o.current,limit:100})}),[h,l,s,o,c,d,u]),p=(0,i.useRef)(0),m=(0,i.useRef)(),g=(0,i.useRef)(),y=(0,i.useRef)(0),v=(0,i.useRef)(!1),b=()=>v.current=!0,w=()=>v.current=!1;(0,i.useEffect)((()=>{const e=null===t||void 0===t?void 0:t.current;if(null!=e)return e.addEventListener("mousedown",b),e.addEventListener("mouseup",w),e.addEventListener("touchstart",b),e.addEventListener("touchend",w),()=>{e.removeEventListener("mousedown",b),e.removeEventListener("mouseup",w),e.removeEventListener("touchstart",b),e.removeEventListener("touchend",w)}}),[t]);const x=(0,i.useRef)({}),k=(0,i.useRef)({});(0,i.useEffect)((()=>{null!=s.current&&null==x.current[s.current]&&(x.current[s.current]=!0)}),[s]);return(e=>{const t=(0,i.useRef)(-1),n=(0,i.useCallback)((()=>{e(),t.current=requestAnimationFrame(n)}),[e]);(0,i.useEffect)((()=>(t.current=requestAnimationFrame(n),()=>cancelAnimationFrame(t.current))),[n])})((0,i.useCallback)((()=>{const e=null===t||void 0===t?void 0:t.current;if(null==e)return;if(null==s.current)return;const i=e.scrollTop,o=e.scrollHeight,{offsetBottom:a}=xt(e);if(null==o)return;if(null==r.current)return;if(null==n.current)return;const l=o!==p.current,u=r.current!==m.current,c=n.current!==g.current,d=c&&!u,h=u&&c,b=!v.current&&i<=300&&!(l||u||c);var w;(d&&e.scroll({top:i+o-p.current}),h)&&e.scroll({top:null!==(w=k.current[s.current])&&void 0!==w?w:o});!window.isHandheld&&b&&f();const _=a>y.current,S=a<y.current,E=a<=60;x.current[s.current]&&_&&!E&&!l&&(x.current[s.current]=!1),!x.current[s.current]&&S&&E&&(x.current[s.current]=!0),l&&x.current[s.current]&&e.scroll({top:o}),k.current[s.current]=i,p.current=o,m.current=r.current,g.current=n.current,y.current=a}),[t,f,r,n,s])),{tryLoadMore:f}},tm=e=>{const{socket:t,modes:n}=(0,i.useContext)(Rw);return(0,i.useCallback)(((r,i,o)=>{null!=t&&null!=e&&n.has(e)&&t.emit(Wt.SetMode,{cid:e,modes:[{mode:r,arg:i,enable:o}]})}),[t,e,n])},nm=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{socket:n,modes:r}=(0,i.useContext)(Rw),[o,s]=(0,i.useState)(null);(0,i.useEffect)((()=>{if(null!=n)return n.emitSync(234,{cid:e},1e4,(e=>{s(e.children)})),()=>{s(null)}}),[n,e]);const a=(0,i.useMemo)((()=>{var n;if(null==o)return[];const i=(null!==(n=r.get(e))&&void 0!==n?n:[]).filter((e=>"c"===e.mode&&(t||st(o,e.arg)))).map((e=>{var t,n,i,s,a,l,u,c,d,h;const f=e.arg,p=null!==(t=null!==(n=null===(i=o[f])||void 0===i?void 0:i.n)&&void 0!==n?n:null===(s=(null!==(a=r.get(f))&&void 0!==a?a:[]).find((e=>"n"===e.mode)))||void 0===s?void 0:s.arg)&&void 0!==t?t:"<unknown>",m=null!==(l=null!==(u=null===(c=o[f])||void 0===c?void 0:c.t)&&void 0!==u?u:null===(d=(null!==(h=r.get(f))&&void 0!==h?h:[]).find((e=>"t"===e.mode)))||void 0===d?void 0:d.arg)&&void 0!==l?l:"";return{id:f,name:p,topic:m}}));return i}),[r,e,o,t]);return{data:o,children:a}},rm=()=>{const{channelData:e}=(0,i.useContext)(Yw);return(0,i.useCallback)(((t,n)=>{var r;return null==n||ut(n)?null===(r=e[t])||void 0===r?void 0:r.pass:n}),[e])},im=()=>{const{setVerifiedMessageIds:e}=(0,i.useContext)(Kw),t=(0,i.useCallback)((t=>{const{messageId:n,content:r,signature:i,deadline:o,signingKey:s}=t;if(null==n)return"messageId missing";if(null==r)return"content missing";if(null==i)return"signature missing";if(null==o)return"deadline missing";if(null==s)return"signingKey missing";const a=Date.now();let l=!1,u="";if(l||0<o&&1e3*o<=a&&(l=!0,u="deadline exceeded"),!l){co(s)!==function(e,t){return ho(Hr(e),t)}(yn({content:r,deadline:o}),i)&&(l=!0,u="invalid signature")}return e((e=>({...e,[n]:{displayKey:ai.encode(s),signingKey:s,signatureType:"direct",failed:l,failReason:u,timestamp:a}}))),null}),[e]);return t},om=e=>e instanceof Uint8Array,sm=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),am=(e,t)=>e<<32-t|e>>>t;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");const lm=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function um(e){if(!om(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=lm[e[n]];return t}function cm(e){if("string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),!om(e))throw new Error("expected Uint8Array, got "+typeof e);return e}class dm{clone(){return this._cloneInto()}}function hm(e){const t=t=>e().update(cm(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function fm(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function pm(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}function mm(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");fm(e.outputLen),fm(e.blockLen)}function gm(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ym(e,t){pm(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}class vm extends dm{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,mm(e);const n=cm(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,i=new Uint8Array(r);i.set(n.length>r?e.create().update(n).digest():n);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return gm(this),this.iHash.update(e),this}digestInto(e){gm(this),pm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const bm=(e,t,n)=>new vm(e,t).update(n).digest();bm.create=(e,t)=>new vm(e,t);const wm=new Uint8Array([0]),xm=new Uint8Array;const km=(e,t,n,r,i)=>function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32;if(mm(e),fm(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/e.outputLen);void 0===n&&(n=xm);const o=new Uint8Array(i*e.outputLen),s=bm.create(e,t),a=s._cloneInto(),l=new Uint8Array(s.outputLen);for(let u=0;u<i;u++)wm[0]=u+1,a.update(0===u?xm:l).update(n).update(wm).digestInto(l),o.set(l,e.outputLen*u),s._cloneInto(a);return s.destroy(),a.destroy(),l.fill(0),wm.fill(0),o.slice(0,r)}(e,function(e,t,n){return mm(e),void 0===n&&(n=new Uint8Array(e.outputLen)),bm(e,cm(n),cm(t))}(e,t,n),r,i);class _m extends dm{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=sm(this.buffer)}update(e){gm(this);const{view:t,buffer:n,blockLen:r}=this,i=(e=cm(e)).length;for(let o=0;o<i;){const s=Math.min(r-this.pos,i-o);if(s!==r)n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0);else{const t=sm(e);for(;r<=i-o;o+=r)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){gm(this),ym(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:r,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(n,0),o=0);for(let c=o;c<r;c++)t[c]=0;!function(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),s=Number(n>>i&o),a=Number(n&o),l=r?4:0,u=r?0:4;e.setUint32(t+l,s,r),e.setUint32(t+u,a,r)}(n,r-8,BigInt(8*this.length),i),this.process(n,0);const s=sm(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let c=0;c<l;c++)s.setUint32(4*c,u[c],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:s}=this;return e.length=r,e.pos=s,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}const Sm=(e,t,n)=>e&t^e&n^t&n,Em=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Cm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Am=new Uint32Array(64);class Im extends _m{constructor(){super(64,32,8,!1),this.A=0|Cm[0],this.B=0|Cm[1],this.C=0|Cm[2],this.D=0|Cm[3],this.E=0|Cm[4],this.F=0|Cm[5],this.G=0|Cm[6],this.H=0|Cm[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:s,H:a}=this;return[e,t,n,r,i,o,s,a]}set(e,t,n,r,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let d=0;d<16;d++,t+=4)Am[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const e=Am[d-15],t=Am[d-2],n=am(e,7)^am(e,18)^e>>>3,r=am(t,17)^am(t,19)^t>>>10;Am[d]=r+Am[d-7]+n+Am[d-16]|0}let{A:n,B:r,C:i,D:o,E:s,F:a,G:l,H:u}=this;for(let d=0;d<64;d++){const e=u+(am(s,6)^am(s,11)^am(s,25))+((c=s)&a^~c&l)+Em[d]+Am[d]|0,t=(am(n,2)^am(n,13)^am(n,22))+Sm(n,r,i)|0;u=l,l=a,a=s,s=o+e|0,o=i,i=r,r=n,n=e+t|0}var c;n=n+this.A|0,r=r+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,r,i,o,s,a,l,u)}roundClean(){Am.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Mm=hm((()=>new Im)),jm=e=>{const t=new Uint8Array(32);return km(Mm,e,t,"meow",32)},Tm=(0,i.createContext)({auth:null,setAuth:()=>{}}),Bm=e=>{let{children:t}=e;const[n,r]=jw("auth",null);return(0,It.jsx)(Tm.Provider,{value:{auth:n,setAuth:r},children:t})},Pm=e=>{const{settings:{name:t,pass:n,hue:r,status:o}}=(0,i.useContext)(nx),{auth:s}=(0,i.useContext)(Tm),{socket:a,sessionSecret:l}=(0,i.useContext)(Rw),{pbWallet:u,sesWallet:c,setPbWallet:d,setKeyState:h}=(0,i.useContext)(Kw),f="sha256"==="scrypt"?kt:_t;(0,i.useEffect)((()=>{(async()=>{if(null==l)return;let e=n;null!=n&&0!==n.length||(e=l),h("loading");const t=await f(e),r=new ds(t),{privateKey:i,publicKey:o,address:s}=r;d({type:"pb",val:{password:e,privateKey:i,publicKey:o,address:s},sign:async e=>({sig:await r.signMessage(e)}),tdh:async(e,t,n)=>{const i=r._signingKey().computeSharedSecret(n),o=e._signingKey().computeSharedSecret(t),s=e._signingKey().computeSharedSecret(n),a=function(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const t=2*r,i=e.slice(t,t+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}([i,o].sort(((e,t)=>parseInt(e)-parseInt(t))).concat(s).map((e=>e.slice(2))).join("")),l=jm(a),u=jm(l);return[um(l),um(u)]}})})()}),[l,n,f,d,h]),(0,i.useEffect)((()=>{(async()=>{if(!e)return;if(null==a)return;if(null==u)return;if(null==c)return;const{sig:n}=await u.sign("chat.meowspace.lol:setuser"),i=n,l=s?JSON.stringify(s):null;a.emit(Wt.Trip,{name:t,color:r,status:o,publicKey:u.val.publicKey,sessionKey:c.publicKey,signature:i,solAuth:l})})()}),[e,a,t,r,o,u,c,s])},Nm=new RegExp("(S?)#((?:[a-z0-9])(?:[a-z0-9-_.]{0,18}[a-z0-9])?)([a-z0-9]?)"),Rm=e=>{const t=e.split(Nm),n=Array.from(t);for(let r=1;r<t.length;r+=4){const e=t[r],i=t[r+1],o=t[r+2];e.length>0||o.length>0?n[r+1]=`${Nt}${i}`:n[r+1]=(0,It.jsx)(Lm,{roomName:i},`roomlink${r}`)}return n},Lm=e=>{let{roomName:t}=e;const n=fn();return(0,It.jsxs)("span",{className:"RoomLink",onClick:()=>n({cid:void 0,cname:t}),children:[(0,It.jsx)("span",{className:"hash",children:Nt}),(0,It.jsx)("span",{className:"name",children:t})]})},Om=/^((?:https?:)?\/\/)?((?:www|m)\.)?((?:youtube(-nocookie)?\.com|youtu.be))(\/(?:[\w-]+\?v=|embed\/|v\/)?)([\w-]+)(\S+)?$/,Dm=(e,t,n)=>{const{mentions:r,serverEmojis:o,clientEmojis:s,censoredWords:a}=null!==t&&void 0!==t?t:{},[l,u]=(0,i.useState)(null),c=(0,i.useCallback)((e=>{u((t=>{if(null!=t)return t;const n=Om.exec(e);return null!=n&&n.length>=7?{id:n[6]}:null}))}),[]),d=(0,i.useMemo)((()=>{let t=e.replaceAll(/([\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0955-\u0957\u0962-\u0963\u0e31-\u0e3a\u0e47-\u0e4e\u3099-\u309a\u0483-\u0486\u05C7\u0610-\u061A\u0656-\u065F\u0670\u06D6-\u06ED\u0711\u0730-\u073F\u0743-\u074A\u0F18-\u0F19\u0F35\u0F37\u0F72-\u0F73\u0F7A-\u0F81\u0F84\uFC5E-\uFC62]{5,})/g,(e=>e.slice(0,5))).replace(/^\s+|\s+$/g,"").replace(/ {2}/g," \xa0").replace("\n\n","\n\xa0\n").split("\n").map((e=>[zm(e)]));try{n||(t=t.map(Um(jt,c)),t=t.map(Um(Rm)),r&&(t=t.map(Um(zt,r)))),o&&(t=t.map(Um(Lt,o))),s&&(t=t.map(Um(Ot,s))),a&&(t=t.map(Um(Dt,a)))}catch(i){console.error(i)}return t}),[e,n,c,r,o,s,a]);return{lines:d,embed:l}},Um=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return t=>{const r=t.flatMap((t=>"string"!==typeof t?t:e(t,...n).filter((e=>e))));return r}},zm=e=>(e.startsWith(" ")&&(e=Fm(e,0,"\xa0")),e.endsWith(" ")&&(e=Fm(e,e.length-1,"\xa0")),e),Fm=(e,t,n)=>t>e.length-1?e:e.substring(0,t)+n+e.substring(t+1),Hm=(e,t)=>{let{onLeftClick:n,onRightClick:r}=t;const[o,s]=(0,i.useState)(!1),a=(0,i.useCallback)((e=>{e.preventDefault(),s(!0)}),[]),l=(0,i.useCallback)((e=>{e.preventDefault(),s(!1)}),[]),u=(0,i.useCallback)((e=>{e.preventDefault()}),[]),c=(0,i.useCallback)((e=>{e.preventDefault()}),[]),d=(0,i.useCallback)((e=>{null!=n&&(e.preventDefault(),n(e))}),[n]),h=(0,i.useCallback)((e=>{null!=r&&(e.preventDefault(),r(e))}),[r]);return(0,i.useEffect)((()=>{if(null==e.current)return;const t=e.current;return t.addEventListener("mouseenter",a,{passive:!1}),t.addEventListener("mouseleave",l,{passive:!1}),t.addEventListener("mouseover",u,{passive:!1}),t.addEventListener("mouseout",c,{passive:!1}),t.addEventListener("click",d,{passive:!1}),t.addEventListener("contextmenu",h,{passive:!1}),()=>{t.removeEventListener("mouseenter",a),t.removeEventListener("mouseleave",l),t.removeEventListener("mouseover",u),t.removeEventListener("mouseout",c),t.removeEventListener("click",d),t.removeEventListener("contextmenu",h)}}),[e,a,l,u,c,d,h]),{isHovering:o}},Wm=(e,t)=>{(0,i.useEffect)((()=>{const n=n=>{e.current&&!e.current.contains(n.target)&&t(n)};return document.addEventListener("mouseup",n),()=>{document.removeEventListener("mouseup",n)}}),[e,t])},$m=(e,t,n)=>{const r=(0,i.useCallback)((r=>{e&&t.includes(r.key)&&(r.preventDefault(),n())}),[e,t,n]);(0,i.useEffect)((()=>(window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)})),[e,t,r])},Km=e=>{const t=(0,i.useCallback)((t=>{"Escape"===t.key&&e()}),[e]);(0,i.useEffect)((()=>(window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)})),[t])},qm=(e,t)=>{var n,r;const o=(0,i.useRef)();return(0,i.useEffect)((()=>{o.current=e}),[e]),null!==(n=null!==(r=o.current)&&void 0!==r?r:t)&&void 0!==n?n:null},Vm=()=>{const{room:e}=function(){let{matches:e}=i.useContext(G),t=e[e.length-1];return t?t.params:{}}(),[t,n]=(0,i.useState)(null);return(0,i.useEffect)((()=>{null!=e&&""!==e&&n(e)}),[e]),t},Gm=()=>{const[e,t]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const e=e=>{e.shiftKey&&t(!0)},n=e=>{e.shiftKey||t(!1)};return document.addEventListener("keydown",e),document.addEventListener("keyup",n),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",n)}}),[]),e};const Jm={toVector:(e,t)=>(void 0===e&&(e=t),Array.isArray(e)?e:[e,e]),add:(e,t)=>[e[0]+t[0],e[1]+t[1]],sub:(e,t)=>[e[0]-t[0],e[1]-t[1]],addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function Ym(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function Zm(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===r?function(e,t,n){return Math.max(t,Math.min(e,n))}(e,t,n):e<t?-Ym(t-e,n-t,r)+t:e>n?+Ym(e-n,n-t,r)+n:e}function Xm(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Qm(e,t,n){return(t=Xm(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(n),!0).forEach((function(t){Qm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ng={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function rg(e){return e?e[0].toUpperCase()+e.slice(1):""}const ig=["enter","leave"];function og(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=ng[e],i=r&&r[t]||t;return"on"+rg(e)+rg(i)+(function(){let e=arguments.length>1?arguments[1]:void 0;return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&!ig.includes(e)}(n,i)?"Capture":"")}const sg=["gotpointercapture","lostpointercapture"];function ag(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=sg.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function lg(e){return"touches"in e}function ug(e){return lg(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function cg(e){return lg(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function dg(e){return function(e){return Array.from(e.touches).filter((t=>{var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((e=>e.identifier))}function hg(e){const t=cg(e);return lg(e)?t.identifier:t.pointerId}function fg(e){const t=cg(e);return[t.clientX,t.clientY]}function pg(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e(...n)}return e}function mg(){}function gg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?mg:1===t.length?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function yg(e,t){return Object.assign({},t,e||{})}class vg{constructor(e,t,n){this.ctrl=e,this.args=t,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:n,args:r}=this;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?pg(n.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:n,shared:r}=this;t.args=this.args;let i=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o})}return t}(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const e=t._delta.map(Math.abs);Jm.addTo(t._distance,e)}this.axisIntent&&this.axisIntent(e);const[o,s]=t._movement,[a,l]=n.threshold,{_step:u,values:c}=t;if(n.hasCustomTransform?(!1===u[0]&&(u[0]=Math.abs(o)>=a&&c[0]),!1===u[1]&&(u[1]=Math.abs(s)>=l&&c[1])):(!1===u[0]&&(u[0]=Math.abs(o)>=a&&Math.sign(o)*a),!1===u[1]&&(u[1]=Math.abs(s)>=l&&Math.sign(s)*l)),t.intentional=!1!==u[0]||!1!==u[1],!t.intentional)return;const d=[0,0];if(n.hasCustomTransform){const[e,t]=c;d[0]=!1!==u[0]?e-u[0]:0,d[1]=!1!==u[1]?t-u[1]:0}else d[0]=!1!==u[0]?o-u[0]:0,d[1]=!1!==u[1]?s-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(d);const h=t.offset,f=t._active&&!t._blocked||t.active;f&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=pg(n.bounds,t)),this.setup&&this.setup()),t.movement=d,this.computeOffset()));const[p,m]=t.offset,[[g,y],[v,b]]=t._bounds;t.overflow=[p<g?-1:p>y?1:0,m<v?-1:m>b?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);const w=t._active&&n.rubberband||[0,0];if(t.offset=function(e,t,n){let[r,i]=t,[o,s]=n;const[[a,l],[u,c]]=e;return[Zm(r,a,l,o),Zm(i,u,c,s)]}(t._bounds,t.offset,w),t.delta=Jm.sub(t.offset,h),this.computeMovement(),f&&(!t.last||i>32)){t.delta=Jm.sub(t.offset,h);const e=t.delta.map(Math.abs);Jm.addTo(t.distance,e),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[e[0]/i,e[1]/i],t.timeDelta=i)}}emit(){const e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;const r=this.handler(tg(tg(tg({},t),e),{},{[this.aliasKey]:e.values}));void 0!==r&&(e.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class bg extends vg{constructor(){super(...arguments),Qm(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Jm.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Jm.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,n=this.config;if(!t.axis&&e){const r="object"===typeof n.axisThreshold?n.axisThreshold[ug(e)]:n.axisThreshold;t.axis=function(e,t){let[n,r]=e;const i=Math.abs(n),o=Math.abs(r);return i>o&&i>t?"x":o>i&&o>t?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}const wg=e=>e,xg={enabled(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},eventOptions:(e,t,n)=>tg(tg({},n.shared.eventOptions),e),preventDefault(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},triggerAllEvents(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},rubberband(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[.15,.15];case!1:return[0,0];default:return Jm.toVector(e)}},from:e=>"function"===typeof e?e:null!=e?Jm.toVector(e):void 0,transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||wg},threshold:e=>Jm.toVector(e,0)};const kg=tg(tg({},xg),{},{axis(e,t,n){let{axis:r}=n;if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:0},bounds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"===typeof e)return t=>kg.bounds(e(t));if("current"in e)return()=>e.current;if("function"===typeof HTMLElement&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,n],[r,i]]}}),_g={ArrowRight:function(e){return[e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),0]},ArrowLeft:function(e){return[-1*e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),0]},ArrowUp:function(e){return[0,-1*e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)]},ArrowDown:function(e){return[0,e*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)]}};const Sg="undefined"!==typeof window&&window.document&&window.document.createElement;function Eg(){return Sg&&"ontouchstart"in window}const Cg={isBrowser:Sg,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:Eg(),touchscreen:Eg()||Sg&&window.navigator.maxTouchPoints>1,pointer:Sg&&"onpointerdown"in window,pointerLock:Sg&&"exitPointerLock"in window.document},Ag=.5,Ig=50,Mg=250,jg={mouse:0,touch:0,pen:8},Tg=tg(tg({},kg),{},{device(e,t,n){let{pointer:{touch:r=!1,lock:i=!1,mouse:o=!1}={}}=n;return this.pointerLock=i&&Cg.pointerLock,Cg.touch&&r?"touch":this.pointerLock?"mouse":Cg.pointer&&!o?"pointer":Cg.touch?"touch":"mouse"},preventScrollAxis(e,t,n){let{preventScroll:r}=n;if(this.preventScrollDelay="number"===typeof r?r:r||void 0===r&&e?250:void 0,Cg.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture(e,t,n){let{pointer:{capture:r=!0,buttons:i=1,keys:o=!0}={}}=n;return this.pointerButtons=i,this.keys=o,!this.pointerLock&&"pointer"===this.device&&r},threshold(e,t,n){let{filterTaps:r=!1,tapsThreshold:i=3,axis:o}=n;const s=Jm.toVector(e,r?i:o?1:0);return this.filterTaps=r,this.tapsThreshold=i,s},swipe(){let{velocity:e=Ag,distance:t=Ig,duration:n=Mg}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{velocity:this.transform(Jm.toVector(e)),distance:this.transform(Jm.toVector(t)),duration:n}},delay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:e=>e?tg(tg({},jg),e):jg,keyboardDisplacement(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:10}});tg(tg({},xg),{},{device(e,t,n){let{shared:r,pointer:{touch:i=!1}={}}=n;if(r.target&&!Cg.touch&&Cg.gesture)return"gesture";if(Cg.touch&&i)return"touch";if(Cg.touchscreen){if(Cg.pointer)return"pointer";if(Cg.touch)return"touch"}},bounds(e,t,n){let{scaleBounds:r={},angleBounds:i={}}=n;const o=e=>{const t=yg(pg(r,e),{min:-1/0,max:1/0});return[t.min,t.max]},s=e=>{const t=yg(pg(i,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!==typeof r&&"function"!==typeof i?[o(),s()]:e=>[o(e),s(e)]},threshold(e,t,n){this.lockDirection="lock"===n.axis;return Jm.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey:e=>void 0===e?"ctrlKey":e,pinchOnWheel(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}});tg(tg({},kg),{},{mouseOnly:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}});tg(tg({},kg),{},{mouseOnly:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}});const Bg=new Map,Pg=new Map;const Ng={key:"drag",engine:class extends bg{constructor(){super(...arguments),Qm(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=kg.bounds(r)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout((()=>{this.compute(),this.emit()}),0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,n=this.state;if(null!=e.buttons&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):-1!==t.pointerButtons&&t.pointerButtons!==e.buttons))return;const r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),r&&r.size>1&&n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=hg(e),n._pointerActive=!0,this.computeValues(fg(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==ug(e)?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,n=this.config;if(!t._pointerActive)return;const r=hg(e);if(void 0!==t._pointerId&&r!==t._pointerId)return;const i=fg(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=Jm.sub(i,t._values),this.computeValues(i)),Jm.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(s){0}const t=this.state,n=this.config;if(!t._active||!t._pointerActive)return;const r=hg(e);if(void 0!==t._pointerId&&r!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[i,o]=t._distance;if(t.tap=i<=n.tapsThreshold&&o<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{const[e,r]=t._delta,[i,o]=t._movement,[s,a]=n.swipe.velocity,[l,u]=n.swipe.distance,c=n.swipe.duration;if(t.elapsedTime<c){const n=Math.abs(e/t.timeDelta),c=Math.abs(r/t.timeDelta);n>s&&Math.abs(i)>l&&(t.swipe[0]=Math.sign(e)),c>a&&Math.abs(o)>u&&(t.swipe[1]=Math.sign(r))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,function(e){"persist"in e&&"function"===typeof e.persist&&e.persist()}(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",(()=>{this.state._step=[0,0],this.startPointerDrag(e)}),this.config.delay)}keyDown(e){const t=_g[e.key];if(t){const n=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(this.config.keyboardDisplacement,r),n._keyboardActive=!0,Jm.addTo(n._movement,n._delta),this.compute(e),this.emit()}}keyUp(e){e.key in _g&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}},resolver:Tg};function Rg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const Lg={target(e){if(e)return()=>"current"in e?e.current:e},enabled(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},window(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cg.isBrowser?window:void 0},eventOptions(){let{passive:e=!0,capture:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{passive:e,capture:t}},transform:e=>e},Og=["target","eventOptions","window","enabled","transform"];function Dg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n={};for(const[r,i]of Object.entries(t))switch(typeof i){case"function":n[r]=i.call(n,e[r],r,e);break;case"object":n[r]=Dg(e[r],i);break;case"boolean":i&&(n[r]=e[r])}return n}class Ug{constructor(e,t){Qm(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,n,r,i){const o=this._listeners,s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=ng[e];return e+(n&&n[t]||t)}(t,n),a=tg(tg({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),i);e.addEventListener(s,r,a);const l=()=>{e.removeEventListener(s,r,a),o.delete(l)};return o.add(l),l}clean(){this._listeners.forEach((e=>e())),this._listeners.clear()}}class zg{constructor(){Qm(this,"_timeouts",new Map)}add(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(e);for(var r=arguments.length,i=new Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];this._timeouts.set(e,window.setTimeout(t,n,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach((e=>{window.clearTimeout(e)})),this._timeouts.clear()}}class Fg{constructor(e){Qm(this,"gestures",new Set),Qm(this,"_targetEventStore",new Ug(this)),Qm(this,"gestureEventStores",{}),Qm(this,"gestureTimeoutStores",{}),Qm(this,"handlers",{}),Qm(this,"config",{}),Qm(this,"pointerIds",new Set),Qm(this,"touchIds",new Set),Qm(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&Hg(e,"drag");t.wheel&&Hg(e,"wheel");t.scroll&&Hg(e,"scroll");t.move&&Hg(e,"move");t.pinch&&Hg(e,"pinch");t.hover&&Hg(e,"hover")}(this,e)}setEventIds(e){return lg(e)?(this.touchIds=new Set(dg(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e,{target:i,eventOptions:o,window:s,enabled:a,transform:l}=r,u=Rg(r,Og);if(n.shared=Dg({target:i,eventOptions:o,window:s,enabled:a,transform:l},Lg),t){const e=Pg.get(t);n[t]=Dg(tg({shared:n.shared},u),e)}else for(const c in u){const e=Pg.get(c);e&&(n[c]=Dg(tg({shared:n.shared},u[c]),e))}return n}(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=this.config.shared,i={};let o;if(!r.target||(o=r.target(),o)){if(r.enabled){for(const n of this.gestures){const e=this.config[n],r=Wg(i,e.eventOptions,!!o);if(e.enabled){new(Bg.get(n))(this,t,n).bind(r)}}const e=Wg(i,r.eventOptions,!!o);for(const n in this.nativeHandlers)e(n,"",(e=>this.nativeHandlers[n](tg(tg({},this.state.shared),{},{event:e,args:t}))),void 0,!0)}for(const e in i)i[e]=gg(...i[e]);if(!o)return i;for(const e in i){const{device:t,capture:n,passive:r}=ag(e);this._targetEventStore.add(o,t,"",i[e],{capture:n,passive:r})}}}}function Hg(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Ug(e,t),e.gestureTimeoutStores[t]=new zg}const Wg=(e,t,n)=>function(r,i,o){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];var l,u;const c=null!==(l=s.capture)&&void 0!==l?l:t.capture,d=null!==(u=s.passive)&&void 0!==u?u:t.passive;let h=a?r:og(r,i,c);n&&d&&(h+="Passive"),e[h]=e[h]||[],e[h].push(o)};function $g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const o=i.useMemo((()=>new Fg(e)),[]);if(o.applyHandlers(e,r),o.applyConfig(t,n),i.useEffect(o.effect.bind(o)),i.useEffect((()=>o.clean.bind(o)),[]),void 0===t.target)return o.bind.bind(o)}function Kg(e,t){var n;return n=Ng,Bg.set(n.key,n.engine),Pg.set(n.key,n.resolver),$g({drag:e},t||{},"drag")}var qg=Object.defineProperty,Vg={};((e,t)=>{for(var n in t)qg(e,n,{get:t[n],enumerable:!0})})(Vg,{assign:()=>Cy,colors:()=>_y,createStringInterpolator:()=>by,skipAnimation:()=>Sy,to:()=>wy,willAdvance:()=>Ey});var Gg=cy(),Jg=e=>sy(e,Gg),Yg=cy();Jg.write=e=>sy(e,Yg);var Zg=cy();Jg.onStart=e=>sy(e,Zg);var Xg=cy();Jg.onFrame=e=>sy(e,Xg);var Qg=cy();Jg.onFinish=e=>sy(e,Qg);var ey=[];Jg.setTimeout=(e,t)=>{const n=Jg.now()+t,r=()=>{const e=ey.findIndex((e=>e.cancel==r));~e&&ey.splice(e,1),iy-=~e?1:0},i={time:n,handler:e,cancel:r};return ey.splice(ty(n),0,i),iy+=1,ay(),i};var ty=e=>~(~ey.findIndex((t=>t.time>e))||~ey.length);Jg.cancel=e=>{Zg.delete(e),Xg.delete(e),Qg.delete(e),Gg.delete(e),Yg.delete(e)},Jg.sync=e=>{oy=!0,Jg.batchedUpdates(e),oy=!1},Jg.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,Jg.onStart(n)}return r.handler=e,r.cancel=()=>{Zg.delete(n),t=null},r};var ny="undefined"!=typeof window?window.requestAnimationFrame:()=>{};Jg.use=e=>ny=e,Jg.now="undefined"!=typeof performance?()=>performance.now():Date.now,Jg.batchedUpdates=e=>e(),Jg.catch=console.error,Jg.frameLoop="always",Jg.advance=()=>{"demand"!==Jg.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):uy()};var ry=-1,iy=0,oy=!1;function sy(e,t){oy?(t.delete(e),e(0)):(t.add(e),ay())}function ay(){ry<0&&(ry=0,"demand"!==Jg.frameLoop&&ny(ly))}function ly(){~ry&&(ny(ly),Jg.batchedUpdates(uy))}function uy(){const e=ry;ry=Jg.now();const t=ty(ry);t&&(dy(ey.splice(0,t),(e=>e.handler())),iy-=t),iy?(Zg.flush(),Gg.flush(e?Math.min(64,ry-e):16.667),Xg.flush(),Yg.flush(),Qg.flush()):ry=-1}function cy(){let e=new Set,t=e;return{add(n){iy+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(iy-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,iy-=t.size,dy(t,(t=>t(n)&&e.add(t))),iy+=e.size,t=e)}}}function dy(e,t){e.forEach((e=>{try{t(e)}catch(n){Jg.catch(n)}}))}function hy(){}var fy={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,und:e=>void 0===e};function py(e,t){if(fy.arr(e)){if(!fy.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var my=(e,t)=>e.forEach(t);function gy(e,t,n){if(fy.arr(e))for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);else for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var yy=e=>fy.und(e)?[]:fy.arr(e)?e:[e];function vy(e,t){if(e.size){const n=Array.from(e);e.clear(),my(n,t)}}var by,wy,xy=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vy(e,(e=>e(...n)))},ky=()=>"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),_y=null,Sy=!1,Ey=hy,Cy=e=>{e.to&&(wy=e.to),e.now&&(Jg.now=e.now),void 0!==e.colors&&(_y=e.colors),null!=e.skipAnimation&&(Sy=e.skipAnimation),e.createStringInterpolator&&(by=e.createStringInterpolator),e.requestAnimationFrame&&Jg.use(e.requestAnimationFrame),e.batchedUpdates&&(Jg.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Ey=e.willAdvance),e.frameLoop&&(Jg.frameLoop=e.frameLoop)},Ay=new Set,Iy=[],My=[],jy=0,Ty={get idle(){return!Ay.size&&!Iy.length},start(e){jy>e.priority?(Ay.add(e),Jg.onStart(By)):(Py(e),Jg(Ry))},advance:Ry,sort(e){if(jy)Jg.onFrame((()=>Ty.sort(e)));else{const t=Iy.indexOf(e);~t&&(Iy.splice(t,1),Ny(e))}},clear(){Iy=[],Ay.clear()}};function By(){Ay.forEach(Py),Ay.clear(),Jg(Ry)}function Py(e){Iy.includes(e)||Ny(e)}function Ny(e){Iy.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(Iy,(t=>t.priority>e.priority)),0,e)}function Ry(e){const t=My;for(let n=0;n<Iy.length;n++){const r=Iy[n];jy=r.priority,r.idle||(Ey(r),r.advance(e),r.idle||t.push(r))}return jy=0,(My=Iy).length=0,(Iy=t).length>0}var Ly="[-+]?\\d*\\.?\\d+",Oy=Ly+"%";function Dy(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var Uy=new RegExp("rgb"+Dy(Ly,Ly,Ly)),zy=new RegExp("rgba"+Dy(Ly,Ly,Ly,Ly)),Fy=new RegExp("hsl"+Dy(Ly,Oy,Oy)),Hy=new RegExp("hsla"+Dy(Ly,Oy,Oy,Ly)),Wy=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,$y=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Ky=/^#([0-9a-fA-F]{6})$/,qy=/^#([0-9a-fA-F]{8})$/;function Vy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Gy(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=Vy(i,r,e+1/3),s=Vy(i,r,e),a=Vy(i,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*s)<<16|Math.round(255*a)<<8}function Jy(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function Yy(e){return(parseFloat(e)%360+360)%360/360}function Zy(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Xy(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function Qy(e){let t=function(e){let t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Ky.exec(e))?parseInt(t[1]+"ff",16)>>>0:_y&&void 0!==_y[e]?_y[e]:(t=Uy.exec(e))?(Jy(t[1])<<24|Jy(t[2])<<16|Jy(t[3])<<8|255)>>>0:(t=zy.exec(e))?(Jy(t[1])<<24|Jy(t[2])<<16|Jy(t[3])<<8|Zy(t[4]))>>>0:(t=Wy.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=qy.exec(e))?parseInt(t[1],16)>>>0:(t=$y.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Fy.exec(e))?(255|Gy(Yy(t[1]),Xy(t[2]),Xy(t[3])))>>>0:(t=Hy.exec(e))?(Gy(Yy(t[1]),Xy(t[2]),Xy(t[3]))|Zy(t[4]))>>>0:null}(e);if(null===t)return e;t=t||0;return`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`}var ev=(e,t,n)=>{if(fy.fun(e))return e;if(fy.arr(e))return ev({range:e,output:t,extrapolate:n});if(fy.str(e.output[0]))return by(e);const r=e,i=r.output,o=r.range||[0,1],s=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,o,s,a,l){let u=l?l(e):e;if(u<t){if("identity"===s)return u;"clamp"===s&&(u=t)}if(u>n){if("identity"===a)return u;"clamp"===a&&(u=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t);u=o(u),r===-1/0?u=-u:i===1/0?u+=r:u=u*(i-r)+r;return u}(e,o[t],o[t+1],i[t],i[t+1],l,s,a,r.map)}};var tv=1.70158,nv=1.525*tv,rv=tv+1,iv=2*Math.PI/3,ov=2*Math.PI/4.5,sv=e=>{const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},av={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>rv*e*e*e-tv*e*e,easeOutBack:e=>1+rv*Math.pow(e-1,3)+tv*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-nv)/2:(Math.pow(2*e-2,2)*((nv+1)*(2*e-2)+nv)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*iv),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*iv)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*ov)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*ov)/2+1,easeInBounce:e=>1-sv(1-e),easeOutBounce:sv,easeInOutBounce:e=>e<.5?(1-sv(1-2*e))/2:(1+sv(2*e-1))/2,steps:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return n=>{const r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e;return((e,t,n)=>Math.min(Math.max(n,e),t))(0,1,("end"===t?Math.floor(r):Math.ceil(r))/e)}}},lv=Symbol.for("FluidValue.get"),uv=Symbol.for("FluidValue.observers"),cv=e=>Boolean(e&&e[lv]),dv=e=>e&&e[lv]?e[lv]():e,hv=e=>e[uv]||null;function fv(e,t){const n=e[uv];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var pv=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");mv(this,e)}},mv=(e,t)=>bv(e,lv,t);function gv(e,t){if(e[lv]){let n=e[uv];n||bv(e,uv,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function yv(e,t){const n=e[uv];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[uv]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var vv,bv=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),wv=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,xv=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,kv=new RegExp(`(${wv.source})(%|[a-z]+)`,"i"),_v=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Sv=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Ev=e=>{const[t,n]=Cv(e);if(!t||ky())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(n);return t||e}return n&&Sv.test(n)?Ev(n):n||e},Cv=e=>{const t=Sv.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},Av=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,Iv=e=>{vv||(vv=_y?new RegExp(`(${Object.keys(_y).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map((e=>dv(e).replace(Sv,Ev).replace(xv,Qy).replace(vv,Qy))),n=t.map((e=>e.match(wv).map(Number))),r=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))).map((t=>ev({...e,output:t})));return e=>{const n=!kv.test(t[0])&&t.find((e=>kv.test(e)))?.replace(wv,"");let i=0;return t[0].replace(wv,(()=>`${r[i++](e)}${n||""}`)).replace(_v,Av)}},Mv="react-spring: ",jv=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(`${Mv}once requires a function parameter`);return function(){n||(t(...arguments),n=!0)}},Tv=jv(console.warn);var Bv=jv(console.warn);function Pv(e){return fy.str(e)&&("#"==e[0]||/\d/.test(e)||!ky()&&Sv.test(e)||e in(_y||{}))}var Nv=ky()?i.useEffect:i.useLayoutEffect,Rv=()=>{const e=(0,i.useRef)(!1);return Nv((()=>(e.current=!0,()=>{e.current=!1})),[]),e};function Lv(){const e=(0,i.useState)()[1],t=Rv();return()=>{t.current&&e(Math.random())}}var Ov=e=>(0,i.useEffect)(e,Dv),Dv=[];function Uv(e){const t=(0,i.useRef)();return(0,i.useEffect)((()=>{t.current=e})),t.current}var zv=Symbol.for("Animated:node"),Fv=e=>e&&e[zv],Hv=(e,t)=>((e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}))(e,zv,t),Wv=e=>e&&e[zv]&&e[zv].getPayload(),$v=class{constructor(){Hv(this,this)}getPayload(){return this.payload||[]}},Kv=class extends $v{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,fy.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Kv(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return fy.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,fy.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},qv=class extends Kv{constructor(e){super(0),this._string=null,this._toString=ev({output:[e,e]})}static create(e){return new qv(e)}getValue(){const e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(fy.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=ev({output:[this.getValue(),e]})),this._value=0,super.reset()}},Vv={dependencies:null},Gv=class extends $v{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return gy(this.source,((n,r)=>{var i;(i=n)&&i[zv]===i?t[r]=n.getValue(e):cv(n)?t[r]=dv(n):e||(t[r]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&my(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return gy(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Vv.dependencies&&cv(e)&&Vv.dependencies.add(e);const t=Wv(e);t&&my(t,(e=>this.add(e)))}},Jv=class extends Gv{constructor(e){super(e)}static create(e){return new Jv(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(Yv)),!0)}};function Yv(e){return(Pv(e)?qv:Kv).create(e)}function Zv(e){const t=Fv(e);return t?t.constructor:fy.arr(e)?Jv:Pv(e)?qv:Kv}var Xv=(e,t)=>{const n=!fy.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,i.forwardRef)(((r,o)=>{const s=(0,i.useRef)(null),a=n&&(0,i.useCallback)((e=>{s.current=function(e,t){e&&(fy.fun(e)?e(t):e.current=t);return t}(o,e)}),[o]),[l,u]=function(e,t){const n=new Set;Vv.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)});return e=new Gv(e),Vv.dependencies=null,[e,n]}(r,t),c=Lv(),d=()=>{const e=s.current;if(n&&!e)return;!1===(!!e&&t.applyAnimatedValues(e,l.getValue(!0)))&&c()},h=new Qv(d,u),f=(0,i.useRef)();Nv((()=>(f.current=h,my(u,(e=>gv(e,h))),()=>{f.current&&(my(f.current.deps,(e=>yv(e,f.current))),Jg.cancel(f.current.update))}))),(0,i.useEffect)(d,[]),Ov((()=>()=>{const e=f.current;my(e.deps,(t=>yv(t,e)))}));const p=t.getComponentProps(l.getValue());return i.createElement(e,{...p,ref:a})}))},Qv=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&Jg.write(this.update)}};var eb=Symbol.for("AnimatedComponent"),tb=e=>fy.str(e)?e:e&&fy.str(e.displayName)?e.displayName:fy.fun(e)&&e.name||null;function nb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fy.fun(e)?e(...n):e}var rb=(e,t)=>!0===e||!!(t&&e&&(fy.fun(e)?e(t):yy(e).includes(t))),ib=(e,t)=>fy.obj(e)?t&&e[t]:e,ob=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,sb=e=>e,ab=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sb,n=lb;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const n=t(e[i],i);fy.und(n)||(r[i]=n)}return r},lb=["config","onProps","onStart","onChange","onPause","onResume","onRest"],ub={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function cb(e){const t=function(e){const t={};let n=0;if(gy(e,((e,r)=>{ub[r]||(t[r]=e,n++)})),n)return t}(e);if(t){const n={to:t};return gy(e,((e,r)=>r in t||(n[r]=e))),n}return{...e}}function db(e){return e=dv(e),fy.arr(e)?e.map(db):Pv(e)?Vg.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function hb(e){for(const t in e)return!0;return!1}function fb(e){return fy.fun(e)||fy.arr(e)&&fy.obj(e[0])}function pb(e,t){e.ref?.delete(e),t?.delete(e)}function mb(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}var gb={tension:210,friction:20},yb={...{tension:170,friction:26},mass:1,damping:1,easing:av.linear,clamp:!1},vb=class{constructor(){this.velocity=0,Object.assign(this,yb)}};function bb(e,t){if(fy.und(t.decay)){const n=!fy.und(t.tension)||!fy.und(t.friction);!n&&fy.und(t.frequency)&&fy.und(t.damping)&&fy.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var wb=[],xb=class{constructor(){this.changed=!1,this.values=wb,this.toValues=null,this.fromValues=wb,this.config=new vb,this.immediate=!1}};function kb(e,t){let{key:n,props:r,defaultProps:i,state:o,actions:s}=t;return new Promise(((t,a)=>{let l,u,c=rb(r.cancel??i?.cancel,n);if(c)f();else{fy.und(r.pause)||(o.paused=rb(r.pause,n));let e=i?.pause;!0!==e&&(e=o.paused||rb(e,n)),l=nb(r.delay||0,n),e?(o.resumeQueue.add(h),s.pause()):(s.resume(),h())}function d(){o.resumeQueue.add(h),o.timeouts.delete(u),u.cancel(),l=u.time-Jg.now()}function h(){l>0&&!Vg.skipAnimation?(o.delayed=!0,u=Jg.setTimeout(f,l),o.pauseQueue.add(d),o.timeouts.add(u)):f()}function f(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(d),o.timeouts.delete(u),e<=(o.cancelId||0)&&(c=!0);try{s.start({...r,callId:e,cancel:c},t)}catch(n){a(n)}}}))}var _b=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?Cb(e.get()):t.every((e=>e.noop))?Sb(e.get()):Eb(e.get(),t.every((e=>e.finished))),Sb=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Eb=function(e,t){return{value:e,finished:t,cancelled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]}},Cb=e=>({value:e,cancelled:!0,finished:!1});function Ab(e,t,n,r){const{callId:i,parentId:o,onRest:s}=t,{asyncTo:a,promise:l}=n;return o||e!==a||t.reset?n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const u=ab(t,((e,t)=>"onRest"===t?void 0:e));let c,d;const h=new Promise(((e,t)=>(c=e,d=t))),f=e=>{const t=i<=(n.cancelId||0)&&Cb(r)||i!==n.asyncId&&Eb(r,!1);if(t)throw e.result=t,d(e),e},p=(e,t)=>{const o=new Mb,s=new jb;return(async()=>{if(Vg.skipAnimation)throw Ib(n),s.result=Eb(r,!1),d(s),s;f(o);const a=fy.obj(e)?{...e}:{...t,to:e};a.parentId=i,gy(u,((e,t)=>{fy.und(a[t])&&(a[t]=e)}));const l=await r.start(a);return f(o),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),l})()};let m;if(Vg.skipAnimation)return Ib(n),Eb(r,!1);try{let t;t=fy.arr(e)?(async e=>{for(const t of e)await p(t)})(e):Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([t.then(c),h]),m=Eb(r.get(),!0,!1)}catch(g){if(g instanceof Mb)m=g.result;else{if(!(g instanceof jb))throw g;m=g.result}}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?a:void 0,n.promise=o?l:void 0)}return fy.fun(s)&&Jg.batchedUpdates((()=>{s(m,r,r.item)})),m})():l}function Ib(e,t){vy(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Mb=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},jb=class extends Error{constructor(){super("SkipAnimationSignal")}},Tb=e=>e instanceof Pb,Bb=1,Pb=class extends pv{constructor(){super(...arguments),this.id=Bb++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Fv(this);return e&&e.getValue()}to(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Vg.to(this,t)}interpolate(){Tv(`${Mv}The "interpolate" function is deprecated in v9 (use "to" instead)`);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Vg.to(this,t)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e){fv(this,{type:"change",parent:this,value:e,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}_onPriorityChange(e){this.idle||Ty.sort(this),fv(this,{type:"priority",parent:this,priority:e})}},Nb=Symbol.for("SpringPhase"),Rb=e=>(1&e[Nb])>0,Lb=e=>(2&e[Nb])>0,Ob=e=>(4&e[Nb])>0,Db=(e,t)=>t?e[Nb]|=3:e[Nb]&=-3,Ub=(e,t)=>t?e[Nb]|=4:e[Nb]&=-5,zb=class extends Pb{constructor(e,t){if(super(),this.animation=new xb,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!fy.und(e)||!fy.und(t)){const n=fy.obj(e)?{...e}:{...t,from:e};fy.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Lb(this)||this._state.asyncTo)||Ob(this)}get goal(){return dv(this.animation.to)}get velocity(){const e=Fv(this);return e instanceof Kv?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return Rb(this)}get isAnimating(){return Lb(this)}get isPaused(){return Ob(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:o}=r,s=Wv(r.to);!s&&cv(r.to)&&(i=yy(dv(r.to))),r.values.forEach(((a,l)=>{if(a.done)return;const u=a.constructor==qv?1:s?s[l].lastPosition:i[l];let c=r.immediate,d=u;if(!c){if(d=a.lastPosition,o.tension<=0)return void(a.done=!0);let t=a.elapsedTime+=e;const n=r.fromValues[l],i=null!=a.v0?a.v0:a.v0=fy.arr(o.velocity)?o.velocity[l]:o.velocity;let s;const h=o.precision||(n==u?.005:Math.min(1,.001*Math.abs(u-n)));if(fy.und(o.duration))if(o.decay){const e=!0===o.decay?.998:o.decay,r=Math.exp(-(1-e)*t);d=n+i/(1-e)*(1-r),c=Math.abs(a.lastPosition-d)<=h,s=i*r}else{s=null==a.lastVelocity?i:a.lastVelocity;const t=o.restVelocity||h/10,r=o.clamp?0:o.bounce,l=!fy.und(r),f=n==u?a.v0>0:n<u;let p,m=!1;const g=1,y=Math.ceil(e/g);for(let e=0;e<y&&(p=Math.abs(s)>t,p||(c=Math.abs(u-d)<=h,!c));++e){l&&(m=d==u||d>u==f,m&&(s=-s*r,d=u));s+=(1e-6*-o.tension*(d-u)+.001*-o.friction*s)/o.mass*g,d+=s*g}}else{let r=1;o.duration>0&&(this._memoizedDuration!==o.duration&&(this._memoizedDuration=o.duration,a.durationProgress>0&&(a.elapsedTime=o.duration*a.durationProgress,t=a.elapsedTime+=e)),r=(o.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,a.durationProgress=r),d=n+o.easing(r)*(u-n),s=(d-a.lastPosition)/e,c=1==r}a.lastVelocity=s,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),c=!0)}s&&!s[l].done&&(c=!1),c?a.done=!0:t=!1,a.setValue(d,o.round)&&(n=!0)}));const a=Fv(this),l=a.getValue();if(t){const e=dv(r.to);l===e&&!n||o.decay?n&&o.decay&&this._onChange(l):(a.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(l)}set(e){return Jg.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Lb(this)){const{to:e,config:t}=this.animation;Jg.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return fy.und(e)?(n=this.queue||[],this.queue=[]):n=[fy.obj(e)?e:{...t,to:e}],Promise.all(n.map((e=>this._update(e)))).then((e=>_b(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Ib(this._state,e&&this._lastCallId),Jg.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=fy.obj(n)?n[t]:n,(null==n||fb(n))&&(n=void 0),r=fy.obj(r)?r[t]:r,null==r&&(r=void 0);const i={to:n,from:r};return Rb(this)||(e.reverse&&([n,r]=[r,n]),r=dv(r),fy.und(r)?Fv(this)||this._set(n):this._set(r)),i}_update(e,t){let{...n}=e;const{key:r,defaultProps:i}=this;n.default&&Object.assign(i,ab(n,((e,t)=>/^on/.test(t)?ib(e,r):e))),Vb(this,n,"onProps"),Gb(this,"onProps",n,this);const o=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return kb(++this._lastCallId,{key:r,props:n,defaultProps:i,state:s,actions:{pause:()=>{Ob(this)||(Ub(this,!0),xy(s.pauseQueue),Gb(this,"onPause",Eb(this,Fb(this,this.animation.to)),this))},resume:()=>{Ob(this)&&(Ub(this,!1),Lb(this)&&this._resume(),xy(s.resumeQueue),Gb(this,"onResume",Eb(this,Fb(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then((e=>{if(n.loop&&e.finished&&(!t||!e.noop)){const e=Hb(n);if(e)return this._update(e,!0)}return e}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(Cb(this));const r=!fy.und(e.to),i=!fy.und(e.from);if(r||i){if(!(t.callId>this._lastToId))return n(Cb(this));this._lastToId=t.callId}const{key:o,defaultProps:s,animation:a}=this,{to:l,from:u}=a;let{to:c=l,from:d=u}=e;!i||r||t.default&&!fy.und(c)||(c=d),t.reverse&&([c,d]=[d,c]);const h=!py(d,u);h&&(a.from=d),d=dv(d);const f=!py(c,l);f&&this._focus(c);const p=fb(t.to),{config:m}=a,{decay:g,velocity:y}=m;(r||i)&&(m.velocity=0),t.config&&!p&&function(e,t,n){n&&(bb(n={...n},t),t={...n,...t}),bb(e,t),Object.assign(e,t);for(const s in yb)null==e[s]&&(e[s]=yb[s]);let{frequency:r,damping:i}=e;const{mass:o}=e;fy.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*o,e.friction=4*Math.PI*i*o/r)}(m,nb(t.config,o),t.config!==s.config?nb(s.config,o):void 0);let v=Fv(this);if(!v||fy.und(c))return n(Eb(this,!0));const b=fy.und(t.reset)?i&&!t.default:!fy.und(d)&&rb(t.reset,o),w=b?d:this.get(),x=db(c),k=fy.num(x)||fy.arr(x)||Pv(x),_=!p&&(!k||rb(s.immediate||t.immediate,o));if(f){const e=Zv(c);if(e!==v.constructor){if(!_)throw Error(`Cannot animate between ${v.constructor.name} and ${e.name}, as the "to" prop suggests`);v=this._set(x)}}const S=v.constructor;let E=cv(c),C=!1;if(!E){const e=b||!Rb(this)&&h;(f||e)&&(C=py(db(w),x),E=!C),(py(a.immediate,_)||_)&&py(m.decay,g)&&py(m.velocity,y)||(E=!0)}if(C&&Lb(this)&&(a.changed&&!b?E=!0:E||this._stop(l)),!p&&((E||cv(l))&&(a.values=v.getPayload(),a.toValues=cv(c)?null:S==qv?[1]:yy(x)),a.immediate!=_&&(a.immediate=_,_||b||this._set(l)),E)){const{onRest:e}=a;my(qb,(e=>Vb(this,t,e)));const r=Eb(this,Fb(this,l));xy(this._pendingCalls,r),this._pendingCalls.add(n),a.changed&&Jg.batchedUpdates((()=>{a.changed=!b,e?.(r,this),b?nb(s.onRest,r):a.onStart?.(r,this)}))}b&&this._set(w),p?n(Ab(t.to,t,this._state,this)):E?this._start():Lb(this)&&!f?this._pendingCalls.add(n):n(Sb(w))}_focus(e){const t=this.animation;e!==t.to&&(hv(this)&&this._detach(),t.to=e,hv(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;cv(t)&&(gv(t,this),Tb(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;cv(e)&&yv(e,this)}_set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=dv(e);if(!fy.und(n)){const e=Fv(this);if(!e||!py(n,e.getValue())){const r=Zv(n);e&&e.constructor==r?e.setValue(n):Hv(this,r.create(n)),e&&Jg.batchedUpdates((()=>{this._onChange(n,t)}))}}return Fv(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Gb(this,"onStart",Eb(this,Fb(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),nb(this.animation.onChange,e,this)),nb(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Fv(this).reset(dv(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),Lb(this)||(Db(this,!0),Ob(this)||this._resume())}_resume(){Vg.skipAnimation?this.finish():Ty.start(this)}_stop(e,t){if(Lb(this)){Db(this,!1);const n=this.animation;my(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),fv(this,{type:"idle",parent:this});const r=t?Cb(this.get()):Eb(this.get(),Fb(this,e??n.to));xy(this._pendingCalls,r),n.changed&&(n.changed=!1,Gb(this,"onRest",r,this))}}};function Fb(e,t){const n=db(t);return py(db(e.get()),n)}function Hb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to;const r=nb(t);if(r){const i=!0!==r&&cb(r),o=(i||e).reverse,s=!i||i.reset;return Wb({...e,loop:t,default:!1,pause:void 0,to:!o||fb(n)?n:void 0,from:s?e.from:void 0,reset:s,...i})}}function Wb(e){const{to:t,from:n}=e=cb(e),r=new Set;return fy.obj(t)&&Kb(t,r),fy.obj(n)&&Kb(n,r),e.keys=r.size?Array.from(r):null,e}function $b(e){const t=Wb(e);return fy.und(t.default)&&(t.default=ab(t)),t}function Kb(e,t){gy(e,((e,n)=>null!=e&&t.add(n)))}var qb=["onStart","onRest","onChange","onPause","onResume"];function Vb(e,t,n){e.animation[n]=t[n]!==ob(t,n)?ib(t[n],e.key):void 0}function Gb(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];e.animation[t]?.(...r),e.defaultProps[t]?.(...r)}var Jb=["onStart","onChange","onRest"],Yb=1,Zb=class{constructor(e,t){this.id=Yb++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];fy.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(Wb(e)),this}start(e){let{queue:t}=this;return e?t=yy(e).map(Wb):this.queue=[],this._flush?this._flush(this,t):(iw(this,t),Xb(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;my(yy(t),(t=>n[t].stop(!!e)))}else Ib(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(fy.und(e))this.start({pause:!0});else{const t=this.springs;my(yy(e),(e=>t[e].pause()))}return this}resume(e){if(fy.und(e))this.start({pause:!1});else{const t=this.springs;my(yy(e),(e=>t[e].resume()))}return this}each(e){gy(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,vy(e,(e=>{let[t,n]=e;n.value=this.get(),t(n,this,this._item)})));const o=!r&&this._started,s=i||o&&n.size?this.get():null;i&&t.size&&vy(t,(e=>{let[t,n]=e;n.value=s,t(n,this,this._item)})),o&&(this._started=!1,vy(n,(e=>{let[t,n]=e;n.value=s,t(n,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}Jg.onFrame(this._onFrame)}};function Xb(e,t){return Promise.all(t.map((t=>Qb(e,t)))).then((t=>_b(e,t)))}async function Qb(e,t,n){const{keys:r,to:i,from:o,loop:s,onRest:a,onResolve:l}=t,u=fy.obj(t.default)&&t.default;s&&(t.loop=!1),!1===i&&(t.to=null),!1===o&&(t.from=null);const c=fy.arr(i)||fy.fun(i)?i:void 0;c?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):my(Jb,(n=>{const r=t[n];if(fy.fun(r)){const i=e._events[n];t[n]=e=>{let{finished:t,cancelled:n}=e;const o=i.get(r);o?(t||(o.finished=!1),n&&(o.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},u&&(u[n]=t[n])}}));const d=e._state;t.pause===!d.paused?(d.paused=t.pause,xy(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);const h=(r||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),f=!0===t.cancel||!0===ob(t,"cancel");(c||f&&d.asyncId)&&h.push(kb(++e._lastAsyncId,{props:t,state:d,actions:{pause:hy,resume:hy,start(t,n){f?(Ib(d,e._lastAsyncId),n(Cb(e))):(t.onRest=a,n(Ab(c,t,d,e)))}}})),d.paused&&await new Promise((e=>{d.resumeQueue.add(e)}));const p=_b(e,await Promise.all(h));if(s&&p.finished&&(!n||!p.noop)){const n=Hb(t,s,i);if(n)return iw(e,[n]),Qb(e,n,!0)}return l&&Jg.batchedUpdates((()=>l(p,e,e.item))),p}function ew(e,t){const n={...e.springs};return t&&my(yy(t),(e=>{fy.und(e.keys)&&(e=Wb(e)),fy.obj(e.to)||(e={...e,to:void 0}),rw(n,e,(e=>nw(e)))})),tw(e,n),n}function tw(e,t){gy(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,gv(t,e))}))}function nw(e,t){const n=new zb;return n.key=e,t&&gv(n,t),n}function rw(e,t,n){t.keys&&my(t.keys,(r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function iw(e,t){my(t,(t=>{rw(e.springs,t,(t=>nw(t,e)))}))}var ow,sw,aw=e=>{let{children:t,...n}=e;const r=(0,i.useContext)(lw),o=n.pause||!!r.pause,s=n.immediate||!!r.immediate;n=function(e,t){const[n]=(0,i.useState)((()=>({inputs:t,result:e()}))),r=(0,i.useRef)(),o=r.current;let s=o;s?Boolean(t&&s.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,s.inputs))||(s={inputs:t,result:e()}):s=n;return(0,i.useEffect)((()=>{r.current=s,o==n&&(n.inputs=n.result=void 0)}),[s]),s.result}((()=>({pause:o,immediate:s})),[o,s]);const{Provider:a}=lw;return i.createElement(a,{value:n},t)},lw=(ow=aw,sw={},Object.assign(ow,i.createContext(sw)),ow.Provider._context=ow,ow.Consumer._context=ow,ow);aw.Provider=lw.Provider,aw.Consumer=lw.Consumer;var uw=()=>{const e=[],t=function(t){Bv(`${Mv}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);const r=[];return my(e,((e,i)=>{if(fy.und(t))r.push(e.start());else{const o=n(t,e,i);o&&r.push(e.start(o))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return my(e,(e=>e.pause(...arguments))),this},t.resume=function(){return my(e,(e=>e.resume(...arguments))),this},t.set=function(t){my(e,((e,n)=>{const r=fy.fun(t)?t(n,e):t;r&&e.set(r)}))},t.start=function(t){const n=[];return my(e,((e,r)=>{if(fy.und(t))n.push(e.start());else{const i=this._getProps(t,e,r);i&&n.push(e.start(i))}})),n},t.stop=function(){return my(e,(e=>e.stop(...arguments))),this},t.update=function(t){return my(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return fy.fun(e)?e(n,t):e};return t._getProps=n,t};function cw(e,t,n){const r=fy.fun(t)&&t;r&&!n&&(n=[]);const o=(0,i.useMemo)((()=>r||3==arguments.length?uw():void 0),[]),s=(0,i.useRef)(0),a=Lv(),l=(0,i.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const n=ew(e,t),r=s.current>0&&!l.queue.length&&!Object.keys(n).some((t=>!e.springs[t]));return r?Xb(e,t):new Promise((r=>{tw(e,n),l.queue.push((()=>{r(Xb(e,t))})),a()}))}})),[]),u=(0,i.useRef)([...l.ctrls]),c=[],d=Uv(e)||0;function h(e,n){for(let i=e;i<n;i++){const e=u.current[i]||(u.current[i]=new Zb(null,l.flush)),n=r?r(i,e):t[i];n&&(c[i]=$b(n))}}(0,i.useMemo)((()=>{my(u.current.slice(e,d),(e=>{pb(e,o),e.stop(!0)})),u.current.length=e,h(d,e)}),[e]),(0,i.useMemo)((()=>{h(0,Math.min(d,e))}),n);const f=u.current.map(((e,t)=>ew(e,c[t]))),p=(0,i.useContext)(aw),m=Uv(p),g=p!==m&&hb(p);Nv((()=>{s.current++,l.ctrls=u.current;const{queue:e}=l;e.length&&(l.queue=[],my(e,(e=>e()))),my(u.current,((e,t)=>{o?.add(e),g&&e.start({default:p});const n=c[t];n&&(mb(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),Ov((()=>()=>{my(l.ctrls,(e=>e.stop(!0)))}));const y=f.map((e=>({...e})));return o?[y,o]:y}function dw(e,t){const n=fy.fun(e),[[r],i]=cw(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,i]:r}var hw=class extends Pb{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=ev(...t);const n=this._get(),r=Zv(n);Hv(this,r.create(n))}advance(e){const t=this._get();py(t,this.get())||(Fv(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&pw(this._active)&&mw(this)}_get(){const e=fy.arr(this.source)?this.source.map(dv):yy(dv(this.source));return this.calc(...e)}_start(){this.idle&&!pw(this._active)&&(this.idle=!1,my(Wv(this),(e=>{e.done=!1})),Vg.skipAnimation?(Jg.batchedUpdates((()=>this.advance())),mw(this)):Ty.start(this))}_attach(){let e=1;my(yy(this.source),(t=>{cv(t)&&gv(t,this),Tb(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){my(yy(this.source),(e=>{cv(e)&&yv(e,this)})),this._active.clear(),mw(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=yy(this.source).reduce(((e,t)=>Math.max(e,(Tb(t)?t.priority:0)+1)),0))}};function fw(e){return!1!==e.idle}function pw(e){return!e.size||Array.from(e).every(fw)}function mw(e){e.idle||(e.idle=!0,my(Wv(e),(e=>{e.done=!0})),fv(e,{type:"idle",parent:e}))}Vg.assign({createStringInterpolator:Iv,to:(e,t)=>new hw(e,t)});Ty.advance;var gw=/^--/;function yw(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||gw.test(e)||bw.hasOwnProperty(e)&&bw[e]?(""+t).trim():t+"px"}var vw={};var bw={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ww=["Webkit","Ms","Moz","O"];bw=Object.keys(bw).reduce(((e,t)=>(ww.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),bw);var xw=/^(matrix|translate|scale|rotate|skew)/,kw=/^(translate)/,_w=/^(rotate|skew)/,Sw=(e,t)=>fy.num(e)&&0!==e?e+t:e,Ew=(e,t)=>fy.arr(e)?e.every((e=>Ew(e,t))):fy.num(e)?e===t:parseFloat(e)===t,Cw=class extends Gv{constructor(e){let{x:t,y:n,z:r,...i}=e;const o=[],s=[];(t||n||r)&&(o.push([t||0,n||0,r||0]),s.push((e=>[`translate3d(${e.map((e=>Sw(e,"px"))).join(",")})`,Ew(e,0)]))),gy(i,((e,t)=>{if("transform"===t)o.push([e||""]),s.push((e=>[e,""===e]));else if(xw.test(t)){if(delete i[t],fy.und(e))return;const n=kw.test(t)?"px":_w.test(t)?"deg":"";o.push(yy(e)),s.push("rotate3d"===t?e=>{let[t,r,i,o]=e;return[`rotate3d(${t},${r},${i},${Sw(o,n)})`,Ew(o,0)]}:e=>[`${t}(${e.map((e=>Sw(e,n))).join(",")})`,Ew(e,t.startsWith("scale")?1:0)])}})),o.length&&(i.transform=new Aw(o,s)),super(i)}},Aw=class extends pv{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return my(this.inputs,((n,r)=>{const i=dv(n[0]),[o,s]=this.transforms[r](fy.arr(i)?i:n.map(dv));e+=" "+o,t=t&&s})),t?"none":e}observerAdded(e){1==e&&my(this.inputs,(e=>my(e,(e=>cv(e)&&gv(e,this)))))}observerRemoved(e){0==e&&my(this.inputs,(e=>my(e,(e=>cv(e)&&yv(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),fv(this,e)}};Vg.assign({batchedUpdates:s.unstable_batchedUpdates,createStringInterpolator:Iv,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var Iw=function(e){let{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:n=(e=>new Gv(e)),getComponentProps:r=(e=>e)}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},o=e=>{const t=tb(e)||"Anonymous";return(e=fy.str(e)?o[e]||(o[e]=Xv(e,i)):e[eb]||(e[eb]=Xv(e,i))).displayName=`Animated(${t})`,e};return gy(e,((t,n)=>{fy.arr(e)&&(n=tb(t)),o[n]=o(t)})),{animated:o}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:r,children:i,scrollTop:o,scrollLeft:s,viewBox:a,...l}=t,u=Object.values(l),c=Object.keys(l).map((t=>n||e.hasAttribute(t)?t:vw[t]||(vw[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==i&&(e.textContent=i);for(const d in r)if(r.hasOwnProperty(d)){const t=yw(d,r[d]);gw.test(d)?e.style.setProperty(d,t):e.style[d]=t}c.forEach(((t,n)=>{e.setAttribute(t,u[n])})),void 0!==o&&(e.scrollTop=o),void 0!==s&&(e.scrollLeft=s),void 0!==a&&e.setAttribute("viewBox",a)},createAnimatedStyle:e=>new Cw(e),getComponentProps:e=>{let{scrollTop:t,scrollLeft:n,...r}=e;return r}}),Mw=Iw.animated;const jw=(e,t,n)=>{const[r,o]=(0,i.useState)((()=>Tw(e,t,null===n||void 0===n?void 0:n.dec)));return(0,i.useEffect)((()=>{Bw(e,r,null===n||void 0===n?void 0:n.enc)}),[e,r,null===n||void 0===n?void 0:n.enc]),[r,o]},Tw=(e,t,n)=>{const r=localStorage.getItem(e);if(null==r)return t;try{return null!=n?n(JSON.parse(r)):JSON.parse(r)}catch(i){return t}},Bw=(e,t,n)=>{try{n?localStorage.setItem(e,JSON.stringify(n(t))):localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log("Error in Store.putJSON:",r)}},Pw=(e,t)=>{let{onTap:n=(()=>{}),stopPropagation:r=!1}=t;const[o,s]=(0,i.useState)(!1),a=(0,i.useCallback)((e=>{r&&e.stopPropagation(),s(!0)}),[r]),l=(0,i.useCallback)((e=>{r&&e.stopPropagation(),o&&(s(!1),n(e))}),[o,n,r]),u=(0,i.useCallback)((e=>{r&&e.stopPropagation(),s(!1)}),[r]),c=(0,i.useCallback)((e=>{r&&e.stopPropagation(),s(!1)}),[r]),d=(0,i.useCallback)((e=>{e.preventDefault(),r&&e.stopPropagation(),e.stopImmediatePropagation()}),[r]);return(0,i.useEffect)((()=>{if(null==e.current)return;const t=e.current;return t.addEventListener("touchstart",a,{passive:!1}),t.addEventListener("touchend",l,{passive:!1}),t.addEventListener("touchmove",u,{passive:!1}),t.addEventListener("touchcancel",c,{passive:!1}),t.addEventListener("click",d,{passive:!1}),()=>{t.removeEventListener("touchstart",a),t.removeEventListener("touchend",l),t.removeEventListener("touchmove",u),t.removeEventListener("touchcancel",c),t.removeEventListener("click",d)}}),[e,a,l,u,c,d]),{isTouching:o}},Nw=e=>(0,i.useMemo)((()=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),[e]),Rw=(0,i.createContext)({debugLog:Function,isMobile:!1,windowHeight:0,windowWidth:0,chordKeyDown:!1,navigatorElement:null,setNavigatorElement:()=>{},observedItems:{},setObservedItems:()=>{},inputRefs:{},setInputRefs:()=>{},currentTab:"rooms",setCurrentTab:()=>{},showRooms:!0,setShowRooms:()=>{},showEmbedPopup:null,setShowEmbedPopup:()=>{},showProfilePopup:null,setShowProfilePopup:()=>{},raidData:null,setRaidData:()=>{},partyByCid:{},setPartyByCid:()=>{},calmByCid:{},setCalmByCid:()=>{},socket:null,serverUrl:null,serverId:null,sessionSecret:null,pastSecrets:{},serverEmojis:{},connections:{},conns:{},userData:null,users:{},modes:new Map,perm:null,showChannelSettings:null,showSettings:!1,showAddChannelModal:!1,showCreateChannelModal:!1,showJumperModal:!1,showHelp:!1,showDonations:!1,channelSettings:{},setSocket:()=>{},setServerUrl:()=>{},setServerId:()=>{},setPastSecrets:()=>{},setServerEmojis:()=>{},setConnections:()=>{},setConns:()=>{},setUserData:()=>{},setUsers:()=>{},setModes:()=>{},setPerm:()=>{},setShowChannelSettings:()=>{},setShowSettings:()=>{},setShowAddChannelModal:()=>{},setShowCreateChannelModal:()=>{},setShowJumperModal:()=>{},setShowHelp:()=>{},setShowDonations:()=>{},setChannelSettings:()=>{}}),Lw=e=>{let{children:t}=e;const{settings:{debugActive:n}}=(0,i.useContext)(nx),r=(0,i.useCallback)((function(){if(n){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.log("*",...t)}}),[n]),o=(()=>{const[e,t]=(0,i.useState)(window.innerHeight);return(0,i.useEffect)((()=>{const e=()=>t(window.innerHeight);return window.addEventListener("resize",e),()=>window.addEventListener("resize",e)}),[]),e})(),s=(()=>{const[e,t]=(0,i.useState)(window.innerWidth);return(0,i.useEffect)((()=>{const e=()=>t(window.innerWidth);return window.addEventListener("resize",e),()=>window.addEventListener("resize",e)}),[]),e})(),[a,l]=(0,i.useState)(s<=1010);(0,i.useEffect)((()=>l(s<=1010)),[s]);const[u,c]=(0,i.useState)(null),[d,h]=(0,i.useState)({}),[f,p]=(0,i.useState)({}),[m,g]=(0,i.useState)(null),[y,v]=(0,i.useState)("wss://srv.meowspace.lol/ws"),[b,w]=(0,i.useState)(null),[x,k]=jw("pastSecrets",{}),[_,S]=(0,i.useState)({}),[E,C]=(0,i.useState)({}),[A,I]=(0,i.useState)({}),[M,j]=(0,i.useState)(null),[T,B]=(0,i.useState)({}),[P,N]=(0,i.useState)((()=>new Map)),[R,L]=(0,i.useState)(null);(0,i.useEffect)((()=>L("Notification"in window?Notification.permission:null)),[]);const[O,D]=(0,i.useState)(null),[U,z]=(0,i.useState)(!1),[F,H]=(0,i.useState)(!1),[W,$]=(0,i.useState)(!1),[K,q]=(0,i.useState)(!1),[V,G]=(0,i.useState)(!1),[J,Y]=(0,i.useState)(!1),[Z,X]=jw("channelSettings",{}),[Q,ee]=(0,i.useState)(null),[te,ne]=(0,i.useState)({}),[re,ie]=(0,i.useState)({}),oe=((e,t)=>{const[n,r]=(0,i.useState)(!1),o=(0,i.useCallback)((n=>{n.key===e&&(t.preventDefault&&n.preventDefault(),r(!0))}),[e,t]),s=(0,i.useCallback)((n=>{n.key===e&&(t.preventDefault&&n.preventDefault(),r(!1))}),[e,t]);return(0,i.useEffect)((()=>(window.addEventListener("keydown",o),window.addEventListener("keyup",s),()=>{window.removeEventListener("keydown",o),window.removeEventListener("keyup",s)})),[o,s]),n})("Tab",{preventDefault:!0}),se=(0,i.useMemo)((()=>pt(Xe(16))),[]),[ae,le]=jw("currentTab","rooms"),[ue,ce]=jw("showRooms",!0),[de,he]=(0,i.useState)(null),[fe,pe]=(0,i.useState)(null);return(0,It.jsx)(Rw.Provider,{value:{debugLog:r,isMobile:a,windowHeight:o,windowWidth:s,chordKeyDown:oe,navigatorElement:Q,setNavigatorElement:ee,observedItems:te,setObservedItems:ne,inputRefs:re,setInputRefs:ie,currentTab:ae,setCurrentTab:le,showRooms:ue,setShowRooms:ce,showEmbedPopup:de,setShowEmbedPopup:he,showProfilePopup:fe,setShowProfilePopup:pe,raidData:u,setRaidData:c,partyByCid:d,setPartyByCid:h,calmByCid:f,setCalmByCid:p,socket:m,serverUrl:y,serverId:b,sessionSecret:se,pastSecrets:x,serverEmojis:_,connections:E,conns:A,userData:M,users:T,modes:P,perm:R,showChannelSettings:O,showSettings:U,showAddChannelModal:F,showCreateChannelModal:W,showJumperModal:K,showHelp:V,showDonations:J,setSocket:g,setServerUrl:v,setServerId:w,setPastSecrets:k,setServerEmojis:S,setConnections:C,setConns:I,setUserData:j,setUsers:B,setModes:N,setPerm:L,setShowChannelSettings:D,setShowSettings:z,setShowAddChannelModal:H,setShowCreateChannelModal:$,setShowJumperModal:q,setShowHelp:G,setShowDonations:Y,channelSettings:Z,setChannelSettings:X},children:t})},Ow=[{id:"nightcoremusic",fullName:"NIGHTCOREMUSIC",station:"LautFM",src:"http://stream.laut.fm/nightcoremusic"},{id:"flyfm",fullName:"Fly FM - Non Stop City Pop!",station:"LautFM",src:"http://stream.laut.fm/flyfm"},{id:"j-nation",fullName:"J-Nation - Japanese EDM",station:"LautFM",src:"http://stream.laut.fm/j-nation"},{id:"trance02",fullName:"Trance",station:"LautFM",src:"https://trance02.stream.laut.fm/trance02"}],Dw=(0,i.createContext)({audio:null,channel:null,nowPlaying:null,loadingAudio:!1,pin:!1,paused:!0,setId:()=>{},setPin:()=>{},setPaused:()=>{}}),Uw=e=>{let{children:t}=e;const{settings:n}=(0,i.useContext)(nx),{selectedChannel:r,setSelectedChannel:o}=n,[s,a]=(0,i.useState)(null),[l,u]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!0),p=(0,i.useMemo)((()=>{var e;return null!==(e=Ow.find((e=>e.id===r)))&&void 0!==e?e:null}),[r]),[m,g]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const e=async()=>{if(h)g(null);else if(null!=p&&"LautFM"===p.station){var e;const t=await zw(`https://api.laut.fm/station/${p.id}/current_song`),n=null===t||void 0===t?void 0:t.title,r=null===t||void 0===t||null===(e=t.artist)||void 0===e?void 0:e.name;g(null!=n&&null!=r?`${r} - ${n}`:null)}};e();const t=setInterval(e,5e3);return()=>clearInterval(t)}),[h,p]),(0,i.useEffect)((()=>{if(null!=p)if(null==s){const e=new Audio(p.src);e.addEventListener("loadeddata",(()=>{!e.paused&&e.play(),u(!1)})),a(e)}else{const e=!s.paused;u(e),s.src=p.src,e&&s.play()}}),[s,p]),(0,It.jsx)(Dw.Provider,{value:{audio:s,setId:o,channel:p,paused:h,setPaused:f,loadingAudio:l,nowPlaying:m,pin:c,setPin:d},children:t})},zw=async e=>(await fetch(e,{method:"GET"})).json(),Fw=e=>{const t=(0,i.useCallback)(((t,n)=>{e((e=>({...e,[t]:{...e[t],...n}})))}),[e]),n=(0,i.useCallback)(((t,n,r)=>{e((e=>e[t]?e[t][n]?e:{...e,[t]:{...e[t],[n]:r}}:e))}),[e]),r=(0,i.useCallback)(((t,n,r)=>{e((e=>({...e,[t]:{...e[t],[n]:r}})))}),[e]),o=(0,i.useCallback)(((t,n,r)=>{e((e=>({...e,[t]:{...e[t],[n]:r(e[t]&&e[t][n])}})))}),[e]),s=(0,i.useCallback)(((t,n,r,i)=>{e((e=>{const o={...e};if(null!=o[t]){const e=o[t][n];o[t][r]=i(e),delete o[t][n]}return o}))}),[e]),a=(0,i.useCallback)(((t,n)=>{e((e=>e[t]?{...e,[t]:vt(e[t],n)}:e))}),[e]),l=(0,i.useCallback)(((t,n)=>{e((e=>{if(!e[t])return e;const r=((e,t)=>{const n=Object.values(e),r=e=>"unsent"in e||!(!("active"in e)||!e.active),i=[],o=[];for(const l of n)r(l)?i.push(l):o.push(l);const s=o.sort(((e,t)=>t.time-e.time)).slice(0,t),a={};for(const l of s)a[l.trackingId]=e[l.trackingId];for(const l of i)a[l.trackingId]=e[l.trackingId];return a})(e[t],n);return{...e,[t]:r}}))}),[e]),u=(0,i.useCallback)((t=>{e((e=>vt(e,t)))}),[e]),c=(0,i.useCallback)((()=>{e({})}),[e]);return(0,i.useMemo)((()=>({addMany:t,add:n,set:r,update:o,replace:s,remove:a,trim:l,clearChannel:u,clearChats:c})),[t,n,r,o,s,a,l,u,c])},Hw=(0,i.createContext)({chat:{},chatFor:()=>({}),activeMessage:{},sendState:"",firstUnseenMessage:"",isLoadingMessages:{},doneLoading:{},numLoads:{},setActiveMessage:()=>{},setSendState:()=>{},setFirstUnseenMessage:()=>{},setIsLoadingMessages:()=>{},setDoneLoading:()=>{},setNumLoads:()=>{},pendingMessages:{},setPendingMessages:()=>{},chatEditor:{addMany:()=>{},set:()=>{},add:()=>{},update:()=>{},replace:()=>{},remove:()=>{},trim:()=>{},clearChannel:()=>{},clearChats:()=>{}},amsEditor:{forAm:()=>{},getAm:()=>{},updateAm:()=>{},clearAm:()=>{},clearAmsForId:()=>{},clearAmsInChannel:()=>{}},retryQueue:{push:()=>{},pop:()=>{},isEmpty:()=>!0},createServerMessage:()=>{},createInfoMessage:()=>{}}),Ww=e=>{let{children:t}=e;const[n,r]=(0,i.useState)({}),[o,s]=(0,i.useState)("ready"),[a,l]=(0,i.useState)(null),[u,c]=(0,i.useState)({}),[d,h]=(0,i.useState)({}),[f,p]=(0,i.useState)({}),[m,g]=(0,i.useState)({}),[y,v]=(0,i.useState)({}),b=Fw(g),w=(()=>{const e=(0,i.useRef)({}),t=(0,i.useCallback)(((t,n,r)=>{if(!e.current[n])return;const i=e.current[n].get(t);i&&r(i)}),[]),n=(0,i.useCallback)(((t,n)=>{if(e.current[n])return e.current[n].get(t)}),[]),r=(0,i.useCallback)(((t,n,r)=>{e.current[n]||(e.current[n]=new Map);const i=r(e.current[n].get(t));e.current[n]&&(null!=i?e.current[n].set(t,i):e.current[n].delete(t))}),[]),o=(0,i.useCallback)(((t,n,r)=>{if(!e.current[n])return;const i=e.current[n].get(t);i&&(r&&!r(i)||(e.current[n].delete(t),0===e.current[n].size&&delete e.current[n]))}),[]),s=(0,i.useCallback)((t=>{e.current[t]&&delete e.current[t]}),[]),a=(0,i.useCallback)((t=>{for(const n in e.current)o(t,n,(()=>!0))}),[e,o]);return(0,i.useMemo)((()=>({forAm:t,getAm:n,updateAm:r,clearAm:o,clearAmsForId:s,clearAmsInChannel:a})),[t,n,r,o,s,a])})(),x=(e=>{const t=(0,i.useRef)([]),n=(0,i.useCallback)(((n,r)=>{if(t.current.find((e=>e.key===n)))return;const i=window.setInterval((()=>{const e=t.current.findIndex((e=>e.key===n));0===e&&(r(),t.current.shift(),window.clearInterval(i))}),e);t.current.push({key:n,id:i})}),[e]),r=(0,i.useCallback)((e=>{var n;const r=null===(n=t.current.find((t=>t.key===e)))||void 0===n?void 0:n.id;null!=r&&(t.current=t.current.filter((t=>t.key!==e)),window.clearInterval(r))}),[]),o=(0,i.useCallback)((()=>0===t.current.length),[]);return(0,i.useMemo)((()=>({push:n,pop:r,isEmpty:o})),[n,r,o])})(1e3),{currentChannel:k}=(0,i.useContext)(Yw),_=(0,i.useMemo)((()=>null==k?{}:m[k]),[k,m]),S=(0,i.useCallback)((e=>null==e?{}:m[e]),[m]),E=(0,i.useCallback)((function(e,t){if(null==t)return;arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(t="*** Only you can see this message ***\n\n"+t);const n=Date.now().toString();b.set(e,n,{connId:"_SERVER",name:"[*\u2a4a*]",userId:"server",trackingId:n,content:t,time:Date.now(),active:!1,reference:void 0})}),[b]),C=(0,i.useCallback)((e=>{let{channel:t,content:n,hideNotice:r=!1}=e;r||(n="*** Only you can see this message ***\n\n"+n);const i=Date.now().toString();b.set(t,i,{connId:"_SERVER",userId:"server",name:"[*\u2a4a*]",content:n,time:Date.now()-50,trackingId:i})}),[b]);return(0,It.jsx)(Hw.Provider,{value:{chat:_,chatFor:S,activeMessage:n,sendState:o,firstUnseenMessage:a,isLoadingMessages:u,doneLoading:d,numLoads:f,setActiveMessage:r,setSendState:s,setFirstUnseenMessage:l,setIsLoadingMessages:c,setDoneLoading:h,setNumLoads:p,pendingMessages:y,setPendingMessages:v,chatEditor:b,amsEditor:w,retryQueue:x,createServerMessage:E,createInfoMessage:C},children:t})};let $w=function(e){return e[e.PasswordBased=0]="PasswordBased",e[e.External=1]="External",e}({});const Kw=(0,i.createContext)({verifiedMessageIds:{},verifiedAddresses:{},ensNames:{},sharedKeys:{},signingKeys:{},signedData:null,setVerifiedMessageIds:()=>{},setVerifiedAddresses:()=>{},setEnsNames:()=>{},setSharedKeys:()=>{},setSigningKeys:()=>{},setSignedData:()=>{},walletKind:$w.PasswordBased,setWalletKind:()=>{},pbWallet:null,setPbWallet:()=>{},sesWallet:null,keyState:"none",setKeyState:()=>{},keys:{},setKeys:()=>{}}),qw=e=>{let{children:t}=e;const{serverId:n}=(0,i.useContext)(Rw),[r,o]=jw("verifiedMessageIds",{}),[s,a]=(0,i.useState)({}),[l,u]=(0,i.useState)({}),[c,d]=(0,i.useState)({}),[h,f]=(0,i.useState)({}),[p,m]=(0,i.useState)(null),[g,y]=(0,i.useState)(null),[v,b]=(0,i.useState)($w.PasswordBased),[w,x]=(0,i.useState)("none"),[k,_]=(0,i.useState)({}),S=(0,i.useMemo)((()=>ds.createRandom()),[]);(0,i.useEffect)((()=>{if(null==n)return;const e=S.address,t=S.publicKey;f((r=>({...r,[n]:{signingAddress:e,signingKey:t}})))}),[n,S]);const E=(0,i.useCallback)((()=>{o((e=>{const t=Date.now(),n=Object.entries(e).filter((e=>{let[,n]=e;return null!=n.timestamp&&t-n.timestamp<=864e5})).sort(((e,t)=>{let[,n]=e,[,r]=t;return r.timestamp-n.timestamp})).slice(0,1500),r={};for(const[i,o]of n)r[i]=o;return r}))}),[o]);return(0,i.useEffect)((()=>{E(),setInterval(E,3e5)}),[E]),(0,It.jsx)(Kw.Provider,{value:{verifiedMessageIds:r,verifiedAddresses:s,ensNames:l,sharedKeys:c,signingKeys:h,signedData:p,setVerifiedMessageIds:o,setVerifiedAddresses:a,setEnsNames:u,setSharedKeys:d,setSigningKeys:f,setSignedData:m,walletKind:v,setWalletKind:b,pbWallet:g,setPbWallet:y,sesWallet:S,keyState:w,setKeyState:x,keys:k,setKeys:_},children:t})},Vw={local:[],attachments:[]},Gw=(0,i.createContext)({replyTo:null,setReplyTo:()=>{},handlePasteText:()=>{},handleFile:()=>{},clearFile:()=>{},clearFiles:()=>{},uploadData:Vw}),Jw=e=>{let{children:t}=e;const{currentChannel:n}=(0,i.useContext)(Yw),{createServerMessage:r}=(0,i.useContext)(Hw),{settings:{warnOnPasteText:o}}=(0,i.useContext)(nx),[s,a]=(0,i.useState)(null),[l,u]=(0,i.useState)(Vw),c=(0,i.useCallback)(((e,t)=>{}),[]),d=(0,i.useCallback)((e=>{}),[]),h=(0,i.useCallback)((e=>e=>{}),[d]),f=(0,i.useCallback)((e=>e=>{}),[d]),p=(0,i.useCallback)((e=>()=>{}),[d]),m=(0,i.useCallback)(((e,t)=>{}),[h,f,p]),g=(0,i.useCallback)((e=>{}),[m,n,l,r]),y=(0,i.useCallback)((e=>{let{batchId:t,index:n}=e}),[]),v=(0,i.useCallback)((()=>{}),[]);return(0,It.jsx)(Gw.Provider,{value:{replyTo:s,setReplyTo:a,handlePasteText:c,handleFile:g,clearFile:y,clearFiles:v,uploadData:l},children:t})},Yw=(0,i.createContext)({channels:[],customRooms:[],currentChannel:null,lastSeen:{},lastRead:{},defaultChannel:null,trackedChannels:[],lastChannel:null,channelData:{},showRoomBrowser:!1,showCssEditor:!1,setChannels:()=>{},setCustomRooms:()=>{},setCurrentChannel:()=>{},setLastSeen:()=>{},setLastRead:()=>{},setDefaultChannel:()=>{},setTrackedChannels:()=>{},setLastChannel:()=>{},setChannelData:()=>{},setShowRoomBrowser:()=>{},setShowCssEditor:()=>{},previousChannel:null,urlName:null,urlPass:null}),Zw=e=>{let{children:t}=e;const[n,r]=(0,i.useState)([]),[o,s]=(0,i.useState)([]),[a,l]=(0,i.useState)(null),[u,c]=jw("lastSeen",{}),[d,h]=jw("lastRead",{}),[f,p]=(0,i.useState)(null),[m,g]=jw("trackedChannels",[],{dec:e=>e.filter((e=>null!=e)).map((e=>"string"===typeof e?{id:e,name:e}:e))}),[y,v]=jw("lastChannel",null),[b,w]=jw("channelData",{}),[x,k]=(0,i.useState)(!1),[_,S]=(0,i.useState)(!1);(0,i.useEffect)((()=>{null!=a&&h((e=>({...e,[a]:u[a]})))}),[a,u,h]);const E=qm(a);(0,i.useEffect)((()=>{null==E&&null==a||null==a&&v(a)}),[v,E,a]);const C=Vt(a),A=qm(C);Xw(null!==C&&void 0!==C?C:null,null!==A&&void 0!==A?A:null);const I=Vm(),M=(()=>{const[e]=we(),[t,n]=(0,i.useState)(null);return(0,i.useEffect)((()=>{const t=e.get("p");n(null!==t&&void 0!==t?t:"")}),[e]),t})();return(0,It.jsx)(Yw.Provider,{value:{channels:n,customRooms:o,currentChannel:a,lastSeen:u,lastRead:d,defaultChannel:f,trackedChannels:m,lastChannel:y,channelData:b,showRoomBrowser:x,showCssEditor:_,setChannels:r,setCustomRooms:s,setCurrentChannel:l,setLastSeen:c,setLastRead:h,setDefaultChannel:p,setTrackedChannels:g,setLastChannel:v,setChannelData:w,setShowRoomBrowser:k,setShowCssEditor:S,previousChannel:E,urlName:I,urlPass:M},children:t})},Xw=(e,t)=>{const n=Q();(0,i.useEffect)((()=>{e!==t&&n(null==e?"/":`/${e}`,{replace:!0})}),[n,e,t])},Qw=(0,i.createContext)({messagesRefs:{},setMessagesRefs:()=>{},onScroll:()=>{},isAtBottom:{},isHighUp:{}}),ex=e=>{let{children:t}=e;const[n,r]=(0,i.useState)({}),[o,s]=(0,i.useState)({}),[a,l]=(0,i.useState)({}),u=(0,i.useCallback)((e=>{requestAnimationFrame((()=>{const t=n[e];if(null==t)return;const r=t.current;if(null==r)return;const{offsetBottom:i}=xt(r);s((t=>({...t,[e]:i<=1}))),l((t=>({...t,[e]:i>300})))}))}),[n]);return(0,It.jsx)(Qw.Provider,{value:{messagesRefs:n,setMessagesRefs:r,onScroll:u,isAtBottom:o,isHighUp:a},children:t})},tx={debugActive:!1,name:Date.now().toString(),pass:Math.round(Math.random()*Date.now()).toString(),hue:Math.floor(360*Math.random()),status:"",theme:Yt.MeowLight,cozy:!1,shy:!1,font:"sans",muted:!1,warnOnPasteText:!1,useEmojis:!0,embedImages:!0,notifType:"all",showNotifPrompt:!0,signatureDuration:3600,customBackground:"url(/bg-rain.gif)",selectedChannel:"nightcoremusic",customStyle:{hue:"120",saturation:"60%",lightness:"60%",opacity:"90%"},signMessages:!0,chatHistoryLength:"unbounded",setDebugActive:()=>{},setName:()=>{},setPass:()=>{},setHue:()=>{},setStatus:()=>{},setTheme:()=>{},setCozy:()=>{},setShy:()=>{},setFont:()=>{},setMuted:()=>{},setWarnOnPasteText:()=>{},setUseEmojis:()=>{},setEmbedImages:()=>{},setNotifType:()=>{},setShowNotifPrompt:()=>{},setSignatureDuration:()=>{},setCustomBackground:()=>{},setSelectedChannel:()=>{},setSignMessages:()=>{},setChatHistoryLength:()=>{},setCustomStyleProp:Function,resetCustomStyle:Function},nx=(0,i.createContext)({settings:tx,reset:()=>{}}),rx=e=>{let{children:t}=e;const[n,r]=jw("debugActive",tx.debugActive),[o,s]=jw("name",tx.name),[a,l]=jw("pass",tx.pass),[u,c]=jw("hue",tx.hue),[d,h]=jw("status",tx.status),[f,p]=jw("theme",tx.theme),[m,g]=jw("cozy",tx.cozy),[y,v]=jw("shy",tx.shy),[b,w]=jw("font",tx.font),[x,k]=jw("muted",tx.muted),[_,S]=jw("setWarnOnPasteText",tx.warnOnPasteText),[E,C]=jw("useEmojis",tx.useEmojis),[A,I]=jw("embedImages",tx.embedImages),[M,j]=jw("notifType",tx.notifType),[T,B]=jw("showNotifPrompt",tx.showNotifPrompt),[P,N]=jw("signatureDuration",tx.signatureDuration),[R,L]=jw("customBackground",tx.customBackground),[O,D]=jw("selectedChannel",tx.selectedChannel),[U,z]=jw("signMessages",tx.signMessages),[F,H]=jw("chatHistoryLength",tx.chatHistoryLength),[W,$,K]=ix(tx.customStyle);(0,i.useEffect)((()=>{if(null==R)return;const e=document.getElementById("App");null!=e&&(e.style.backgroundImage=R)}),[R]),(0,i.useEffect)((()=>{Xt.find((e=>e.className===f.className))||p(Xt[0])}),[f,p]);const q={debugActive:n,name:o,pass:a,hue:u,status:d,theme:f,cozy:m,shy:y,font:b,muted:x,warnOnPasteText:_,useEmojis:E,embedImages:A,notifType:M,showNotifPrompt:T,signatureDuration:P,customBackground:R,selectedChannel:O,signMessages:U,chatHistoryLength:F,customStyle:W,setDebugActive:r,setName:s,setPass:l,setHue:c,setStatus:h,setTheme:p,setCozy:g,setShy:v,setFont:w,setMuted:k,setWarnOnPasteText:S,setUseEmojis:C,setEmbedImages:I,setNotifType:j,setShowNotifPrompt:B,setSignatureDuration:N,setCustomBackground:L,setSelectedChannel:D,setSignMessages:z,setChatHistoryLength:H,setCustomStyleProp:$,resetCustomStyle:K};return(0,It.jsx)(nx.Provider,{value:{settings:q,reset:()=>{r(tx.debugActive),p(tx.theme),g(tx.cozy),v(tx.shy),w(tx.font),k(tx.muted),S(tx.warnOnPasteText),C(tx.useEmojis),I(tx.embedImages),j(tx.notifType),B(tx.showNotifPrompt),N(tx.signatureDuration),L(tx.customBackground),D(tx.selectedChannel),z(tx.signMessages),H(tx.chatHistoryLength),K()}},children:t})},ix=e=>{const[t,n]=jw("customStyle",e);(0,i.useEffect)((()=>{if(null==t)return;const e=(e,t)=>{var n;t&&(null===(n=document.querySelector(":root"))||void 0===n||n.style.setProperty(e,t))};e("--_hue",t.hue),e("--_saturation",t.saturation),e("--_lightness",t.lightness),e("--_opacity",t.opacity),e("--_accent",t.accent)}),[t]);return[t,(e,t)=>n((n=>({...n,[e]:t}))),()=>n(e)]},ox=()=>{const{debugLog:e,serverId:t,connections:n,setPastSecrets:r}=(0,i.useContext)(Rw),{pbWallet:o}=(0,i.useContext)(Kw),{setSendState:s,setIsLoadingMessages:a,setDoneLoading:l,setNumLoads:u,retryQueue:c,chat:d,chatEditor:h,amsEditor:{updateAm:f,clearAm:p},setPendingMessages:m}=(0,i.useContext)(Hw),{isAtBottom:g}=(0,i.useContext)(Qw),y=(()=>{const{verifiedAddresses:e,ensNames:t}=(0,i.useContext)(Kw);return(0,i.useCallback)((n=>{let{connId:r,name:i,userId:o,shortId:s,useEns:a}=n;const l=e[r],u=t[l];return l&&u&&a?{nick:u,kind:"ens_only"}:l&&u&&!a?{nick:i,uniq:u,kind:"name_ens"}:l&&!u?{nick:i,uniq:at(l),kind:"name_addr"}:{nick:i,uniq:s,kind:"name_userid"}}),[e,t])})(),v=im(),{handleChatNotification:b}=xn(),w=(()=>{const{currentChannel:e,setLastSeen:t,setLastRead:n}=(0,i.useContext)(Yw);return(0,i.useCallback)((r=>{let{channel:i,trackingId:o}=r;t((e=>({...e,[i]:o}))),i===e&&n((e=>({...e,[i]:o})))}),[n,t,e])})(),x=qt(),k=Xp(),_=(0,i.useCallback)((e=>{const{name:t,userId:r,authorized:i,color:o,identityKey:s,sessionKey:a,solAddress:l}=n[e];return{name:t,userId:r,shortId:ht(r),authorized:i,color:o,identityKey:s,sessionKey:a,solAddress:l}}),[n]),S=(0,i.useCallback)(((n,r)=>{const{channel:i,connId:o,content:s,time:a,reference:l}=n,u=o;if((o!==t||o===t&&r)&&e("BeginMessage",n),o===t&&!r)return;const c=e=>({connId:o,content:s,trackingId:u,time:a,reference:l,active:!0,..._(o)});f(i,o,(e=>(null!=e&&h.remove(i,e.trackingId),c()))),h.update(i,u,c)}),[e,t,f,h,_]),E=(0,i.useCallback)(((n,r)=>{const{connId:i,channel:o,content:s,reference:a}=n,l=i;if((i!==t||i===t&&r)&&e("ChangeMessage",n),i===t&&!r)return;const u=e=>{var t;return{connId:i,content:s,trackingId:l,time:null!==(t=null===e||void 0===e?void 0:e.time)&&void 0!==t?t:Date.now(),reference:null!==a&&void 0!==a?a:null===e||void 0===e?void 0:e.reference,active:!0,..._(i)}};f(o,i,(e=>(null!=e&&e.trackingId!==l&&h.remove(o,e.trackingId),u(e)))),h.update(o,l,u)}),[e,t,f,h,_]),C=(0,i.useCallback)(((n,r)=>{const{connId:i,channel:o,trackingId:s}=n;if(null==s?(i!==t||i===t&&r)&&e("RemoveMessage",n):e("DeleteMessage",n),i===t&&!r&&null==s)return;const a=null!==s&&void 0!==s?s:i;p(o,i,(e=>e.trackingId===a)),h.remove(o,a)}),[e,t,p,h]),A=(0,i.useCallback)((n=>{e("SendMessage",n);const{channel:i,connId:a,content:l,trackingId:u,messageId:d,time:f,signature:S,deadline:E,attachments:C,mentions:A,reference:I,referencedMessage:M}=n,j=a,T=_(a),{identityKey:B}=T;if(null!=S&&null!=E&&null!=B){const t=v({messageId:d,content:l,signature:S,deadline:E,signingKey:"0x"+B});null!=t&&e("Failed to verify:",t)}const{nick:P,uniq:N}=y({connId:a,...T,useEns:!1});if(p(i,a,(e=>e.trackingId===j)),h.replace(i,j,d,(e=>{var t;return{connId:a,content:l,trackingId:d,time:null!==(t=null===e||void 0===e?void 0:e.time)&&void 0!==t?t:f,reference:null!==I&&void 0!==I?I:null===e||void 0===e?void 0:e.reference,referencedMessage:M,signature:S,deadline:E,...T,nick:P,uniq:N,attachments:C,mentions:A,reactions:void 0}})),a===t&&h.remove(i,u),!st(g,i)||g[i]){let e=250;const t=k(i);null!=t&&t<e&&(e=t),h.trim(i,e)}var R;a!==t&&b({cid:i,cname:null!==(R=x(i))&&void 0!==R?R:i,sender:P,content:l,trackingId:d,reference:I,mentions:A});if(w({channel:i,trackingId:d}),a===t){if(null!=o){const{userId:e}=T;if("privateKey"in o.val){const{privateKey:t}=o.val;r((n=>({...n,[e]:t})))}}m((e=>vt(e,u))),c.isEmpty()&&s("ready")}}),[e,h,p,_,y,v,t,o,r,b,x,w,m,c,s,k,g]),I=(0,i.useCallback)((t=>{e("LoadMore",t);const{cid:n,msgs:r,loadedAll:i}=t;h.addMany(n,r);const o=k(n);null!=o&&h.trim(n,o);const s=i||(c=r).constructor===Object&&0===Object.keys(c).length;var c;s&&e(`Loaded all messages for ${n}.`),a((e=>vt(e,n))),l((e=>({...e,[n]:s}))),u((e=>({...e,[n]:null!=e[n]?e[n]+1:1})))}),[e,l,a,u,h,k]);return{beginMessage:S,changeMessage:E,removeMessage:C,sendMessage:A,loadMore:I,transmitActiveMessage:(0,i.useCallback)((t=>{let{cid:n,from:r,payload:{am:i}}=t;e("TransmitActiveMessage",{cid:n,from:r,am:i});const o=e=>({...i,reference:i.reference,active:!0,..._(r)});f(n,r,o),h.update(n,i.trackingId,o)}),[e,_,h,f]),handleReaction:(0,i.useCallback)((t=>{let{cid:n,connId:r,data:i,messageId:o,userId:s,name:a,action:l}=t;if(e("EditReaction",{cid:n,connId:r,data:i,messageId:o,userId:s,name:a,action:l}),!st(d,o))return;h.update(n,o,(e=>{const t=l>0?bt:wt,n={...null===e||void 0===e?void 0:e.reactions};return n[i]=t(n[i],s),0===n[i].length&&delete n[i],{...e,reactions:n}}))}),[e,d,h])}},sx=e=>{let{setNewVersion:t}=e;const{debugLog:n,socket:r,setRaidData:o,setPartyByCid:s,setCalmByCid:a}=(0,i.useContext)(Rw),{retryQueue:l,pendingMessages:u}=(0,i.useContext)(Hw),c=(0,i.useCallback)((e=>{const{version:n}=e,r=((e,t)=>{const n=e.split("."),r=t.split(".");return 3!==n.length||3!==r.length?null:{major:Number(n[0])-Number(r[0]),minor:Number(n[1])-Number(r[1]),patch:Number(n[2])-Number(r[2])}})(n,Tt);r&&(r.major>0||r.minor>0||r.patch>0)?t({value:!0,breaking:r.major>0||r.minor>0}):t(null)}),[t]),d=(0,i.useCallback)((e=>{n("RateLimitWarningGiven",e)}),[n]),h=(0,i.useCallback)((e=>{n("RateLimitWarningRemoved",e)}),[n]),f=(0,i.useCallback)((e=>{let{event:t,data:i,rate:o,trackingId:s}=e;if(n("RateLimited",{event:t,trackingId:s,data:i}),t===Ht.SendMessage&&null!=s&&st(u,s)){const e=u[s];l.push(s,e)}if(null==r)return;const a=Cn[t];if(null!=a){const e=50+(o?1e3*o:1e3);a.q.push(i.cid,e,(()=>{r.emit(a.o,i)}))}}),[n,r,u,l]);return{pingVersionNew:c,rateLimitWarningGiven:d,rateLimitWarningRemoved:h,rateLimited:f,raid:(0,i.useCallback)((e=>{n("Raid",e),o(e)}),[n,o]),party:(0,i.useCallback)((e=>{n("Party",e),s((t=>({...t,[e.cid]:e.partyMode})))}),[n,s]),calm:(0,i.useCallback)((e=>{n("Calm",e),a((t=>({...t,[e.cid]:e.calmMode})))}),[n,a])}},ax=()=>{const{serverId:e,connections:t,setModes:n,showChannelSettings:r}=(0,i.useContext)(Rw),{currentChannel:o,setTrackedChannels:s}=(0,i.useContext)(Yw),{createServerMessage:a}=(0,i.useContext)(Hw),l=qt(),u=(0,i.useCallback)((r=>{let{cid:i,mode:u,arg:c,enable:d,connId:h}=r;if(null!=t){if(console.log("SetMode",{cid:i,mode:u,arg:c,enable:d}),null!=h){const{name:e,userId:n}=t[h],r=ht(n),o="b"===u;a(i,o||"M"===u?d?`${e} (${r}) ${o?"banned":"muted"} ${ln(c)}`:`${e} (${r}) ${o?"unbanned":"unmuted"} ${(e=>{let t=e.replaceAll("\\:","\0").split(":");for(let i=0;i<t.length;i++)t[i]=t[i].replaceAll("\0",":");const n=t[2],r=t[3];return`${n} (${ht(r)})`})(c)}`:`${e} (${r}) set channel mode ${an({mode:u,arg:c,enable:d})}`,!0)}null!=o&&h===e&&i!==o&&a(o,`You set channel mode #${l(i)} ${an({mode:u,arg:c,enable:d})}`,!0),"n"===u&&s((e=>e.map((e=>({id:e.id,name:e.id===i?c:e.name}))))),n((e=>{var t;const n=null!==(t=e.get(i))&&void 0!==t?t:[];return d?rn[u]?new Map(e).set(i,n.filter((e=>!(e.mode===u&&e.arg===c))).concat({mode:u,arg:c})):new Map(e).set(i,n.filter((e=>!(e.mode===u))).concat({mode:u,arg:c})):rn[u]?new Map(e).set(i,n.filter((e=>!(e.mode===u&&e.arg===c)))):new Map(e).set(i,n.filter((e=>!(e.mode===u))))}))}}),[e,t,o,n,a,l,s]),c=(0,i.useCallback)((e=>{let{cid:t,mode:n,arg:i,enable:s,reason:u}=e;console.log("SetModeFailed",{cid:t,mode:n,arg:i,enable:s,reason:u});const c=`Failed to set mode #${l(t)} ${s?"+":"-"}${n} ${i}\nReason: ${u}`;r||null==o?alert(c):a(o,c,!0)}),[r,l,a,o]);return(0,i.useMemo)((()=>({setMode:u,setModeFailed:c})),[u,c])},lx=()=>{const{debugLog:e,socket:t,serverId:n,conns:r,setUserData:o,setConnections:s,setConns:a,setUsers:l}=(0,i.useContext)(Rw),{setSharedKeys:u,setKeyState:c}=(0,i.useContext)(Kw),{createServerMessage:d,chatEditor:h,amsEditor:{clearAm:f}}=(0,i.useContext)(Hw),p=(()=>{const{setConnections:e,setConns:t,setUsers:n}=(0,i.useContext)(Rw),{setKeys:r,setSharedKeys:o,setSigningKeys:s,setVerifiedAddresses:a}=(0,i.useContext)(Kw);return(0,i.useCallback)((i=>{e((e=>vt(e,i))),t((e=>vt(e,i))),n((e=>{const t={...e};for(const n in e)t[n]=wt(e[n],i);return t})),r((e=>vt(e,i))),o((e=>vt(e,i))),s((e=>vt(e,i))),a((e=>vt(e,i)))}),[e,t,n,r,o,s,a])})(),m=(()=>{const{socket:e,serverId:t}=(0,i.useContext)(Rw),{amsEditor:{forAm:n}}=(0,i.useContext)(Hw),r=(0,i.useCallback)(((r,i)=>{null!=e&&null!=t&&n(r,t,(t=>{const{connId:n,content:o,trackingId:s,time:a,reference:l}=t;e.emit(Wt.TransmitActiveMessage,{cid:r,to:i,payload:{am:{connId:n,content:o,trackingId:s,time:a,reference:l}}})}))}),[e,t,n]);return r})();(0,i.useEffect)((()=>{for(const e in r){if(e===n)continue;const t=r[e];null!=t&&0!==t.length||p(e)}}),[n,r,p]);const g=(0,i.useCallback)((t=>{let{connId:r,user:i}=t;e("UserSetTrip",{connId:r,user:i}),s((e=>({...e,[r]:i}))),r===n?(o(i),c("done"),u({})):u((e=>vt(e,r)))}),[e,n,s,c,u,o]),y=(0,i.useCallback)((r=>{let{cid:i,connId:o,user:u}=r;if(null!=t&&null!=n){if(n===o)return e("UserJoinedChannel event ignored.");e("UserJoinedChannel",{cid:i,connId:o,user:u}),s((e=>({...e,[o]:u}))),a((e=>({...e,[o]:bt(e[o],i)}))),l((e=>({...e,[i]:bt(e[i],o)}))),m(i,o)}}),[t,n,e,s,a,l,m]),v=(0,i.useCallback)((t=>{let{cid:r,connId:i}=t;e("UserLeftChannel",{cid:r,connId:i}),f(r,i,(e=>(h.remove(r,e.trackingId),!0))),n!==i&&(a((e=>({...e,[i]:wt(e[i],r)}))),l((e=>({...e,[r]:wt(e[r],i)}))))}),[e,n,a,l,h,f]),b=(0,i.useCallback)((t=>{let{cid:n,connId:r,userId:i,name:o,reason:s}=t;e("UserWasKicked",{cid:n,connId:r,userId:i,name:o}),d(n,`${o}${ht(i)} was kicked. Reason: ${s}`,!0)}),[e,d]),w=(0,i.useCallback)((t=>{let{cid:r,connId:i}=t;i!==n&&(e("RequestActiveMessage",{cid:r,connId:i}),m(r,i))}),[e,n,m]);return(0,i.useMemo)((()=>({userSetTrip:g,userJoinedChannel:y,userLeftChannel:v,userWasKicked:b,requestActiveMessage:w})),[g,y,v,b,w])},ux=(0,i.createContext)({newVersion:{value:!1},setNewVersion:()=>{}}),cx=e=>{let{children:t}=e;const{socket:n,serverUrl:r,userData:o,setChannelSettings:s}=(0,i.useContext)(Rw),{trackedChannels:a}=(0,i.useContext)(Yw),l=(()=>{const{socket:e}=(0,i.useContext)(Rw),{lastChannel:t,defaultChannel:n,trackedChannels:r,channelData:o,urlName:s,urlPass:a}=(0,i.useContext)(Yw),l=rm(),u=(0,i.useCallback)((()=>{if(null==e)return!1;const i=null!=s;if(i)e.emit(Wt.JoinChannel,{cname:s,pass:l(s,a),isRejoin:!1});else if(null!=t){var u;e.emit(Wt.JoinChannel,{cid:t,pass:null===(u=o[t])||void 0===u?void 0:u.pass,isRejoin:!1})}for(const{id:n,name:a}of r){var c;mt(a,s)||n!==t&&e.emit(Wt.JoinChannel,{cid:n,cname:a,pass:null===(c=o[n])||void 0===c?void 0:c.pass,isRejoin:!0})}return i||0!==r.length||null==n||e.emit(Wt.JoinChannel,{cid:n,pass:"",isRejoin:!1}),!0}),[e,t,n,o,r,s,a,l]);return u})(),[u,c]=(0,i.useState)(!1),[d,h]=(0,i.useState)(null),[f,p]=(0,i.useState)(!1);(e=>{const{setSocket:t}=(0,i.useContext)(Rw),n=(0,i.useCallback)((()=>{if(null==e)return;const n=new kn(e,{onOpen:e=>{t(e)},onClose:()=>{t(null)}});return()=>{null===n||void 0===n||n.close()}}),[e,t]);(0,i.useEffect)((()=>{n()}),[n])})(r),(e=>{const{socket:t}=(0,i.useContext)(Rw),n=(0,i.useRef)(0);(0,i.useEffect)((()=>{const r=()=>{const r=Date.now();r-n.current>e&&(null===t||void 0===t||t.emit(Wt.PingNoReply,{})),n.current=r},i=()=>{const e=Date.now();n.current=e},o=()=>{"visible"===document.visibilityState?r():i()},s="undefined"!==typeof document.visibilityState;return s?document.addEventListener("visibilitychange",o):(window.addEventListener("focus",r),window.addEventListener("blur",i)),()=>{s?document.removeEventListener("visibilitychange",o):(window.removeEventListener("focus",r),window.removeEventListener("blur",i))}}),[t,e])})(5e3);const m=(e=>{let{setIsConnected:t,setServerCommands:n,setDone:r}=e;const{setServerId:o,setServerEmojis:s,setConnections:a,setUserData:l,setUsers:u}=(0,i.useContext)(Rw),{setChannels:c,setCurrentChannel:d,setDefaultChannel:h}=(0,i.useContext)(Yw),{setVerifiedAddresses:f,setKeys:p,setSharedKeys:m,setSigningKeys:g,setSignedData:y}=(0,i.useContext)(Kw),{setNumLoads:v,chatEditor:b}=(0,i.useContext)(Hw),w=(0,i.useCallback)((()=>{t(!1),o(null),s({}),n(null),h(null),l(null),y(null)}),[t,o,s,n,h,l,y]),x=(0,i.useCallback)((()=>{a({}),p({}),m({}),g({}),f({})}),[a,p,m,g,f]);return(0,i.useCallback)((()=>{w(),x(),u({}),c([]),d(null),b.clearChats(),v({}),r(!1)}),[w,x,u,c,d,r,v,b])})({setIsConnected:c,setServerCommands:h,setDone:p});(0,i.useEffect)((()=>{if(null!=n)return n.emit(Wt.SocketReady),()=>{console.log("Disconnecting."),n.emit(Wt.Disconnect),m()}}),[n,m]),Pm(u),(0,i.useEffect)((()=>{if(null==o)return;if(f)return;l()&&p(!0)}),[o,f,l]),(0,i.useEffect)((()=>{s((e=>{const t={...e};for(const n in e)a.find((e=>e.id===n))||delete t[n];return t}))}),[s,a]);const g=(e=>{let{setIsConnected:t,setServerCommands:n}=e;const{debugLog:r,socket:o,serverId:s,setServerId:a,setServerEmojis:l,setConnections:u,setConns:c,setUsers:d,setModes:h,setPartyByCid:f,setCalmByCid:p}=(0,i.useContext)(Rw),{currentChannel:m,lastChannel:g,setChannels:y,setCustomRooms:v,setCurrentChannel:b,setLastSeen:w,setLastRead:x,setChannelData:k,setDefaultChannel:_,setTrackedChannels:S}=(0,i.useContext)(Yw),{setNumLoads:E,setDoneLoading:C,createServerMessage:A,chatEditor:I,amsEditor:{clearAmsInChannel:M}}=(0,i.useContext)(Hw),{tiles:j,currentTileIndex:T,replaceTileAt:B,clearTiles:P}=(0,i.useContext)(px),N=(0,i.useCallback)((e=>{let{connId:i,defaultChannel:o,commands:s,emojis:u}=e;r("Connected",{connId:i,defaultChannel:o}),a(i),_(o),n(s),l(u),t(!0)}),[r,a,_,n,l,t]),R=An(),L=fn(),O=$t(),D=(0,i.useCallback)((e=>{let{cid:t,cname:n,cpass:i,isRejoin:s,connections:a,owner:l,ops:_,modes:E,newestMessageId:I,customRoom:M,partyMode:P,calmMode:N}=e;if(null==o)return;r("JoinChannel",{cid:t,cname:n,cpass:i,isRejoin:s,connections:a,owner:l,ops:_,modes:E,newestMessageId:I,customRoom:M,partyMode:P,calmMode:N}),s&&!j.find((e=>e.cid===t))||(O({to:t}),R({cid:t,time:Date.now(),limit:50}),B(T,{cid:t}));const D=E.find((e=>"p"===e.mode));if(null!=D){const e=D.arg.split(":")[0];L({cid:e,cname:void 0,isRejoin:!0})}null!=I&&(w((e=>({...e,[t]:I}))),x((e=>t===m?{...e,[t]:I}:e))),u((e=>({...e,...a}))),c((e=>{const n={...e};for(const r in a)n[r]=bt(e[r],t);return n})),d((e=>({...e,[t]:Object.keys(a)})));const U=l?[{mode:"q",arg:l}]:[];h((e=>new Map(e).set(t,[...U,...null!==_&&void 0!==_?_:[],...null!==E&&void 0!==E?E:[]]))),C((e=>({...e,[t]:!1}))),y((e=>bt(e,t))),null!=M&&v((e=>e.filter((e=>e.id!==M.id)).concat(M))),f((e=>({...e,[t]:P}))),p((e=>({...e,[t]:N}))),S((e=>e.filter((e=>!mt(e.name,n))).concat({id:t,name:n}))),s||b(t),s&&t===g&&b(t),k((e=>({...e,[t]:{id:t,name:n,pass:i}}))),A(t,"welcome to meowspace! be kind and have fun!",!0)}),[o,r,L,u,c,d,h,g,m,w,x,k,y,v,b,C,S,A,R,j,T,B,O,f,p]),U=(0,i.useCallback)((e=>{let{cid:t,cname:n,reason:i,isRejoin:o}=e;r("JoinChannelFailed",{cid:t,cname:n,reason:i,isRejoin:o}),"DEAD"===i?(console.log(`Unable to join ${t}/${n} (${i}). Removing channel from trackedChannels.`),null!=t&&k((e=>vt(e,t))),S((e=>e.filter((e=>e.id!==t&&!mt(e.name,n)))))):"already in channel"===i?(console.log(`Unable to join ${t}/${n} (${i}).`),o||b(null!==t&&void 0!==t?t:null)):o?console.log(`Unable to join ${t}/${n} (${i}).`):alert(`Unable to join ${t}/${n} (${i}).`)}),[r,S,k,b]),z=(0,i.useCallback)((e=>{let{cid:t}=e;null!=s&&(r("LeaveChannel",{cid:t}),c((e=>{const n={...e};for(const r in n)n[r]=wt(e[r],t);return n})),d((e=>vt(e,t))),M(t),I.clearChannel(t),y((e=>wt(e,t))),S((e=>e.filter((e=>e.id!==t)))),P((e=>e.cid===t)),t===m&&(O({to:null}),b(null)),h((e=>{const n=new Map(e);return n.delete(t),n})),E((e=>vt(e,t))),w((e=>vt(e,t))),x((e=>vt(e,t))))}),[r,s,c,d,y,b,S,m,I,h,E,w,x,M,P,O]),F=(0,i.useCallback)((e=>{let{cid:t}=e;r("UploadCSS",{cid:t})}),[r]);return(0,i.useMemo)((()=>({connected:N,joinChannel:D,joinChannelFailed:U,leaveChannel:z,uploadCss:F})),[N,D,U,z,F])})({setIsConnected:c,setServerCommands:h});Jt(Ht.Connected,g.connected),Jt(Ht.JoinChannel,g.joinChannel),Jt(Ht.LeaveChannel,g.leaveChannel),Jt(Ht.JoinChannelFailed,g.joinChannelFailed),Jt(Ht.UploadCSS,g.uploadCss);const y=lx();Jt(Ht.UserSetTrip,y.userSetTrip),Jt(Ht.UserJoinedChannel,y.userJoinedChannel),Jt(Ht.UserLeftChannel,y.userLeftChannel),Jt(Ht.UserWasKicked,y.userWasKicked),Jt(Ht.RequestActiveMessage,y.requestActiveMessage);const v=ax();Jt(Ht.SetMode,v.setMode),Jt(Ht.SetModeFailed,v.setModeFailed);const b=ox();Jt(Ht.BeginMessage,b.beginMessage),Jt(Ht.ChangeMessage,b.changeMessage),Jt(Ht.RemoveMessage,b.removeMessage),Jt(Ht.SendMessage,b.sendMessage),Jt(Ht.LoadMore,b.loadMore),Jt(Ht.TransmitActiveMessage,b.transmitActiveMessage),Jt(Ht.Reaction,b.handleReaction);const[w,x]=(0,i.useState)(null),k=sx({setNewVersion:x});return Jt(Ht.PingVersionNew,k.pingVersionNew),Jt(Ht.RateLimitWarningGiven,k.rateLimitWarningGiven),Jt(Ht.RateLimitWarningRemoved,k.rateLimitWarningRemoved),Jt(Ht.RateLimited,k.rateLimited),Jt(Ht.Raid,k.raid),Jt(Ht.Party,k.party),Jt(Ht.Calm,k.calm),(0,It.jsx)(ux.Provider,{value:{newVersion:w,setNewVersion:x},children:t})},dx=(0,i.createContext)({slide:{bind:()=>({}),x:new zb(0),setPos:()=>{},setNeg:()=>{},reset:()=>{}},slideDisabled:!1,setSlideDisabled:()=>{}}),hx=e=>{let{children:t}=e;const{isMobile:n,windowWidth:r,showSettings:o}=(0,i.useContext)(Rw),{currentChannel:s}=(0,i.useContext)(Yw),a=null!=s,[l,u]=(0,i.useState)(!1),c=(e=>{let{disabled:t,isMobile:n,isPm:r,windowWidth:o}=e;const[{x:s},a]=dw((()=>({x:0}))),[l,u]=(0,i.useState)(!1);(0,i.useEffect)((()=>{l?document.body.classList.add("__w_noTouch"):document.body.classList.remove("__w_noTouch")}),[l]);const c=qm(o);(0,i.useEffect)((()=>{if(null==c)return;const e=s.get(),t=o-c;e>0?s.set(e+t):e<0&&s.set(e-t)}),[o,c,s]);const[d,h]=(0,i.useState)(0),f=()=>{a.start({x:o,immediate:!1,config:{...gb,bounce:0}}),h(1)},p=()=>{a.start({x:-o,immediate:!1,config:{...gb,bounce:0}}),h(-1)},m=()=>{a.start({x:0,immediate:!1,config:{...gb,bounce:0}}),h(0)};return{bind:Kg((e=>{let{tap:r,last:i,movement:[s],velocity:[l],direction:[c],offset:[d],cancel:h}=e;if(t)return;if(!n)return;if(r)return;const g=o/2/2;u(!0),i?(u(!1),d>0?s>0?l>.3&&c>0||d>g?f():m():l>.3&&c<0?m():d>3*g?f():m():d<0&&(s<0?l>.3&&c<0||d<-g?p():m():l>.3&&c>0?m():d<-3*g?p():m())):a.start({x:d,immediate:!0})}),{from:()=>[s.get(),0],filterTaps:!0,bounds:{left:r?0:-o,right:o},axis:"x",threshold:25,rubberband:!1}),x:s,setPos:f,setNeg:p,reset:m,sign:d}})({disabled:l,isMobile:n,isPm:a,windowWidth:r});return(0,i.useEffect)((()=>{u(o)}),[o]),(0,It.jsx)(dx.Provider,{value:{slide:c,slideDisabled:l,setSlideDisabled:u},children:t})},fx={cid:null},px=(0,i.createContext)({maxNumTiles:1,setMaxNumTiles:()=>{},tiles:[],currentTileIndex:0,selectTile:()=>{},replaceTileAt:()=>{},clearTiles:()=>{}}),mx=e=>{let{children:t}=e;const{chordKeyDown:n}=(0,i.useContext)(Rw),{currentChannel:r,setCurrentChannel:o}=(0,i.useContext)(Yw),s=$t(),[a,l]=(0,i.useState)(0),[u,c]=(0,i.useState)((()=>[{cid:r}])),[d,h]=(0,i.useState)((window.isHandheld,1)),f=(0,i.useCallback)((e=>{l(e)}),[]),p=(0,i.useCallback)((e=>{c((t=>t.concat(e)))}),[]),m=(0,i.useCallback)((e=>{c((t=>t.filter(((t,n)=>n!==e))))}),[]),g=(0,i.useCallback)(((e,t)=>{c((n=>n.map(((n,r)=>r===e?t:n))))}),[]),y=(0,i.useCallback)((e=>{c((t=>{const n=t.filter((t=>!e(t)));return 0===n.length&&n.push(fx),n}))}),[]),v=(0,i.useCallback)((()=>{const e=u.length;1!==e&&(s({to:null}),m(a),l((t=>t>=e-1?e-2:t)))}),[u,m,a,s]),b=(0,i.useCallback)((()=>{const e=u.length;if(e===d)return;const t=u[a];null!=(null===t||void 0===t?void 0:t.cid)&&(p({...t}),l(e))}),[u,d,p,a]),w=(0,i.useCallback)((()=>{l((e=>{const t=e,n=u.length;return((t-1)%n+n)%n}))}),[u]),x=(0,i.useCallback)((()=>{l((e=>{const t=e,n=u.length;return((t+1)%n+n)%n}))}),[u]);$m(n,["Backspace"],v),$m(n,["Enter"],b),$m(n,["ArrowLeft"],w),$m(n,["ArrowRight"],x),(0,i.useEffect)((()=>{l((e=>e>u.length-1?u.length-1:e<0?0:e))}),[u]),(0,i.useEffect)((()=>{const e=u[a];null!=e&&o(e.cid)}),[o,u,a]);const{getInputRef:k}=Sn();return(0,i.useEffect)((()=>{var e;const t=k(`${a}`);null===t||void 0===t||null===(e=t.current)||void 0===e||e.focus()}),[u,a,k]),(0,It.jsx)(px.Provider,{value:{maxNumTiles:d,setMaxNumTiles:h,tiles:u,currentTileIndex:a,selectTile:f,replaceTileAt:g,clearTiles:y},children:t})},gx=(0,i.createContext)({});function yx(){return(0,i.useContext)(gx)}const vx=e=>{let{children:t,endpoint:n,config:r={commitment:"confirmed"}}=e;const o=(0,i.useMemo)((()=>new fp(n,r)),[n,r]);return i.createElement(gx.Provider,{value:{connection:o}},t)};var bx,wx=n(548);class xx extends Error{constructor(e,t){super(e),this.error=t}}class kx extends xx{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class _x extends xx{constructor(){super(...arguments),this.name="WalletConfigError"}}class Sx extends xx{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Ex extends xx{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Cx extends xx{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Ax extends xx{constructor(){super(...arguments),this.name="WalletAccountError"}}class Ix extends xx{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Mx extends xx{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class jx extends xx{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Tx extends xx{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class Bx extends xx{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Px extends xx{constructor(){super(...arguments),this.name="WalletSignInError"}}!function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"}(bx||(bx={}));class Nx extends wx{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.publicKey;if(!r)throw new Mx;return e.feePayer=e.feePayer||r,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}}function Rx(e){return"version"in e}class Lx extends Nx{async sendTransaction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!0;try{if(Rx(e)){if(!this.supportedTransactionVersions)throw new jx("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new jx(`Sending transaction version ${e.version} isn't supported by this wallet`);try{const r=(e=await this.signTransaction(e)).serialize();return await t.sendRawTransaction(r,n)}catch(i){if(i instanceof Tx)throw r=!1,i;throw new jx(i?.message,i)}}else try{const{signers:r,...i}=n;e=await this.prepareTransaction(e,t,i),r?.length&&e.partialSign(...r);const o=(e=await this.signTransaction(e)).serialize();return await t.sendRawTransaction(o,i)}catch(i){if(i instanceof Tx)throw r=!1,i;throw new jx(i?.message,i)}}catch(i){throw r&&this.emit("error",i),i}}async signAllTransactions(e){for(const n of e)if(Rx(n)){if(!this.supportedTransactionVersions)throw new Tx("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new Tx(`Signing transaction version ${n.version} isn't supported by this wallet`)}const t=[];for(const n of e)t.push(await this.signTransaction(n));return t}}class Ox extends Lx{}class Dx extends Ox{}new RegExp("^(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n(?<address>[^\\n]+)(?:\\n|$)(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??(?:\\nURI: (?<uri>[^\\n]+))?(?:\\nVersion: (?<version>[^\\n]+))?(?:\\nChain ID: (?<chainId>[^\\n]+))?(?:\\nNonce: (?<nonce>[^\\n]+))?(?:\\nIssued At: (?<issuedAt>[^\\n]+))?(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?(?:\\nNot Before: (?<notBefore>[^\\n]+))?(?:\\nRequest ID: (?<requestId>[^\\n]+))?(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?\\n*$");function Ux(e){let t=`${e.domain} wants you to sign in with your Solana account:\n`;t+=`${e.address}`,e.statement&&(t+=`\n\n${e.statement}`);const n=[];if(e.uri&&n.push(`URI: ${e.uri}`),e.version&&n.push(`Version: ${e.version}`),e.chainId&&n.push(`Chain ID: ${e.chainId}`),e.nonce&&n.push(`Nonce: ${e.nonce}`),e.issuedAt&&n.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&n.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&n.push(`Not Before: ${e.notBefore}`),e.requestId&&n.push(`Request ID: ${e.requestId}`),e.resources){n.push("Resources:");for(const t of e.resources)n.push(`- ${t}`)}return n.length&&(t+=`\n\n${n.join("\n")}`),t}const zx={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class Fx extends Error{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,i,o]=t;super(i),this.code=r,this.data=o,this.name="SolanaMobileWalletAdapterError"}}class Hx extends Error{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,i,o,s]=t;super(o),this.code=i,this.data=s,this.jsonRpcMessageId=r,this.name="SolanaMobileWalletAdapterProtocolError"}}function Wx(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function $x(e){return t=function(e){return Ux(e)}(e),window.btoa(t);var t}const Kx="solana:signTransactions",qx="solana:cloneAuthorization";function Vx(e,t){return new Proxy({},{get:(n,r)=>(null==n[r]&&(n[r]=function(n){return Wx(this,void 0,void 0,(function*(){const{method:i,params:o}=function(e,t,n){let r=t,i=e.toString().replace(/[A-Z]/g,(e=>`_${e.toLowerCase()}`)).toLowerCase();switch(e){case"authorize":{let{chain:e}=r;if("legacy"===n){switch(e){case"solana:testnet":e="testnet";break;case"solana:devnet":e="devnet";break;case"solana:mainnet":e="mainnet-beta";break;default:e=r.cluster}r.cluster=e}else{switch(e){case"testnet":case"devnet":e=`solana:${e}`;break;case"mainnet-beta":e="solana:mainnet"}r.chain=e}}case"reauthorize":{const{auth_token:e,identity:t}=r;if(e)if("legacy"===n)i="reauthorize",r={auth_token:e,identity:t};else i="authorize";break}}return{method:i,params:r}}(r,n,e),s=yield t(i,o);return"authorize"===i&&o.sign_in_payload&&!s.sign_in_result&&(s.sign_in_result=yield function(e,t,n){var r;return Wx(this,void 0,void 0,(function*(){const i=null!==(r=e.domain)&&void 0!==r?r:window.location.host,o=t.accounts[0].address,s=$x(Object.assign(Object.assign({},e),{domain:i,address:o}));return{address:o,signed_message:s,signature:(yield n("sign_messages",{addresses:[o],payloads:[s]})).signed_payloads[0].slice(s.length)}}))}(o.sign_in_payload,s,t)),function(e,t,n){if("getCapabilities"===e){const e=t;switch(n){case"legacy":{const t=[Kx];return!0===e.supports_clone_authorization&&t.push(qx),Object.assign(Object.assign({},e),{features:t})}case"v1":return Object.assign(Object.assign({},e),{supports_sign_and_send_transactions:!0,supports_clone_authorization:e.features.includes(qx)})}}return t}(r,s,e)}))}),n[r]),defineProperty:()=>!1,deleteProperty:()=>!1})}const Gx=4;const Jx=12,Yx=65;function Zx(e,t,n){return Wx(this,void 0,void 0,(function*(){const r=function(e){if(e>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(Gx);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}(t),i=new Uint8Array(Jx);crypto.getRandomValues(i);const o=yield crypto.subtle.encrypt(Qx(r,i),n,(new TextEncoder).encode(e)),s=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return s.set(new Uint8Array(r),0),s.set(new Uint8Array(i),r.byteLength),s.set(new Uint8Array(o),r.byteLength+i.byteLength),s}))}function Xx(e,t){return Wx(this,void 0,void 0,(function*(){const n=e.slice(0,Gx),r=e.slice(Gx,Gx+Jx),i=e.slice(Gx+Jx),o=yield crypto.subtle.decrypt(Qx(n,r),t,i);return function(){void 0===ek&&(ek=new TextDecoder("utf-8"));return ek}().decode(o)}))}function Qx(e,t){return{additionalData:e,iv:t,name:"AES-GCM",tagLength:128}}let ek;function tk(e){if(e<49152||e>65535)throw new Fx(zx.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${e} given.`,{port:e});return e}const nk="solana-wallet";function rk(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function ik(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["v1"];return Wx(this,void 0,void 0,(function*(){const i=tk(t),o=function(e){let t="";const n=new Uint8Array(e),r=n.byteLength;for(let i=0;i<r;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}(yield crypto.subtle.exportKey("raw",e)),s=function(e,t){let n=null;if(t){try{n=new URL(t)}catch(i){}if("https:"!==(null===n||void 0===n?void 0:n.protocol))throw new Fx(zx.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${nk}:/`));const r=e.startsWith("/")?e:[...rk(n.pathname),...rk(e)].join("/");return new URL(r,n)}("v1/associate/local",n);return s.searchParams.set("association",o.replace(/[/+=]/g,(e=>({"/":"_","+":"-","=":"."}[e])))),s.searchParams.set("port",`${i}`),r.forEach((e=>{s.searchParams.set("v",e)})),s}))}const ok={Firefox:0,Other:1};let sk=null;function ak(e,t){return Wx(this,void 0,void 0,(function*(){const n=tk(49152+Math.floor(16384*Math.random())),r=yield ik(e,n,t);if("https:"===r.protocol)window.location.assign(r);else try{const e=-1!==navigator.userAgent.indexOf("Firefox/")?ok.Firefox:ok.Other;switch(e){case ok.Firefox:i=r,null==sk&&(sk=document.createElement("iframe"),sk.style.display="none",document.body.appendChild(sk)),sk.contentWindow.location.href=i.toString();break;case ok.Other:{const e=new Promise(((e,t)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),e()}window.addEventListener("blur",r);const i=setTimeout((()=>{n(),t()}),2e3)}));window.location.assign(r),yield e;break}}}catch(o){throw new Fx(zx.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}var i;return n}))}const lk={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},uk="com.solana.mobilewalletadapter.v1";function ck(e){return new DataView(e).getUint32(0,!1)}function dk(e,t){return Wx(this,void 0,void 0,(function*(){!function(){if("undefined"===typeof window||!0!==window.isSecureContext)throw new Fx(zx.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}();const n=yield function(){return Wx(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}))}(),r=yield ak(n.publicKey,null===t||void 0===t?void 0:t.baseUri),i=`ws://localhost:${r}/solana-wallet`;let o;const s=(()=>{const e=[...lk.retryDelayScheduleMs];return()=>e.length>1?e.shift():e[0]})();let a=1,l=0,u={__type:"disconnected"};return new Promise(((t,c)=>{let d;const h={},f=()=>Wx(this,void 0,void 0,(function*(){if("connecting"!==u.__type)return void console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${u.__type}\`.`);const{associationKeypair:e}=u;d.removeEventListener("open",f);const t=yield function(){return Wx(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])}))}();d.send(yield function(e,t){return Wx(this,void 0,void 0,(function*(){const n=yield crypto.subtle.exportKey("raw",e),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i}))}(t.publicKey,e.privateKey)),u={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:t.privateKey}})),p=e=>{e.wasClean?u={__type:"disconnected"}:c(new Fx(zx.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${e.code}: ${e.reason}).`,{closeEvent:e})),y()},m=e=>Wx(this,void 0,void 0,(function*(){y(),Date.now()-o>=lk.timeoutMs?c(new Fx(zx.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket on port ${r}.`)):(yield new Promise((e=>{const t=s();v=window.setTimeout(e,t)})),b())})),g=n=>Wx(this,void 0,void 0,(function*(){const r=yield n.data.arrayBuffer();switch(u.__type){case"connected":try{const e=ck(r.slice(0,Gx));if(e!==l+1)throw new Error("Encrypted message has invalid sequence number");l=e;const t=yield function(e,t){return Wx(this,void 0,void 0,(function*(){const n=yield Xx(e,t),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new Hx(r.id,r.error.code,r.error.message);return r}))}(r,u.sharedSecret),n=h[t.id];delete h[t.id],n.resolve(t.result)}catch(i){if(!(i instanceof Hx))throw i;{const e=h[i.jsonRpcMessageId];delete h[i.jsonRpcMessageId],e.reject(i)}}break;case"hello_req_sent":{const n=yield function(e,t,n){return Wx(this,void 0,void 0,(function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",e.slice(0,Yx),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),s=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},s,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])}))}(r,u.associationPublicKey,u.ecdhPrivateKey),o=r.slice(Yx),s=0!==o.byteLength?yield(()=>Wx(this,void 0,void 0,(function*(){const e=ck(o.slice(0,Gx));if(e!==l+1)throw new Error("Encrypted message has invalid sequence number");return l=e,function(e,t){return Wx(this,void 0,void 0,(function*(){const n=yield Xx(e,t),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new Fx(zx.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:i}}))}(o,n)})))():{protocol_version:"legacy"};u={__type:"connected",sharedSecret:n,sessionProperties:s};const f=Vx(s.protocol_version,((e,t)=>Wx(this,void 0,void 0,(function*(){const r=a++;return d.send(yield function(e,t){return Wx(this,void 0,void 0,(function*(){return Zx(JSON.stringify(e),e.id,t)}))}({id:r,jsonrpc:"2.0",method:e,params:null!==t&&void 0!==t?t:{}},n)),new Promise(((t,n)=>{h[r]={resolve(r){switch(e){case"authorize":case"reauthorize":{const{wallet_uri_base:e}=r;if(null!=e)try{!function(e){let t;try{t=new URL(e)}catch(n){throw new Fx(zx.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if("https:"!==t.protocol)throw new Fx(zx.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}(e)}catch(i){return void n(i)}break}}t(r)},reject:n}}))}))));try{t(yield e(f))}catch(i){c(i)}finally{y(),d.close()}break}}}));let y,v;const b=()=>{y&&y(),u={__type:"connecting",associationKeypair:n},void 0===o&&(o=Date.now()),d=new WebSocket(i,[uk]),d.addEventListener("open",f),d.addEventListener("close",p),d.addEventListener("error",m),d.addEventListener("message",g),y=()=>{window.clearTimeout(v),d.removeEventListener("open",f),d.removeEventListener("close",p),d.removeEventListener("error",m),d.removeEventListener("message",g)}};b()}))}))}var hk=n(7758);function fk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function pk(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function mk(e){return window.btoa(String.fromCharCode.call(null,...e))}function gk(e){return new Uint8Array(window.atob(e).split("").map((e=>e.charCodeAt(0))))}function yk(e){return mk("version"in e?e.serialize():e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}function vk(e){const t=e[0]*kd+1;return"legacy"===zd.deserializeMessageVersion(e.slice(t,e.length))?$d.from(e):Kd.deserialize(e)}function bk(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function wk(e){return new Uint8Array(window.atob(e).split("").map((e=>e.charCodeAt(0))))}const xk="Mobile Wallet Adapter";function kk(e){return"version"in e}class _k extends Dx{constructor(e){var t;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=xk,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState="undefined"!==typeof window&&window.isSecureContext&&"undefined"!==typeof document&&/android/i.test(navigator.userAgent)?bx.Loadable:bx.Unsupported,this._authorizationResultCache=e.authorizationResultCache,this._addressSelector=e.addressSelector,this._appIdentity=e.appIdentity,this._chain=null!==(t=e.chain)&&void 0!==t?t:e.cluster,this._onWalletNotFound=e.onWalletNotFound,this._readyState!==bx.Unsupported&&this._authorizationResultCache.get().then((e=>{e&&this.declareWalletAsInstalled()}))}get publicKey(){if(null==this._publicKey&&null!=this._selectedAddress)try{this._publicKey=function(e){const t=wk(e);return new wd(t)}(this._selectedAddress)}catch(e){throw new Ix(e instanceof Error&&(null===e||void 0===e?void 0:e.message)||"Unknown error",e)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==bx.Installed&&this.emit("readyStateChange",this._readyState=bx.Installed)}runWithGuard(e){return bk(this,void 0,void 0,(function*(){try{return yield e()}catch(t){throw this.emit("error",t),t}}))}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return bk(this,void 0,void 0,(function*(){return yield this.autoConnect()}))}autoConnect(){return bk(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>bk(this,void 0,void 0,(function*(){if(this._readyState!==bx.Installed&&this._readyState!==bx.Loadable)throw new kx;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();e&&this.handleAuthorizationResult(e)}catch(e){throw new Sx(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))))}))}connect(){return bk(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>bk(this,void 0,void 0,(function*(){if(this._readyState!==bx.Installed&&this._readyState!==bx.Loadable)throw new kx;this._connecting=!0;try{yield this.performAuthorization()}catch(e){throw new Sx(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))))}))}performAuthorization(e){return bk(this,void 0,void 0,(function*(){try{const t=yield this._authorizationResultCache.get();return t?(this.handleAuthorizationResult(t),t):yield this.transact((t=>bk(this,void 0,void 0,(function*(){const n=yield t.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:e});return Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)]),n}))))}catch(t){throw new Sx(t instanceof Error&&t.message||"Unknown error",t)}}))}handleAuthorizationResult(e){var t;return bk(this,void 0,void 0,(function*(){const n=null==this._authorizationResult||(null===(t=this._authorizationResult)||void 0===t?void 0:t.accounts.length)!==e.accounts.length||this._authorizationResult.accounts.some(((t,n)=>t.address!==e.accounts[n].address));if(this._authorizationResult=e,this.declareWalletAsInstalled(),n){const t=yield this._addressSelector.select(e.accounts.map((e=>{let{address:t}=e;return t})));t!==this._selectedAddress&&(this._selectedAddress=t,delete this._publicKey,this.emit("connect",this.publicKey))}}))}performReauthorization(e,t){return bk(this,void 0,void 0,(function*(){try{const n=yield e.authorize({auth_token:t,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(n){throw this.disconnect(),new Ex(n instanceof Error&&(null===n||void 0===n?void 0:n.message)||"Unknown error",n)}}))}disconnect(){return bk(this,void 0,void 0,(function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")}))}transact(e){var t;return bk(this,void 0,void 0,(function*(){const n=null===(t=this._authorizationResult)||void 0===t?void 0:t.wallet_uri_base,r=n?{baseUri:n}:void 0,i=this._connectionGeneration;try{return yield function(e,t){return pk(this,void 0,void 0,(function*(){return yield dk((t=>{const n=new Proxy({},{get(e,n){if(null==e[n])switch(n){case"signAndSendTransactions":e[n]=function(e){var{minContextSlot:n,commitment:r,skipPreflight:i,maxRetries:o,waitForCommitmentToSendNextTransaction:s,transactions:a}=e,l=fk(e,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return pk(this,void 0,void 0,(function*(){const e=a.map(yk),u={min_context_slot:n,commitment:r,skip_preflight:i,max_retries:o,wait_for_commitment_to_send_next_transaction:s},{signatures:c}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},l),Object.values(u).some((e=>null!=e))?{options:u}:null),{payloads:e}));return c.map(gk).map(hk.encode)}))};break;case"signMessages":e[n]=function(e){var{payloads:n}=e,r=fk(e,["payloads"]);return pk(this,void 0,void 0,(function*(){const e=n.map(mk),{signed_payloads:i}=yield t.signMessages(Object.assign(Object.assign({},r),{payloads:e}));return i.map(gk)}))};break;case"signTransactions":e[n]=function(e){var{transactions:n}=e,r=fk(e,["transactions"]);return pk(this,void 0,void 0,(function*(){const e=n.map(yk),{signed_payloads:i}=yield t.signTransactions(Object.assign(Object.assign({},r),{payloads:e}));return i.map(gk).map(vk)}))};break;default:e[n]=t[n]}return e[n]},defineProperty:()=>!1,deleteProperty:()=>!1});return e(n)}),t)}))}(e,r)}catch(o){throw this._connectionGeneration!==i&&(yield new Promise((()=>{}))),o instanceof Error&&"SolanaMobileWalletAdapterError"===o.name&&"ERROR_WALLET_NOT_FOUND"===o.code&&(yield this._onWalletNotFound(this)),o}}))}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new Mx;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(e){return bk(this,void 0,void 0,(function*(){const{authToken:t}=this.assertIsAuthorized();try{return yield this.transact((n=>bk(this,void 0,void 0,(function*(){yield this.performReauthorization(n,t);return yield n.signTransactions({transactions:e})}))))}catch(n){throw new Tx(null===n||void 0===n?void 0:n.message,n)}}))}sendTransaction(e,t,n){return bk(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>bk(this,void 0,void 0,(function*(){const{authToken:r}=this.assertIsAuthorized(),i=null===n||void 0===n?void 0:n.minContextSlot;try{return yield this.transact((o=>bk(this,void 0,void 0,(function*(){function s(){let e,r;switch(t.commitment){case"confirmed":case"finalized":case"processed":e=t.commitment;break;default:e="finalized"}switch(null===n||void 0===n?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":r=n.preflightCommitment;break;case void 0:r=e;break;default:r="finalized"}return("finalized"===r?2:"confirmed"===r?1:0)<("finalized"===e?2:"confirmed"===e?1:0)?r:e}const[a,l,u]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,r),kk(e)?null:(()=>bk(this,void 0,void 0,(function*(){var n;if(e.feePayer||(e.feePayer=null!==(n=this.publicKey)&&void 0!==n?n:void 0),null==e.recentBlockhash){const{blockhash:n}=yield t.getLatestBlockhash({commitment:s()});e.recentBlockhash=n}})))()]);if(a.supports_sign_and_send_transactions){return(yield o.signAndSendTransactions({minContextSlot:i,transactions:[e]}))[0]}{const[r]=yield o.signTransactions({transactions:[e]});if(kk(r))return yield t.sendTransaction(r);{const e=r.serialize();return yield t.sendRawTransaction(e,Object.assign(Object.assign({},n),{preflightCommitment:s()}))}}}))))}catch(o){throw new jx(null===o||void 0===o?void 0:o.message,o)}}))))}))}signTransaction(e){return bk(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>bk(this,void 0,void 0,(function*(){const[t]=yield this.performSignTransactions([e]);return t}))))}))}signAllTransactions(e){return bk(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>bk(this,void 0,void 0,(function*(){return yield this.performSignTransactions(e)}))))}))}signMessage(e){return bk(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>bk(this,void 0,void 0,(function*(){const{authToken:t,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact((r=>bk(this,void 0,void 0,(function*(){yield this.performReauthorization(r,t);const[i]=yield r.signMessages({addresses:[n],payloads:[e]});return i.slice(-64)}))))}catch(r){throw new Bx(null===r||void 0===r?void 0:r.message,r)}}))))}))}signIn(e){return bk(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>bk(this,void 0,void 0,(function*(){var t,n;if(this._readyState!==bx.Installed&&this._readyState!==bx.Loadable)throw new kx;this._connecting=!0;try{const r=yield this.performAuthorization(Object.assign(Object.assign({},e),{domain:null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:window.location.host}));if(!r.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=r.sign_in_result.address;return{account:Object.assign(Object.assign({},null!==(n=r.accounts.find((e=>e.address==i)))&&void 0!==n?n:{address:i}),{publicKey:wk(i)}),signedMessage:wk(r.sign_in_result.signed_message),signature:wk(r.sign_in_result.signature)}}catch(r){throw new Sx(r instanceof Error&&r.message||"Unknown error",r)}finally{this._connecting=!1}}))))}))}}const Sk="SolanaMobileWalletAdapterDefaultAuthorizationCache";function Ek(){let e;try{e=window.localStorage}catch(t){}return{clear(){return bk(this,void 0,void 0,(function*(){if(e)try{e.removeItem(Sk)}catch(t){}}))},get(){return bk(this,void 0,void 0,(function*(){if(e)try{return JSON.parse(e.getItem(Sk))||void 0}catch(t){}}))},set(n){return bk(this,void 0,void 0,(function*(){if(e)try{e.setItem(Sk,JSON.stringify(n))}catch(t){}}))}}}function Ck(e){return bk(this,void 0,void 0,(function*(){"undefined"!==typeof window&&window.location.assign(e.url)}))}const Ak="solana:signAndSendTransaction",Ik="solana:signTransaction",Mk="standard:connect",jk="standard:events";const Tk=function(e){return Mk in e.features&&jk in e.features&&(Ak in e.features||Ik in e.features)},Bk="solana:signMessage",Pk="solana:signIn",Nk="solana:mainnet",Rk="solana:devnet",Lk="solana:testnet",Ok="solana:localnet";const Dk="https://api.mainnet-beta.solana.com";function Uk(e){switch(e){case"processed":case"confirmed":case"finalized":case void 0:return e;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const zk="standard:disconnect";function Fk(e,t){if(e===t)return!0;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap;const Hk=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let a=0;a<t.length;a++)t[a]=255;for(let a=0;a<e.length;a++){const n=e.charAt(a),r=n.charCodeAt(0);if(255!==t[r])throw new TypeError(n+" is ambiguous");t[r]=a}const n=e.length,r=e.charAt(0),i=Math.log(n)/Math.log(256),o=Math.log(256)/Math.log(n);function s(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;let o=0,s=0,a=0;for(;e[o]===r;)s++,o++;const l=(e.length-o)*i+1>>>0,u=new Uint8Array(l);for(;e[o];){let r=t[e.charCodeAt(o)];if(255===r)return;let i=0;for(let e=l-1;(0!==r||i<a)&&-1!==e;e--,i++)r+=n*u[e]>>>0,u[e]=r%256>>>0,r=r/256>>>0;if(0!==r)throw new Error("Non-zero carry");a=i,o++}let c=l-a;for(;c!==l&&0===u[c];)c++;const d=new Uint8Array(s+(l-c));let h=s;for(;c!==l;)d[h++]=u[c++];return d}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";let i=0,s=0,a=0;const l=t.length;for(;a!==l&&0===t[a];)a++,i++;const u=(l-a)*o+1>>>0,c=new Uint8Array(u);for(;a!==l;){let e=t[a],r=0;for(let t=u-1;(0!==e||r<s)&&-1!==t;t--,r++)e+=256*c[t]>>>0,c[t]=e%n>>>0,e=e/n>>>0;if(0!==e)throw new Error("Non-zero carry");s=r,a++}let d=u-s;for(;d!==u&&0===c[d];)d++;let h=r.repeat(i);for(;d<u;++d)h+=e.charAt(c[d]);return h},decodeUnsafe:s,decode:function(e){const t=s(e);if(t)return t;throw new Error("Non-base"+n+" character")}}};const Wk=Hk("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var $k,Kk,qk,Vk,Gk,Jk,Yk,Zk,Xk,Qk,e_,t_,n_,r_,i_,o_,s_,a_,l_=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},u_=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class c_ extends Nx{constructor(e){let{wallet:t}=e;super(),$k.add(this),Kk.set(this,void 0),qk.set(this,void 0),Vk.set(this,void 0),Gk.set(this,void 0),Jk.set(this,void 0),Yk.set(this,void 0),Zk.set(this,void 0),Xk.set(this,"undefined"===typeof window||"undefined"===typeof document?bx.Unsupported:bx.Installed),r_.set(this,(e=>{if("accounts"in e){const e=u_(this,Zk,"f").accounts[0];u_(this,Kk,"f")&&!u_(this,Gk,"f")&&e!==u_(this,Kk,"f")&&(e?u_(this,$k,"m",e_).call(this,e):(this.emit("error",new Ex),u_(this,$k,"m",t_).call(this)))}"features"in e&&u_(this,$k,"m",n_).call(this)})),l_(this,Zk,t,"f"),l_(this,Kk,null,"f"),l_(this,qk,null,"f"),l_(this,Vk,!1,"f"),l_(this,Gk,!1,"f"),l_(this,Jk,u_(this,Zk,"f").features[jk].on("change",u_(this,r_,"f")),"f"),u_(this,$k,"m",n_).call(this)}get name(){return u_(this,Zk,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return u_(this,Zk,"f").icon}get readyState(){return u_(this,Xk,"f")}get publicKey(){return u_(this,qk,"f")}get connecting(){return u_(this,Vk,"f")}get supportedTransactionVersions(){return u_(this,Yk,"f")}get wallet(){return u_(this,Zk,"f")}get standard(){return!0}destroy(){l_(this,Kk,null,"f"),l_(this,qk,null,"f"),l_(this,Vk,!1,"f"),l_(this,Gk,!1,"f");const e=u_(this,Jk,"f");e&&(l_(this,Jk,null,"f"),e())}async autoConnect(){return u_(this,$k,"m",Qk).call(this,{silent:!0})}async connect(){return u_(this,$k,"m",Qk).call(this)}async disconnect(){if(zk in u_(this,Zk,"f").features)try{l_(this,Gk,!0,"f"),await u_(this,Zk,"f").features[zk].disconnect()}catch(e){this.emit("error",new Cx(e?.message,e))}finally{l_(this,Gk,!1,"f")}u_(this,$k,"m",t_).call(this)}async sendTransaction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const i=u_(this,Kk,"f");if(!i)throw new Mx;let o;if(Ak in u_(this,Zk,"f").features)if(i.features.includes(Ak))o=Ak;else{if(!(Ik in u_(this,Zk,"f").features)||!i.features.includes(Ik))throw new Ax;o=Ik}else{if(!(Ik in u_(this,Zk,"f").features))throw new _x;if(!i.features.includes(Ik))throw new Ax;o=Ik}const s=function(e){return e.includes(Dk)?Nk:/\bdevnet\b/i.test(e)?Rk:/\btestnet\b/i.test(e)?Lk:/\blocalhost\b/i.test(e)||/\b127\.0\.0\.1\b/.test(e)?Ok:Nk}(t.rpcEndpoint);if(!i.chains.includes(s))throw new jx;try{const{signers:r,...a}=n;let l;if(Rx(e)?(r?.length&&e.sign(r),l=e.serialize()):(e=await this.prepareTransaction(e,t,a),r?.length&&e.partialSign(...r),l=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),o===Ak){const[e]=await u_(this,Zk,"f").features[Ak].signAndSendTransaction({account:i,chain:s,transaction:l,options:{preflightCommitment:Uk(a.preflightCommitment||t.commitment),skipPreflight:a.skipPreflight,maxRetries:a.maxRetries,minContextSlot:a.minContextSlot}});return Wk.encode(e.signature)}{const[e]=await u_(this,Zk,"f").features[Ik].signTransaction({account:i,chain:s,transaction:l,options:{preflightCommitment:Uk(a.preflightCommitment||t.commitment),minContextSlot:a.minContextSlot}});return await t.sendRawTransaction(e.signedTransaction,{...a,preflightCommitment:Uk(a.preflightCommitment||t.commitment)})}}catch(r){if(r instanceof xx)throw r;throw new jx(r?.message,r)}}catch(r){throw this.emit("error",r),r}}}Kk=new WeakMap,qk=new WeakMap,Vk=new WeakMap,Gk=new WeakMap,Jk=new WeakMap,Yk=new WeakMap,Zk=new WeakMap,Xk=new WeakMap,r_=new WeakMap,$k=new WeakSet,Qk=async function(e){try{if(this.connected||this.connecting)return;if(u_(this,Xk,"f")!==bx.Installed)throw new kx;if(l_(this,Vk,!0,"f"),!u_(this,Zk,"f").accounts.length)try{await u_(this,Zk,"f").features[Mk].connect(e)}catch(t){throw new Sx(t?.message,t)}const n=u_(this,Zk,"f").accounts[0];if(!n)throw new Ax;u_(this,$k,"m",e_).call(this,n)}catch(t){throw this.emit("error",t),t}finally{l_(this,Vk,!1,"f")}},e_=function(e){let t;try{t=new wd(e.address)}catch(n){throw new Ix(n?.message,n)}l_(this,Kk,e,"f"),l_(this,qk,t,"f"),u_(this,$k,"m",n_).call(this),this.emit("connect",t)},t_=function(){l_(this,Kk,null,"f"),l_(this,qk,null,"f"),u_(this,$k,"m",n_).call(this),this.emit("disconnect")},n_=function(){const e=Ak in u_(this,Zk,"f").features?u_(this,Zk,"f").features[Ak].supportedTransactionVersions:u_(this,Zk,"f").features[Ik].supportedTransactionVersions;l_(this,Yk,Fk(e,["legacy"])?null:new Set(e),"f"),Ik in u_(this,Zk,"f").features&&u_(this,Kk,"f")?.features.includes(Ik)?(this.signTransaction=u_(this,$k,"m",i_),this.signAllTransactions=u_(this,$k,"m",o_)):(delete this.signTransaction,delete this.signAllTransactions),Bk in u_(this,Zk,"f").features&&u_(this,Kk,"f")?.features.includes(Bk)?this.signMessage=u_(this,$k,"m",s_):delete this.signMessage,Pk in u_(this,Zk,"f").features?this.signIn=u_(this,$k,"m",a_):delete this.signIn},i_=async function(e){try{const n=u_(this,Kk,"f");if(!n)throw new Mx;if(!(Ik in u_(this,Zk,"f").features))throw new _x;if(!n.features.includes(Ik))throw new Ax;try{const t=(await u_(this,Zk,"f").features[Ik].signTransaction({account:n,transaction:Rx(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Rx(e)?Kd.deserialize(t):$d.from(t)}catch(t){if(t instanceof xx)throw t;throw new Tx(t?.message,t)}}catch(t){throw this.emit("error",t),t}},o_=async function(e){try{const n=u_(this,Kk,"f");if(!n)throw new Mx;if(!(Ik in u_(this,Zk,"f").features))throw new _x;if(!n.features.includes(Ik))throw new Ax;try{const t=await u_(this,Zk,"f").features[Ik].signTransaction(...e.map((e=>({account:n,transaction:Rx(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))));return e.map(((e,n)=>{const r=t[n].signedTransaction;return Rx(e)?Kd.deserialize(r):$d.from(r)}))}catch(t){throw new Tx(t?.message,t)}}catch(t){throw this.emit("error",t),t}},s_=async function(e){try{const n=u_(this,Kk,"f");if(!n)throw new Mx;if(!(Bk in u_(this,Zk,"f").features))throw new _x;if(!n.features.includes(Bk))throw new Ax;try{return(await u_(this,Zk,"f").features[Bk].signMessage({account:n,message:e}))[0].signature}catch(t){throw new Bx(t?.message,t)}}catch(t){throw this.emit("error",t),t}},a_=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(!(Pk in u_(this,Zk,"f").features))throw new _x;let n;try{[n]=await u_(this,Zk,"f").features[Pk].signIn(e)}catch(t){throw new Px(t?.message,t)}if(!n)throw new Px;return u_(this,$k,"m",e_).call(this,n.account),n}catch(t){throw this.emit("error",t),t}};var d_,h_=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},f_=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};let p_;const m_=new Set,g_={};function y_(){if(p_)return p_;if(p_=Object.freeze({register:v_,get:b_,on:w_}),"undefined"===typeof window)return p_;const e=Object.freeze({register:v_});try{window.addEventListener("wallet-standard:register-wallet",(t=>{let{detail:n}=t;return n(e)}))}catch(t){console.error("wallet-standard:register-wallet event listener could not be added\n",t)}try{window.dispatchEvent(new k_(e))}catch(t){console.error("wallet-standard:app-ready event could not be dispatched\n",t)}return p_}function v_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(t=t.filter((e=>!m_.has(e)))).length?(t.forEach((e=>m_.add(e))),g_.register?.forEach((e=>x_((()=>e(...t))))),function(){t.forEach((e=>m_.delete(e))),g_.unregister?.forEach((e=>x_((()=>e(...t)))))}):()=>{}}function b_(){return[...m_]}function w_(e,t){return g_[e]?.push(t)||(g_[e]=[t]),function(){g_[e]=g_[e]?.filter((e=>t!==e))}}function x_(e){try{e()}catch(t){console.error(t)}}class k_ extends Event{constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),d_.set(this,void 0),h_(this,d_,e,"f")}get detail(){return f_(this,d_,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}function __(e){const t=S_((()=>new Set)),{get:n,on:r}=S_((()=>function(){if(p_)return p_;if(p_=y_(),"undefined"===typeof window)return p_;const e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),p_;const{register:t}=p_,n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((e=>x_((()=>e({register:t})))))};try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch(r){return console.error("window.navigator.wallets could not be set"),p_}return n(...e),p_}())),[o,s]=(0,i.useState)((()=>E_(n())));(0,i.useEffect)((()=>{const e=[r("register",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s((e=>[...e,...E_(t)]))})),r("unregister",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s((e=>e.filter((e=>t.some((t=>t===e.wallet))))))}))];return()=>e.forEach((e=>e()))}),[r]);const a=function(e){const t=(0,i.useRef)();return(0,i.useEffect)((()=>{t.current=e})),t.current}(o);return(0,i.useEffect)((()=>{if(!a)return;const e=new Set(o);new Set(a.filter((t=>!e.has(t)))).forEach((e=>e.destroy()))}),[a,o]),(0,i.useEffect)((()=>()=>o.forEach((e=>e.destroy()))),[]),(0,i.useMemo)((()=>[...o,...e.filter((e=>{let{name:n}=e;return!o.some((e=>e.name===n))||(t.has(n)||(t.add(n),console.warn(`${n} was registered as a Standard Wallet. The Wallet Adapter for ${n} can be removed from your app.`)),!1)}))]),[o,e,t])}function S_(e){const t=(0,i.useRef)();return t.current||(t.current={value:e()}),t.current.value}function E_(e){return e.filter(Tk).map((e=>new c_({wallet:e})))}var C_;function A_(e){return e?/devnet/i.test(e)?"devnet":/testnet/i.test(e)?"testnet":"mainnet-beta":"mainnet-beta"}d_=new WeakMap,function(e){e[e.DESKTOP_WEB=0]="DESKTOP_WEB",e[e.MOBILE_WEB=1]="MOBILE_WEB"}(C_||(C_={}));class I_ extends xx{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const M_=[],j_={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){T_("call","select")},connect:()=>Promise.reject(T_("call","connect")),disconnect:()=>Promise.reject(T_("call","disconnect")),sendTransaction:()=>Promise.reject(T_("call","sendTransaction")),signTransaction:()=>Promise.reject(T_("call","signTransaction")),signAllTransactions:()=>Promise.reject(T_("call","signAllTransactions")),signMessage:()=>Promise.reject(T_("call","signMessage")),signIn:()=>Promise.reject(T_("call","signIn"))};function T_(e,t){const n=new Error(`You have tried to ${e} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}Object.defineProperty(j_,"wallets",{get:()=>(T_("read","wallets"),M_)}),Object.defineProperty(j_,"wallet",{get:()=>(T_("read","wallet"),null)}),Object.defineProperty(j_,"publicKey",{get:()=>(T_("read","publicKey"),null)});const B_=(0,i.createContext)(j_);function P_(){return(0,i.useContext)(B_)}function N_(e){let{children:t,wallets:n,adapter:r,isUnloadingRef:o,onAutoConnectRequest:s,onConnectError:a,onError:l,onSelectWallet:u}=e;const c=(0,i.useRef)(!1),[d,h]=(0,i.useState)(!1),f=(0,i.useRef)(!1),[p,m]=(0,i.useState)(!1),[g,y]=(0,i.useState)((()=>r?.publicKey??null)),[v,b]=(0,i.useState)((()=>r?.connected??!1)),w=(0,i.useRef)(l);(0,i.useEffect)((()=>(w.current=l,()=>{w.current=void 0})),[l]);const x=(0,i.useRef)(((e,t)=>(o.current||(w.current?w.current(e,t):(console.error(e,t),e instanceof kx&&"undefined"!==typeof window&&t&&window.open(t.url,"_blank"))),e))),[k,_]=(0,i.useState)((()=>n.map((e=>({adapter:e,readyState:e.readyState}))).filter((e=>{let{readyState:t}=e;return t!==bx.Unsupported}))));(0,i.useEffect)((()=>{function e(e){_((t=>{const n=t.findIndex((e=>{let{adapter:t}=e;return t===this}));if(-1===n)return t;const{adapter:r}=t[n];return[...t.slice(0,n),{adapter:r,readyState:e},...t.slice(n+1)].filter((e=>{let{readyState:t}=e;return t!==bx.Unsupported}))}))}return _((e=>n.map(((t,n)=>{const r=e[n];return r&&r.adapter===t&&r.readyState===t.readyState?r:{adapter:t,readyState:t.readyState}})).filter((e=>{let{readyState:t}=e;return t!==bx.Unsupported})))),n.forEach((t=>t.on("readyStateChange",e,t))),()=>{n.forEach((t=>t.off("readyStateChange",e,t)))}}),[r,n]);const S=(0,i.useMemo)((()=>k.find((e=>e.adapter===r))??null),[r,k]);(0,i.useEffect)((()=>{if(!r)return;const e=e=>{y(e),c.current=!1,h(!1),b(!0),f.current=!1,m(!1)},t=()=>{o.current||(y(null),c.current=!1,h(!1),b(!1),f.current=!1,m(!1))},n=e=>{x.current(e,r)};return r.on("connect",e),r.on("disconnect",t),r.on("error",n),()=>{r.off("connect",e),r.off("disconnect",t),r.off("error",n),t()}}),[r,o]);const E=(0,i.useRef)(!1);(0,i.useEffect)((()=>()=>{E.current=!1}),[r]),(0,i.useEffect)((()=>{E.current||c.current||v||!s||S?.readyState!==bx.Installed&&S?.readyState!==bx.Loadable||(c.current=!0,h(!0),E.current=!0,async function(){try{await s()}catch{a()}finally{h(!1),c.current=!1}}())}),[v,s,a,S]);const C=(0,i.useCallback)((async(e,t,n)=>{if(!r)throw x.current(new I_);if(!v)throw x.current(new Mx,r);return await r.sendTransaction(e,t,n)}),[r,v]),A=(0,i.useMemo)((()=>r&&"signTransaction"in r?async e=>{if(!v)throw x.current(new Mx,r);return await r.signTransaction(e)}:void 0),[r,v]),I=(0,i.useMemo)((()=>r&&"signAllTransactions"in r?async e=>{if(!v)throw x.current(new Mx,r);return await r.signAllTransactions(e)}:void 0),[r,v]),M=(0,i.useMemo)((()=>r&&"signMessage"in r?async e=>{if(!v)throw x.current(new Mx,r);return await r.signMessage(e)}:void 0),[r,v]),j=(0,i.useMemo)((()=>r&&"signIn"in r?async e=>await r.signIn(e):void 0),[r]),T=(0,i.useCallback)((async()=>{if(c.current||f.current||S?.adapter.connected)return;if(!S)throw x.current(new I_);const{adapter:e,readyState:t}=S;if(t!==bx.Installed&&t!==bx.Loadable)throw x.current(new kx,e);c.current=!0,h(!0);try{await e.connect()}catch(n){throw a(),n}finally{h(!1),c.current=!1}}),[a,S]),B=(0,i.useCallback)((async()=>{if(!f.current&&r){f.current=!0,m(!0);try{await r.disconnect()}finally{m(!1),f.current=!1}}}),[r]);return i.createElement(B_.Provider,{value:{autoConnect:!!s,wallets:k,wallet:S,publicKey:g,connected:v,connecting:d,disconnecting:p,select:u,connect:T,disconnect:B,sendTransaction:C,signTransaction:A,signAllTransactions:I,signMessage:M,signIn:j}},t)}let R_;function L_(e){return function(e){let{adapters:t,userAgentString:n}=e;return t.some((e=>e.name!==xk&&e.readyState===bx.Installed))?C_.DESKTOP_WEB:n&&/android/i.test(n)&&!function(e){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)}(n)?C_.MOBILE_WEB:C_.DESKTOP_WEB}({adapters:e,userAgentString:(void 0===R_&&(R_=globalThis.navigator?.userAgent??null),R_)})===C_.MOBILE_WEB}function O_(){const e=globalThis.location;if(e)return`${e.protocol}//${e.host}`}function D_(e){let{children:t,wallets:n,autoConnect:r,localStorageKey:o="walletName",onError:s}=e;const{connection:a}=yx(),l=__(n),u=(0,i.useMemo)((()=>{if(!L_(l))return null;const e=l.find((e=>e.name===xk));return e||new _k({addressSelector:{select(e){return bk(this,void 0,void 0,(function*(){return e[0]}))}},appIdentity:{uri:O_()},authorizationResultCache:Ek(),cluster:A_(a?.rpcEndpoint),onWalletNotFound:Ck})}),[l,a?.rpcEndpoint]),c=(0,i.useMemo)((()=>null==u||-1!==l.indexOf(u)?l:[u,...l]),[l,u]),[d,h]=function(e,t){const n=(0,i.useState)((()=>{try{const t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(n){"undefined"!==typeof window&&console.error(n)}return t})),r=n[0],o=(0,i.useRef)(!0);return(0,i.useEffect)((()=>{if(o.current)o.current=!1;else try{null===r?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(r))}catch(t){"undefined"!==typeof window&&console.error(t)}}),[r,e]),n}(o,L_(l)?xk:null),f=(0,i.useMemo)((()=>c.find((e=>e.name===d))??null),[c,d]),p=(0,i.useCallback)((e=>{d!==e&&(f&&f.name!==xk&&f.disconnect(),h(e))}),[f,h,d]);(0,i.useEffect)((()=>{if(f)return f.on("disconnect",e),()=>{f.off("disconnect",e)};function e(){y.current||d===xk&&L_(l)||h(null)}}),[f,l,h,d]);const m=(0,i.useRef)(!1),g=(0,i.useMemo)((()=>{if(r&&f)return async()=>{(!0===r||await r(f))&&(m.current?await f.connect():await f.autoConnect())}}),[r,f]),y=(0,i.useRef)(!1);(0,i.useEffect)((()=>{if(d!==xk||!L_(l))return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)};function e(){y.current=!0}y.current=!1}),[l,d]);const v=(0,i.useCallback)((()=>{f&&f.name!==xk&&p(null)}),[f,p]),b=(0,i.useCallback)((e=>{m.current=!0,p(e)}),[p]);return i.createElement(N_,{wallets:c,adapter:f,isUnloadingRef:y,onAutoConnectRequest:g,onConnectError:v,onError:s,onSelectWallet:b},t)}var U_;!function(e){e.Mainnet="mainnet-beta",e.Testnet="testnet",e.Devnet="devnet"}(U_||(U_={}));const z_={setVisible(e){console.error(F_("call","setVisible"))},visible:!1};function F_(e,t){return`You have tried to  ${e} "${t}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}Object.defineProperty(z_,"visible",{get:()=>(console.error(F_("read","visible")),!1)});const H_=(0,i.createContext)(z_);function W_(){return(0,i.useContext)(H_)}const $_=e=>{let{id:t,children:n,expanded:r=!1}=e;const o=(0,i.useRef)(null),s=(0,i.useRef)(!0);return(0,i.useLayoutEffect)((()=>{r?(()=>{const e=o.current;e&&requestAnimationFrame((()=>{e.style.height=e.scrollHeight+"px"}))})():(()=>{const e=o.current;e&&requestAnimationFrame((()=>{e.style.height=e.offsetHeight+"px",e.style.overflow="hidden",requestAnimationFrame((()=>{e.style.height="0"}))}))})()}),[r]),(0,i.useLayoutEffect)((()=>{const e=o.current;if(e)return s.current&&(t(),s.current=!1),e.addEventListener("transitionend",n),()=>e.removeEventListener("transitionend",n);function t(){e&&(e.style.overflow=r?"initial":"hidden",r&&(e.style.height="auto"))}function n(n){e&&n.target===e&&"height"===n.propertyName&&t()}}),[r]),i.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:o,role:"region",style:{height:0,transition:s.current?void 0:"height 250ms ease-out"}},n)},K_=e=>i.createElement("button",{className:`wallet-adapter-button ${e.className||""}`,disabled:e.disabled,style:e.style,onClick:e.onClick,tabIndex:e.tabIndex||0,type:"button"},e.startIcon&&i.createElement("i",{className:"wallet-adapter-button-start-icon"},e.startIcon),e.children,e.endIcon&&i.createElement("i",{className:"wallet-adapter-button-end-icon"},e.endIcon)),q_=e=>{let{wallet:t,...n}=e;return t&&i.createElement("img",{src:t.adapter.icon,alt:`${t.adapter.name} icon`,...n})},V_=e=>{let{handleClick:t,tabIndex:n,wallet:r}=e;return i.createElement("li",null,i.createElement(K_,{onClick:t,startIcon:i.createElement(q_,{wallet:r}),tabIndex:n},r.adapter.name,r.readyState===bx.Installed&&i.createElement("span",null,"Detected")))},G_=()=>i.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),i.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),i.createElement("g",{clipPath:"url(#clip0_880_5115)"},i.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),i.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),i.createElement("defs",null,i.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#9945FF"}),i.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),i.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),i.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),i.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),i.createElement("stop",{offset:"1",stopColor:"#00D18C"})),i.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#9945FF"}),i.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),i.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),i.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),i.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),i.createElement("stop",{offset:"1",stopColor:"#00D18C"})),i.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#9945FF"}),i.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),i.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),i.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),i.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),i.createElement("stop",{offset:"1",stopColor:"#00D18C"})),i.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},i.createElement("stop",{stopColor:"#9945FF"}),i.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),i.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),i.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),i.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),i.createElement("stop",{offset:"1",stopColor:"#00D18C"})),i.createElement("clipPath",{id:"clip0_880_5115"},i.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),J_=e=>{let{className:t="",container:n="body"}=e;const r=(0,i.useRef)(null),{wallets:o,select:a}=P_(),{setVisible:l}=W_(),[u,c]=(0,i.useState)(!1),[d,h]=(0,i.useState)(!1),[f,p]=(0,i.useState)(null),[m,g]=(0,i.useMemo)((()=>{const e=[],t=[];for(const n of o)n.readyState===bx.Installed?e.push(n):t.push(n);return e.length?[e,t]:[t,[]]}),[o]),y=(0,i.useCallback)((()=>{h(!1),setTimeout((()=>l(!1)),150)}),[l]),v=(0,i.useCallback)((e=>{e.preventDefault(),y()}),[y]),b=(0,i.useCallback)(((e,t)=>{a(t),v(e)}),[a,v]),w=(0,i.useCallback)((()=>c(!u)),[u]),x=(0,i.useCallback)((e=>{const t=r.current;if(!t)return;const n=t.querySelectorAll("button"),i=n[0],o=n[n.length-1];e.shiftKey?document.activeElement===i&&(o.focus(),e.preventDefault()):document.activeElement===o&&(i.focus(),e.preventDefault())}),[r]);return(0,i.useLayoutEffect)((()=>{const e=e=>{"Escape"===e.key?y():"Tab"===e.key&&x(e)},{overflow:t}=window.getComputedStyle(document.body);return setTimeout((()=>h(!0)),0),document.body.style.overflow="hidden",window.addEventListener("keydown",e,!1),()=>{document.body.style.overflow=t,window.removeEventListener("keydown",e,!1)}}),[y,x]),(0,i.useLayoutEffect)((()=>p(document.querySelector(n))),[n]),f&&(0,s.createPortal)(i.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${d&&"wallet-adapter-modal-fade-in"} ${t}`,ref:r,role:"dialog"},i.createElement("div",{className:"wallet-adapter-modal-container"},i.createElement("div",{className:"wallet-adapter-modal-wrapper"},i.createElement("button",{onClick:v,className:"wallet-adapter-modal-button-close"},i.createElement("svg",{width:"14",height:"14"},i.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),m.length?i.createElement(i.Fragment,null,i.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),i.createElement("ul",{className:"wallet-adapter-modal-list"},m.map((e=>i.createElement(V_,{key:e.adapter.name,handleClick:t=>b(t,e.adapter.name),wallet:e}))),g.length?i.createElement($_,{expanded:u,id:"wallet-adapter-modal-collapse"},g.map((e=>i.createElement(V_,{key:e.adapter.name,handleClick:t=>b(t,e.adapter.name),tabIndex:u?0:-1,wallet:e})))):null),g.length?i.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:w,tabIndex:0},i.createElement("span",null,u?"Less ":"More ","options"),i.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:""+(u?"wallet-adapter-modal-list-more-icon-rotate":"")},i.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):i.createElement(i.Fragment,null,i.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),i.createElement("div",{className:"wallet-adapter-modal-middle"},i.createElement(G_,null)),g.length?i.createElement(i.Fragment,null,i.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:w,tabIndex:0},i.createElement("span",null,u?"Hide ":"Already have a wallet? View ","options"),i.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:""+(u?"wallet-adapter-modal-list-more-icon-rotate":"")},i.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),i.createElement($_,{expanded:u,id:"wallet-adapter-modal-collapse"},i.createElement("ul",{className:"wallet-adapter-modal-list"},g.map((e=>i.createElement(V_,{key:e.adapter.name,handleClick:t=>b(t,e.adapter.name),tabIndex:u?0:-1,wallet:e})))))):null))),i.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:v})),f)},Y_=e=>{let{children:t,...n}=e;const[r,o]=(0,i.useState)(!1);return i.createElement(H_.Provider,{value:{visible:r,setVisible:o}},t,r&&i.createElement(J_,{...n}))},Z_=e=>{let{children:t}=e;const n=U_.Mainnet,r=(0,i.useMemo)((()=>[]),[n]);return(0,It.jsx)(vx,{endpoint:"https://bitter-cosmological-sailboat.solana-mainnet.quiknode.pro/890e5e9d6ddb9aed4634a2efab509228f8f1085a",children:(0,It.jsx)(D_,{wallets:r,autoConnect:!0,children:(0,It.jsx)(Y_,{children:t})})})},X_=()=>(0,It.jsxs)("svg",{className:"xicon",viewBox:"0 0 24 24",children:[(0,It.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),(0,It.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})]}),Q_=e=>{let{onClick:t,style:n={},toggleStyle:r={},children:o}=e;const s=(0,i.useCallback)((e=>{null!=t&&(e.preventDefault(),t())}),[t]),a=(0,i.useRef)(null);return Pw(a,{onTap:window.isHandheld?s:()=>null}),Hm(a,{onLeftClick:window.isHandheld?()=>null:s}),(0,It.jsxs)("div",{ref:a,style:{display:"flex",alignItems:"center",cursor:"pointer",...n},children:[(0,It.jsx)("div",{style:{width:"1.25em",height:"1.25em",borderRadius:"4px",marginRight:"0.5em",...r}}),o]})},eS=e=>{var t;let{connId:n,user:r,close:o,ms:s,...a}=e;const{currentChannel:l}=(0,i.useContext)(Yw),{hsl:u}=At(),c=u(null!==(t=r.color)&&void 0!==t?t:yt(r.userId)),d=(0,i.useRef)(null);et(d,"--user-hue",String(r.color));(0,i.useCallback)((()=>{navigator.clipboard.writeText(r.name)}),[r.name]);const h=(0,i.useCallback)((()=>{navigator.clipboard.writeText(r.userId)}),[r.userId]),f=(0,i.useCallback)((()=>{navigator.clipboard.writeText(r.solAddress)}),[r.solAddress]),{canAssignRole:p,canKick:m,kick:g,canBan:y,canMute:v,banByConnId:b,muteByConnId:w}=hs({room:l,connId:n,userId:r.userId,name:r.name}),x=(0,i.useCallback)((()=>{b({connId:n})}),[b,n]),k=(0,i.useCallback)((()=>{w({connId:n})}),[w,n]),_=tm(l),S=(()=>{const{modes:e}=(0,i.useContext)(Rw);return(0,i.useCallback)(((t,n,r)=>{if(null!=t)return null!=(e.get(t)||[]).find((e=>e.mode===n&&r.includes(e.arg)))}),[e])})(),E=(0,i.useCallback)((e=>S(l,e,[r.userId])),[l,S,r.userId]),C=(0,i.useMemo)((()=>[{can:p("a"),enabled:E("a"),mode:"a",icon:"&",text:on.a},{can:p("o"),enabled:E("o"),mode:"o",icon:"@",text:on.o},{can:p("h"),enabled:E("h"),mode:"h",icon:"%",text:on.h},{can:p("v"),enabled:E("v"),mode:"v",icon:"+",text:on.v},{can:p("z"),enabled:E("z"),mode:"z",icon:"",text:on.z}]),[p,E]),A=Bp(r.solAddress),I=(0,i.useRef)(null),M=(0,i.useCallback)((()=>{var e;null===(e=window.open(`https://my.meowspace.lol/${r.solAddress}`,"_blank"))||void 0===e||e.focus()}),[r.solAddress]);Hm(I,{onLeftClick:()=>M()}),Pw(I,{onTap:()=>M()});const j=(0,i.useRef)(null),T=(0,i.useCallback)((()=>{var e;null!=A&&"loading"!==A&&"not_found"!==A&&(null===(e=window.open(`https://x.com/${A.twitter}`,"_blank"))||void 0===e||e.focus())}),[A]);return Hm(j,{onLeftClick:()=>T()}),Pw(j,{onTap:()=>T()}),(0,It.jsxs)("div",{className:"ActionMenu",...a,ref:d,children:["loading"===A&&(0,It.jsx)(nS,{children:"Loading MeowSpace profile..."}),"not_found"===A&&(0,It.jsx)(nS,{children:"No MeowSpace profile found."}),null!=A&&"loading"!==A&&"not_found"!==A&&(0,It.jsx)(nS,{children:(0,It.jsxs)("div",{className:"info",children:[(0,It.jsxs)("div",{style:{display:"flex",flexFlow:"row wrap",alignItems:"start"},children:[A.picture&&(0,It.jsx)("img",{src:A.picture,alt:"Profile",style:{width:"64px",height:"64px",marginRight:"16px",display:"inline-block"}}),(0,It.jsxs)("div",{children:[A.name&&(0,It.jsx)("div",{style:{fontWeight:"bold",fontSize:"18px"},children:A.name}),A.tagline&&(0,It.jsx)("div",{style:{color:"var(--sub)",fontStyle:"italic",wordBreak:"break-word"},children:A.tagline})]})]}),A.bio&&(0,It.jsx)("div",{style:{marginTop:"8px",fontSize:"14px",wordBreak:"break-word"},children:(0,It.jsx)("span",{className:"text",children:A.bio})}),A.twitter&&(0,It.jsxs)("div",{style:{marginTop:"8px",fontSize:"14px",wordBreak:"break-word"},children:[(0,It.jsxs)("span",{ref:j,style:{color:"var(--link)",textDecoration:"underline",cursor:"pointer"},children:["@",A.twitter]})," ","on Twitter/X"]}),(0,It.jsxs)("div",{style:{color:"var(--sub)",marginTop:"8px"},children:[(0,It.jsx)("div",{children:"Solana address:"}),(0,It.jsx)("div",{style:{fontSize:"10px",wordBreak:"break-all"},children:r.solAddress})]}),(0,It.jsx)("div",{children:(0,It.jsx)("span",{ref:I,style:{color:"var(--link)",textDecoration:"underline",cursor:"pointer"},children:"Visit profile"})})]})}),A&&(0,It.jsx)(tS,{}),(0,It.jsx)(nS,{children:(0,It.jsxs)("div",{className:"info",children:[(0,It.jsx)("div",{className:"name",style:{color:c},children:r.name}),(0,It.jsxs)("div",{className:"id",style:{fontSize:"10px"},children:["ID: ",r.userId]}),r.status&&(0,It.jsxs)("div",{className:"status",children:[(0,It.jsx)("span",{className:"label",children:"Status:"})," ",(0,It.jsx)("span",{className:"text",style:{color:c},children:r.status})]})]})}),(0,It.jsx)(tS,{}),r.solAddress&&(0,It.jsxs)(nS,{onClick:()=>{o(),setTimeout(f,s)},children:[(0,It.jsx)(rS,{children:(0,It.jsx)("span",{className:"icon-key"})}),(0,It.jsx)(iS,{children:"Copy Solana address"})]}),(0,It.jsxs)(nS,{onClick:()=>{o(),setTimeout(h,s)},children:[(0,It.jsx)(rS,{children:(0,It.jsx)("span",{className:"icon-user"})}),(0,It.jsx)(iS,{children:"Copy user id"})]}),null!=C.find((e=>e.can))&&(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(tS,{}),(0,It.jsx)(nS,{style:{color:"var(--sub)"},children:"Roles"}),C.filter((e=>e.can)).map((e=>(0,It.jsx)(nS,{children:(0,It.jsx)(Q_,{onClick:()=>{_(e.mode,r.userId,!e.enabled)},toggleStyle:{border:e.enabled?"1px solid var(--accent)":"1px solid var(--border)",background:e.enabled?"var(--accent)":"none"},children:(0,It.jsxs)(iS,{children:[e.icon.length>0&&(0,It.jsx)("span",{style:{color:"var(--sub)"},children:e.icon})," ",e.text]})})},e.mode+e.enabled)))]}),(m||y||v)&&(0,It.jsx)(tS,{}),m&&(0,It.jsxs)(nS,{onClick:g,style:{color:"hsl(0, 80%, 65%)"},children:[(0,It.jsx)(rS,{children:(0,It.jsx)("span",{className:"icon-logout",style:{transform:"translateX(-2px)"}})}),(0,It.jsx)(iS,{children:"Kick"})]}),y&&(0,It.jsxs)(nS,{onClick:x,style:{color:"hsl(0, 80%, 65%)"},children:[(0,It.jsx)(rS,{children:(0,It.jsx)("span",{className:"icon-ban"})}),(0,It.jsx)(iS,{children:"Ban"})]}),v&&(0,It.jsxs)(nS,{onClick:k,style:{color:"hsl(0, 80%, 65%)"},children:[(0,It.jsx)(rS,{children:(0,It.jsx)("span",{className:"icon-volume-off"})}),(0,It.jsx)(iS,{children:"Mute"})]})]})},tS=e=>{let{...t}=e;return(0,It.jsx)("div",{className:"hline",...t})},nS=e=>{let{onClick:t,...n}=e;const r=(0,i.useCallback)((e=>{null!=t&&(e.preventDefault(),t())}),[t]),o=(0,i.useRef)(null),s=Pw(o,{onTap:window.isHandheld?r:()=>null}),a=Hm(o,{onLeftClick:window.isHandheld?()=>null:r});return(0,It.jsx)("div",{ref:o,className:"row"+(null!=t&&a.isHovering?" hover":"")+(null!=t&&s.isTouching?" touch":""),...n})},rS=e=>{let{...t}=e;return(0,It.jsx)("span",{className:"icon",...t})},iS=e=>{let{...t}=e;return(0,It.jsx)("span",{className:"text",...t})},oS=e=>{let{connId:t,user:n,onClose:r,pos:o}=e;const{windowWidth:s,windowHeight:a}=(0,i.useContext)(Rw),l=(0,i.useRef)(null);Hm(l,{onLeftClick:r,onRightClick:e=>e.stopPropagation()});const u=(0,i.useCallback)((()=>{r()}),[r]);return Km(u),(0,i.useEffect)((()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&u()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[u]),(0,i.useEffect)((()=>{if(null==l.current)return;const{x:e,y:t}=o,{width:n,height:r}=l.current.getBoundingClientRect();let i=e,s=t;i-=n,t+r>a&&(s-=r);l.current.style.left=i.toString()+"px",l.current.style.top=Math.max(4,s).toString()+"px",l.current.style.maxHeight=a-8+"px",l.current.style.overflow="scroll"}),[l,o,s,a]),(0,It.jsx)("div",{className:"MenuDesktop scrollbar",ref:l,children:(0,It.jsx)(eS,{connId:t,user:n,close:u,ms:0})})},sS=e=>{let{children:t,onClose:n,setCloseModal:r,ms:o=200}=e;const[s,a]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=setTimeout((()=>a(!0)),0);return()=>clearTimeout(e)}),[]);const l=(0,i.useCallback)((()=>{a(!1);const e=setTimeout(n,o);return()=>clearTimeout(e)}),[n,o]);(0,i.useEffect)((()=>{r((()=>l))}),[r,l]);const u=(0,i.useRef)(null);return Pw(u,{onTap:l}),(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)("div",{ref:u,className:"BottomModalOverlay",style:{...aS,transition:`${o}ms opacity ease`,opacity:s?"1":"0"}}),(0,It.jsx)("div",{className:"Modal BottomModal",style:{...lS,transition:`${o}ms transform ease`,transform:s?"translateY(0%)":"translateY(100%)"},children:t})]})},aS={position:"absolute",height:"100%",width:"100%",left:"0",top:"0",zIndex:"999"},lS={position:"absolute",left:"0",bottom:"0",zIndex:"1000",width:"100%",overflow:"scroll"},uS=e=>{let{connId:t,user:n,onClose:r}=e;const[o,s]=(0,i.useState)((()=>()=>{}));return(0,It.jsx)("div",{className:"MenuMobile",children:(0,It.jsx)(sS,{onClose:r,setCloseModal:s,ms:150,children:(0,It.jsx)(eS,{connId:t,user:n,close:o,ms:150})})})},cS=e=>{let{connId:t,user:n}=e;const{currentChannel:r}=(0,i.useContext)(Yw),{name:o,userId:s,color:a,status:l}=n,u=(ht(s),Zp(r,s)),{hslValues:c}=At(),{h:d,s:h,l:f}=c(null!==a&&void 0!==a?a:yt(s)),p=`hsl(${d}, ${h}, ${f})`,m=`hsla(${d}, ${h}, ${f}, 0.75)`,[g,y]=(0,i.useState)(null),v=(0,i.useRef)(null),b=Hm(v,{onLeftClick:e=>y({x:e.pageX,y:e.pageY}),onRightClick:e=>y({x:e.pageX,y:e.pageY})}),w=Pw(v,{onTap:()=>y({x:0,y:0})});return et(v,"--user-hue",String(null!==a&&void 0!==a?a:yt(s))),(0,It.jsxs)(It.Fragment,{children:[null!=g&&(window.isHandheld?(0,It.jsx)(uS,{connId:t,user:n,onClose:()=>y(null)}):(0,It.jsx)(oS,{connId:t,user:n,onClose:()=>y(null),pos:g})),(0,It.jsxs)("div",{className:"UserListRow"+(b.isHovering?" hover":"")+(w.isTouching?" touch":""),ref:v,children:[(0,It.jsxs)("div",{className:"r1",style:{color:p},children:[u&&null!=Qt[u]&&(0,It.jsx)("span",{className:"roleSymbol",children:Qt[u]}),(0,It.jsx)("span",{className:"name",children:o})]}),n.solAddress?(0,It.jsx)("div",{className:"r2",style:{color:m},children:(0,It.jsx)("span",{className:"id",children:at(n.solAddress)})}):(0,It.jsx)("div",{className:"r2",children:(0,It.jsx)("span",{className:"id",children:"\xa0"})})]})]})},dS=()=>{const{connections:e,users:t,modes:n}=(0,i.useContext)(Rw),{currentChannel:r}=(0,i.useContext)(Yw),o=(0,i.useMemo)((()=>{var e;if(null==r)return{};if(!n.has(r))return{};const t={},i=(null!==(e=n.get(r))&&void 0!==e?e:[]).filter((e=>null!=Qt[e.mode])).sort(sn);for(const{mode:n,arg:r}of i)st(t,r)||(t[r]=n);return t}),[r,n]),s=(0,i.useMemo)((()=>null==o||null==r?[]:Object.entries(e).filter((e=>{var n;let[i]=e;return null===(n=t[r])||void 0===n?void 0:n.includes(i)})).sort(((e,t)=>{var n,r;let[i,s]=e,[a,l]=t;const u=null!==(n=en[o[s.userId]])&&void 0!==n?n:0,c=(null!==(r=en[o[l.userId]])&&void 0!==r?r:0)-u,d=s.name.localeCompare(l.name);return c||d}))),[e,r,t,o]);return(0,It.jsx)("div",{className:"UserList scrollbar",children:s.map((e=>{let[t,n]=e;return(0,It.jsx)(cS,{connId:t,user:n},t)}))})},hS=e=>{let{showX:t=!1}=e;const{currentChannel:n,customRooms:r}=(0,i.useContext)(Yw),o=(0,i.useMemo)((()=>r.find((e=>e.id===n))),[r,n]),[s,a]=(0,i.useState)(0),l=(0,i.useRef)(null);Hm(l,{});return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(fS,{showX:t}),(0,It.jsx)("div",{className:"UserbarContent",style:{backgroundImage:o?`url(${o.userSidebarImageUrl})`:"none"},children:(0,It.jsx)(dS,{})})]})},fS=e=>{let{showX:t=!1}=e;const{currentChannel:n}=(0,i.useContext)(Yw),{slide:r}=(0,i.useContext)(dx),o=Gt(n);return(0,It.jsxs)("div",{className:"UserbarHeader",children:[t&&(0,It.jsx)("div",{className:"CloseButton UserbarHeader-placeholder",children:(0,It.jsx)(X_,{})}),n&&(0,It.jsxs)("div",{className:"userCount",children:[0===o?"No":o," cat",1!==o?"s":""," online"]}),t&&(0,It.jsx)("div",{className:"CloseButton",onClick:r.reset,children:(0,It.jsx)(X_,{})})]})},pS=()=>{const{settings:{showNotifPrompt:e,setShowNotifPrompt:t}}=(0,i.useContext)(nx),{perm:n,setPerm:r}=(0,i.useContext)(Rw);if(!("Notification"in window))return(0,It.jsx)(It.Fragment,{});if(!e)return(0,It.jsx)(It.Fragment,{});if("granted"===n||"denied"===n)return(0,It.jsx)(It.Fragment,{});return(0,It.jsxs)("div",{className:"NotificationPrompt",children:[(0,It.jsx)("span",{className:"NotificationPromptQuestion",children:"Enable browser notifications?"}),(0,It.jsx)("span",{className:"NotificationPromptOption NotificationPromptYes",onClick:async()=>{r(await Notification.requestPermission())},children:"Yes"})," ",(0,It.jsx)("span",{className:"NotificationPromptOption NotificationPromptNo",onClick:()=>{t(!1)},children:"No"})]})},mS=e=>{let{alwaysOpen:t}=e;const{pin:n,paused:r,channel:o}=(0,i.useContext)(Dw);return(0,It.jsx)("div",{className:"apwrapper"+(n?" pin":"")+(r?" paused":"")+(t?" alwaysOpen":""),children:(0,It.jsx)("div",{className:"audioPlayer",children:(0,It.jsxs)("div",{className:"apinner",children:[(0,It.jsxs)("div",{className:"aprow mainrow",children:[(0,It.jsx)(yS,{}),(0,It.jsx)("div",{className:"audio-controls",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)(wS,{}),(0,It.jsx)(bS,{})]})})]}),(0,It.jsxs)("div",{className:"aprow",children:[(0,It.jsx)("div",{className:"apinfo",children:(0,It.jsxs)("span",{children:["Channel: ",(0,It.jsx)("b",{children:null===o||void 0===o?void 0:o.fullName})]})}),(0,It.jsx)("div",{className:"audio-controls",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)(kS,{}),(0,It.jsx)(xS,{})]})})]}),(0,It.jsxs)("div",{className:"aprow",children:[(0,It.jsx)("div",{className:"apinfo",children:(0,It.jsxs)("span",{children:["Station: ",(0,It.jsx)("b",{children:null===o||void 0===o?void 0:o.station})]})}),(0,It.jsx)("div",{className:"audio-controls",children:(0,It.jsxs)("div",{className:"row",children:[(0,It.jsx)(SS,{}),(0,It.jsx)(_S,{})]})})]})]})})})},gS=e=>{let{icon:t,children:n,className:r,...i}=e;return(0,It.jsx)("div",{className:"audio-button"+(r?" "+r:""),...i,children:null!==n&&void 0!==n?n:(0,It.jsx)("span",{className:`icon-${t}`})})},yS=()=>{const{paused:e,nowPlaying:t,loadingAudio:n}=(0,i.useContext)(Dw),r=(0,i.useMemo)((()=>null==t?null:(0,It.jsxs)("span",{className:"scrollText",children:[t,"\xa0\xa0|\xa0\xa0"]})),[t]);return e?(0,It.jsx)("div",{className:"information",style:{paddingLeft:"8px"},children:(0,It.jsx)("div",{className:"scrollTextWrapper",children:"The radio is paused."})}):null==r?(0,It.jsx)("div",{className:"information",style:{paddingLeft:"8px"},children:(0,It.jsx)("div",{className:"scrollTextWrapper",children:"Loading info..."})}):n?(0,It.jsx)("div",{className:"information",style:{paddingLeft:"8px"},children:(0,It.jsx)("div",{className:"scrollTextWrapper",children:"Loading music..."})}):(0,It.jsx)("div",{className:"information",children:(0,It.jsxs)("div",{className:"scrollTextWrapper",children:[r,r,r,r,r]})})},vS=()=>(0,It.jsxs)("div",{className:"equaliser-container",children:[(0,It.jsx)("ol",{className:"equaliser-column",children:(0,It.jsx)("li",{className:"colour-bar"})}),(0,It.jsx)("ol",{className:"equaliser-column",children:(0,It.jsx)("li",{className:"colour-bar"})}),(0,It.jsx)("ol",{className:"equaliser-column",children:(0,It.jsx)("li",{className:"colour-bar"})}),(0,It.jsx)("ol",{className:"equaliser-column",children:(0,It.jsx)("li",{className:"colour-bar"})}),(0,It.jsx)("ol",{className:"equaliser-column",children:(0,It.jsx)("li",{className:"colour-bar"})})]}),bS=()=>(0,It.jsx)(gS,{className:"music-button",children:(0,It.jsx)(vS,{})}),wS=()=>{const{audio:e,loadingAudio:t,paused:n,setPaused:r}=(0,i.useContext)(Dw);return(0,It.jsx)(gS,{className:"play-button",onClick:()=>{null!=e&&(e.paused?(e.play(),r(!1)):(e.pause(),r(!0)))},children:t?(0,It.jsx)("span",{className:"icon-reload"}):n?(0,It.jsx)("span",{className:"icon-control-play"}):(0,It.jsx)("span",{className:"icon-control-pause"})})},xS=()=>{const{setId:e}=(0,i.useContext)(Dw);return(0,It.jsx)(gS,{className:"next-button",icon:"control-end",onClick:()=>{e((e=>{const t=(Ow.findIndex((t=>t.id===e))+1)%Ow.length;return Ow[t].id}))}})},kS=()=>{const{setId:e}=(0,i.useContext)(Dw);return(0,It.jsx)(gS,{className:"prev-button",icon:"control-start",onClick:()=>{e((e=>{const t=Ow.findIndex((t=>t.id===e)),n=Ow.length;return Ow[((t-1)%n+n)%n].id}))}})},_S=()=>{const{audio:e}=(0,i.useContext)(Dw);return(0,It.jsx)(gS,{className:"vol-up-button",icon:"volume-2",onClick:()=>{null!=e&&(e.volume=Math.min(e.volume+.2,1))}})},SS=()=>{const{audio:e}=(0,i.useContext)(Dw);return(0,It.jsx)(gS,{className:"vol-down-button",icon:"volume-1",onClick:()=>{null!=e&&(e.volume=Math.max(e.volume-.2,0))}})},ES=()=>{const{raidData:e}=(0,i.useContext)(Rw),{currentChannel:t,customRooms:n}=(0,i.useContext)(Yw),r=(0,i.useMemo)((()=>n.find((e=>e.id===t))),[n,t]),o=(0,i.useMemo)((()=>{if(null!=r)return r.tokens.find((e=>"spl"===e.kind))}),[r]);Vt(t),jn(t)("t"),jn(t)("k"),jn(t)("m"),jn(t)("i"),jn(t)("s"),jn(t)("S"),(0,i.useRef)(null);return null==t?(0,It.jsx)("div",{className:"RoomHeader",children:(0,It.jsx)("span",{className:"RoomHeaderName",children:"..."})}):(0,It.jsxs)("div",{className:"RoomHeader",children:[(0,It.jsx)("div",{className:"RoomHeaderName",children:(0,It.jsxs)("a",{style:{display:"inline-block",textDecoration:"none",borderRadius:"8px",padding:"4px 8px",fontWeight:"500"},className:"BuyButton",href:`https://jup.ag/swap/SOL-${o?o.address:"CRQdQmb9TDmG9FFTPEL9gqDvfyF6HxGaHwiq5eybpump"}`,rel:"noopener noreferrer nofollow",target:"_blank",children:["Buy $",o?o.ticker:"MSPC"]})}),(0,It.jsx)("div",{className:"RoomHeaderName",children:(0,It.jsx)("a",{style:{display:"inline-block",textDecoration:"none",borderRadius:"8px",padding:"4px 8px",fontWeight:"500"},className:"ProfilesButton",href:"https://my.meowspace.lol",rel:"noopener noreferrer nofollow",target:"_blank",children:"MSPC Profiles"})}),e&&(0,It.jsx)("div",{className:"RoomHeaderName",children:(0,It.jsx)("a",{className:"RaidButton"+(e.flash?" flash":""),style:{display:"inline-block",textDecoration:"none",borderRadius:"8px",padding:"4px 8px",fontWeight:"500"},href:e.url,rel:"noopener noreferrer nofollow",target:"_blank",children:e.text})})]})},CS=e=>{let{on:t,onClick:n}=e;return(0,It.jsx)("div",{className:"SidebarToggle ToggleButton"+(t?" toggle-on":" toggle-off"),style:{flex:"0 0 auto"},onClick:n,children:(0,It.jsx)("span",{className:"icon-menu"})})},AS=e=>{let{on:t,onClick:n}=e;return(0,It.jsx)("div",{className:"UserSidebarToggle ToggleButton"+(t?" toggle-on":" toggle-off"),onClick:n,children:(0,It.jsx)("span",{className:"icon-people"})})},IS=()=>{const{perm:e,setPerm:t}=(0,i.useContext)(Rw),{currentChannel:n}=(0,i.useContext)(Yw),{getNotif:r,toggleNotif:o}=mn(),s=(0,i.useCallback)((e=>null!=n&&r(n)===e),[n,r]),a=(0,i.useMemo)((()=>s("mentions")),[s]),l=(0,i.useMemo)((()=>s("off")),[s]),u=(0,i.useCallback)((async()=>{"granted"===e?null!=n&&o(n):t(await Notification.requestPermission())}),[e,t,o,n]);return(0,It.jsx)("div",{className:"ToggleButton NotificationToggle",style:{transform:"translate(-0px, 1.5px)"},onClick:u,children:(0,It.jsxs)("span",{className:"icon-bell",style:{position:"relative"},children:[l&&(0,It.jsx)("span",{style:MS,children:"\u2715"}),a&&(0,It.jsx)("span",{style:jS,children:"@"})]})})},MS={fontSize:"10px",position:"absolute",right:"-6px",top:"-4px"},jS={fontSize:"12px",position:"absolute",right:"-6px",top:"-4px",fontFamily:"var(--font-mono)"},TS=e=>{let{...t}=e;return(0,It.jsx)("span",{className:"ChannelButtons",...t})},BS=e=>{let{cid:t,cname:n,onClose:r,canEditSettings:o}=e;const{socket:s,setShowChannelSettings:a}=(0,i.useContext)(Rw),l=null!=jn(t)("S"),u=(0,i.useCallback)((()=>{a(t)}),[a,t]),c=(0,i.useCallback)((()=>{null!=s&&s.emit(Wt.LeaveChannel,{cid:t})}),[s,t]),[d,h]=(0,i.useState)((()=>()=>{}));return(0,It.jsxs)(sS,{onClose:r,setCloseModal:h,ms:150,children:[(0,It.jsx)(NS,{children:(0,It.jsxs)("span",{style:{margin:"4px 0",height:"20px",fontSize:"20px"},children:[l?Rt:Nt," ",n]})}),(0,It.jsx)(PS,{}),o&&(0,It.jsxs)(NS,{onClick:()=>{d(),setTimeout(u,150)},children:[(0,It.jsx)(OS,{}),(0,It.jsx)(RS,{children:"Edit channel"})]}),(0,It.jsxs)(NS,{onClick:()=>{d(),setTimeout(c,150)},children:[(0,It.jsx)(DS,{}),(0,It.jsx)(RS,{children:"Leave channel"})]})]})},PS=()=>(0,It.jsx)("div",{style:{margin:"4px 2px",borderBottom:"1px solid var(--muted)"}}),NS=e=>{let{children:t,onClick:n}=e;const r=null!=n,o=(0,i.useRef)(null),s=Pw(o,{onTap:r?n:()=>{}});return(0,It.jsx)("div",{ref:o,style:{display:"flex",flexFlow:"row nowrap",justifyContent:"flex-start",alignItems:"center",padding:window.isHandheld?"8px 8px":"4px 8px",borderRadius:"2px",...s.isTouching?{background:"var(--bg-hover)"}:{}},children:t})},RS=e=>{let{children:t}=e;return(0,It.jsx)("span",{children:t})},LS=e=>{let{children:t}=e;return(0,It.jsx)("span",{style:{flex:"0 0 16px",display:"flex",alignItems:"center",marginRight:"10px"},children:t})},OS=()=>(0,It.jsx)(LS,{children:(0,It.jsx)("span",{className:"icon-settings"})}),DS=()=>(0,It.jsx)(LS,{children:(0,It.jsx)("div",{className:"ChannelButton",children:(0,It.jsx)(X_,{})})}),US=e=>{let{cid:t}=e;const n=Gt(t);return(0,It.jsx)("span",{className:"UserCount",children:n})},zS=e=>{const{lastSeen:t,lastRead:n}=(0,i.useContext)(Yw);return(0,i.useMemo)((()=>t[e]!==n[e]),[t,n,e])},FS=e=>{let{channel:t,childHasUnread:n=!1}=e;const r=zS(t);return(0,It.jsx)("span",{className:"UnreadDot"+(r||n?" visible":"")})},HS=e=>{let{cid:t,cname:n,isJoined:r,showSpaceUnreadDot:i}=e;const o=null!=jn(t)("S"),s=zS(t);return(0,It.jsxs)("span",{className:"ChannelName"+(s?" hasUnread":""),children:[o&&i||s?(0,It.jsx)(FS,{channel:t,childHasUnread:i}):o?(0,It.jsx)("span",{className:"spaceSymbol",children:Rt}):(0,It.jsx)("span",{className:"roomHash",children:"#"}),(0,It.jsx)("span",{className:"roomName",children:n}),r&&(0,It.jsx)(US,{cid:t})]})},WS=e=>{var t;let{cid:n,cname:r,arrow:o,showSpaceUnreadDot:s=!1}=e;const{isMobile:a,userData:l}=(0,i.useContext)(Rw),{channels:u,currentChannel:c}=(0,i.useContext)(Yw),{slide:{reset:d}}=(0,i.useContext)(dx),h=(0,i.useMemo)((()=>u.includes(n)),[u,n]),f=Zp(n,null!==(t=null===l||void 0===l?void 0:l.userId)&&void 0!==t?t:""),p=(0,i.useMemo)((()=>(f?en[f]:0)>=en.o),[f]),m=Vt(n),g=fn(),{currentInputRef:y}=Sn(),v=(0,i.useCallback)((()=>{var e;g({cid:n,cname:void 0}),a&&d(),!a&&(null===y||void 0===y||null===(e=y.current)||void 0===e||e.focus())}),[g,n,a,d,y]),[b,w]=(0,i.useState)(!1),x=(0,i.useRef)(null),k=Hm(x,{onLeftClick:v}),_=((e,t)=>{let{onTap:n,onLongPress:r,ms:o=300}=t;const[s,a]=(0,i.useState)(!1),l=(0,i.useRef)(0),u=(0,i.useRef)(!1),c=(0,i.useCallback)((()=>{clearTimeout(l.current),l.current=0}),[]),d=(0,i.useCallback)((e=>{u.current=!0,c(),a(!0),l.current=window.setTimeout((()=>{r(),c()}),o)}),[c,r,o]),h=(0,i.useCallback)((e=>{c(),a(!1)}),[c]),f=(0,i.useCallback)((e=>{e.preventDefault(),a(!1),l.current&&(c(),n())}),[c,n]),p=(0,i.useCallback)((e=>{c(),a(!1)}),[c]),m=(0,i.useCallback)((e=>{if(u.current)return e.preventDefault(),void(u.current=!1)}),[]);return(0,i.useEffect)((()=>{if(null==e.current)return;const t=e.current;return t.addEventListener("touchstart",d,{passive:!1}),t.addEventListener("touchend",f,{passive:!1}),t.addEventListener("touchmove",h,{passive:!1}),t.addEventListener("touchcancel",p,{passive:!1}),t.addEventListener("click",m,{passive:!1}),()=>{t.removeEventListener("touchstart",d),t.removeEventListener("touchend",f),t.removeEventListener("touchmove",h),t.removeEventListener("touchcancel",p),t.removeEventListener("click",m)}}),[e,d,f,h,p,m]),{isPressing:s}})(x,{onTap:v,onLongPress:()=>w(!0)});return(0,It.jsxs)("div",{className:"ChannelListItem"+(k.isHovering?" hover":"")+(_.isPressing?" touch":"")+(h?"":" unjoined")+(n===c?" current":""),children:[b&&(0,It.jsx)(BS,{cid:n,cname:m,onClose:()=>w(!1),canEditSettings:p}),o,(0,It.jsxs)("span",{className:"inner",ref:x,children:[(0,It.jsx)("span",{className:"ChannelListItemInfo",children:(0,It.jsx)(HS,{cid:n,cname:m,isJoined:h,showSpaceUnreadDot:s})}),!window.isHandheld&&(0,It.jsxs)(TS,{children:[p&&(0,It.jsx)(KS,{channel:n}),p&&(0,It.jsx)($S,{w:8}),(0,It.jsx)(qS,{cid:n,cname:null!==m&&void 0!==m?m:"<unknown room>"})]})]})]})},$S=e=>{let{w:t}=e;return(0,It.jsx)("span",{style:{display:"inline-block",width:`${t}px`}})},KS=e=>{let{channel:t}=e;const{setShowChannelSettings:n}=(0,i.useContext)(Rw),r=(0,i.useRef)(null);return Qe(r,{onClick:()=>{n(t)}}),(0,It.jsx)("span",{className:"ChannelButton",ref:r,children:(0,It.jsx)("span",{className:"icon-settings"})})},qS=e=>{let{cid:t,cname:n}=e;const r=(()=>{const{socket:e}=(0,i.useContext)(Rw),{channels:t,setTrackedChannels:n}=(0,i.useContext)(Yw);return(0,i.useCallback)((r=>{let{cid:i}=r;if(null==e)return;t.includes(i)?e.emit(Wt.LeaveChannel,{cid:i}):n((e=>e.filter((e=>e.id!==i))));const o=Cn[Ht.JoinChannel];null!=o&&o.q.cancel(i)}),[e,t,n])})(),o=(0,i.useRef)(null);return Qe(o,{onClick:(0,i.useCallback)((()=>{window.confirm(`Leave ${n}?`)&&r({cid:t})}),[t,n,r])}),(0,It.jsx)("span",{className:"ChannelButton",ref:o,children:(0,It.jsx)(X_,{})})},VS=e=>{let{open:t,onClick:n}=e;return(0,It.jsx)("div",{className:"Arrow"+(t?" open":""),onClick:n,children:(0,It.jsx)("span",{className:t?"icon-arrow-down":"icon-arrow-right"})})},GS=e=>{let{cid:t,cname:n}=e;const{modes:r}=(0,i.useContext)(Rw),{currentChannel:o,channels:s}=(0,i.useContext)(Yw),a=(0,i.useMemo)((()=>{var e;return(null!==(e=r.get(t))&&void 0!==e?e:[]).filter((e=>"c"===e.mode)).filter((e=>s.includes(e.arg))).map((e=>e.arg))}),[r,t,s]),[l,u]=(0,i.useState)(!0),c=(0,i.useCallback)((()=>{u((e=>!e))}),[]),d=(0,i.useCallback)((()=>{c()}),[c]),h=(0,i.useCallback)((()=>{l||u(!0)}),[l]),{lastSeen:f,lastRead:p}=(0,i.useContext)(Yw),m=(0,i.useCallback)((e=>f[e]!==p[e]),[f,p]),g=(0,i.useMemo)((()=>null!=a.find((e=>m(e)))),[a,m]);return(0,It.jsxs)("div",{className:"Section space",children:[(0,It.jsx)("div",{className:"SpaceHeading",onClick:h,children:(0,It.jsx)(WS,{cid:t,cname:n,arrow:a.length>0?(0,It.jsx)(VS,{onClick:d,open:l}):null,showSpaceUnreadDot:!l&&g})}),(0,It.jsx)("div",{className:"SpaceChildren",children:a.filter((e=>l||e===o)).map((e=>(0,It.jsx)(WS,{cid:e,cname:"NONE"},e)))})]})},JS=()=>{const{isMobile:e,modes:t,showRooms:n,setShowRooms:r}=(0,i.useContext)(Rw),{channels:o,currentChannel:s,lastSeen:a,lastRead:l}=(0,i.useContext)(Yw),u=En(),c=(0,i.useMemo)((()=>u.filter((e=>{var n;return null!=(null!==(n=t.get(e.id))&&void 0!==n?n:[]).find((e=>"S"===e.mode))}))),[u,t]),d=(0,i.useMemo)((()=>c.flatMap((e=>{var n;return(null!==(n=t.get(e.id))&&void 0!==n?n:[]).filter((e=>"c"===e.mode&&null!=u.find((t=>t.id===e.arg)))).map((e=>e.arg))}))),[c,t,u]),h=(0,i.useCallback)((e=>d.includes(e)),[d]),f=(0,i.useMemo)((()=>u.filter((e=>{var n;return null==(null!==(n=t.get(e.id))&&void 0!==n?n:[]).find((e=>"S"===e.mode))})).filter((e=>!h(e.id)))),[u,t,h]),p=(0,i.useCallback)((e=>a[e]!==l[e]),[a,l]),m=((0,i.useMemo)((()=>null!=f.find((e=>p(e.id)))),[f,p]),(()=>{const e=In(),t=(0,i.useCallback)((t=>e(t).sort(((e,t)=>e.name.localeCompare(t.name))).map((e=>e.id))),[e]);return t})()),g=(0,i.useMemo)((()=>m(o)),[m,o]),y=fn(),{currentInputRef:v}=Sn();return((e,t,n)=>{const{chordKeyDown:r,currentTab:o}=(0,i.useContext)(Rw),{currentChannel:s}=(0,i.useContext)(Yw),a=(0,i.useCallback)((i=>{if(r&&o===e){if(i.preventDefault(),"ArrowUp"===i.key){const e=t.length;if(0===e)return;const r=s?t.findIndex((e=>e===s)):0,i=t[((r-1)%e+e)%e];n(i)}if("ArrowDown"===i.key){const e=t.length;if(0===e)return;const r=s?t.findIndex((e=>e===s)):e-1,i=t[((r+1)%e+e)%e];n(i)}}}),[r,o,e,s,t,n]);(0,i.useEffect)((()=>{}),[a])})("rooms",g,(t=>{var n;y({cid:t,cname:void 0}),!e&&(null===v||void 0===v||null===(n=v.current)||void 0===n||n.focus())})),(0,It.jsxs)("div",{className:"rooms",children:[(0,It.jsx)("div",{className:"Section your",children:u.length>0?f.filter((e=>n||e.id===s)).map((e=>(0,It.jsx)(WS,{cid:e.id,cname:e.name},e.id))):(0,It.jsx)(YS,{children:"Press the + to add a channel."})}),c.length>0&&(0,It.jsx)("div",{className:"spaces",children:c.map((e=>(0,It.jsx)(GS,{cid:e.id,cname:e.name},e.id)))})]})},YS=e=>{let{...t}=e;return(0,It.jsx)("div",{className:"NavigatorNotice",...t})},ZS=()=>{const{setNavigatorElement:e,observedItems:t}=(0,i.useContext)(Rw);(()=>{const{setCurrentTab:e}=(0,i.useContext)(Rw),{currentChannel:t,channels:n}=(0,i.useContext)(Yw);(0,i.useEffect)((()=>{null!=t&&n.includes(t)&&e("rooms")}),[t,n,e])})();const n=(0,i.useCallback)((()=>{const e=Object.values(t).filter((e=>e.above)).sort(((e,t)=>t.top-e.top)).at(0);null!=e&&e.target.scrollIntoView({behavior:"smooth",block:"center"})}),[t]),r=(0,i.useCallback)((()=>{const e=Object.values(t).filter((e=>e.below)).sort(((e,t)=>e.top-t.top)).at(0);null!=e&&e.target.scrollIntoView({behavior:"smooth",block:"center"})}),[t]);return(0,It.jsxs)("div",{className:"Navigator",ref:t=>e(t),children:[(0,It.jsx)("div",{className:"new-messages new-messages-above",children:(0,It.jsx)("div",{onClick:n,children:"New messages"})}),(0,It.jsx)("div",{className:"new-messages new-messages-below",children:(0,It.jsx)("div",{onClick:r,children:"New messages"})}),(0,It.jsx)("div",{className:"nav-inner scrollbar",children:(0,It.jsx)(JS,{})})]})},XS=e=>{let{initialHue:t,onSetHue:n}=e;const{setSlideDisabled:r}=(0,i.useContext)(dx),[o,s]=(0,i.useState)(`${t}`),{hsl:a}=At(),l=(0,i.useMemo)((()=>a(parseInt(o))),[a,o]),u=(0,i.useCallback)(((e,t)=>{var n;null!=t&&(null===(n=document.querySelector(".OuterBox"))||void 0===n||n.style.setProperty(e,t))}),[]),c=(0,i.useCallback)((e=>{s(e.target.value)}),[]),d=(0,i.useCallback)((()=>{r(!0)}),[r]),h=(0,i.useCallback)((()=>{n(parseInt(o)),r(!1)}),[n,r,o]);return(0,i.useEffect)((()=>{u("--hue-slider-color",l)}),[u,l]),(0,It.jsx)("input",{className:"HueSlider",type:"range",min:"0",max:"360",value:o,onChange:c,onTouchStart:d,onMouseDown:d,onTouchEnd:h,onMouseUp:h})},QS=e=>{let{icon:t,info:n,customStyle:r={}}=e;return(0,It.jsxs)("div",{className:"AuthInfo",style:{...r},children:[t,n]})},eE=e=>{let{color:t}=e;const{serverId:n,connections:r}=(0,i.useContext)(Rw),o=(0,i.useMemo)((()=>{if(null==n)return null;const e=r[n];return null==e?null:e.name}),[r,n]);return(0,It.jsx)("div",{placeholder:"name",style:{...tE,color:t},children:o})},tE={flex:"1",fontSize:"20px",padding:"0.25em",background:"inherit",color:"inherit",outline:"none",border:"none",borderRadius:"2px",fontFamily:"inherit"},nE=e=>{let{showToggle:t}=e;const{settings:{hue:n,setHue:r,setName:o}}=(0,i.useContext)(nx),{userData:s,setShowSettings:a}=(0,i.useContext)(Rw),l=null===s||void 0===s?void 0:s.userId,u=((0,i.useMemo)((()=>l&&ht(l)),[l]),(0,i.useMemo)((()=>{var e;return null!==(e=null===s||void 0===s?void 0:s.color)&&void 0!==e?e:l?yt(l):null}),[s,l])),{hsl:c}=At(),d=(0,i.useMemo)((()=>null!=u?c(u):"gray"),[c,u]),h=(0,i.useCallback)((e=>{r(e)}),[r]),f=()=>o(Date.now().toString()),p=(0,i.useRef)(null),m=Hm(p,{onLeftClick:()=>f()}),g=Pw(p,{onTap:()=>f()}),y=m.isHovering||g.isTouching;return(0,It.jsxs)("div",{className:"UserSettings",children:[(0,It.jsx)(QS,{icon:(0,It.jsx)("span",{ref:p,className:"icon-refresh",style:{...rE,...y&&iE}}),info:(0,It.jsx)(eE,{color:d})}),(0,It.jsx)(XS,{initialHue:n,onSetHue:h})]})},rE={fontSize:"16px",marginRight:"8px",cursor:"pointer",transform:"translateY(-2px)"},iE={color:"var(--text)"};function oE(e){let{walletIcon:t,walletName:n,...r}=e;return i.createElement(K_,{...r,className:"wallet-adapter-button-trigger",startIcon:t&&n?i.createElement(q_,{wallet:{adapter:{icon:t,name:n}}}):void 0})}function sE(e){let{children:t,labels:n,...r}=e;const{setVisible:o}=W_(),{buttonState:s,onConnect:a,onDisconnect:l,publicKey:u,walletIcon:c,walletName:d}=function(e){let{onSelectWallet:t}=e;const{connect:n,connected:r,connecting:o,disconnect:s,disconnecting:a,publicKey:l,select:u,wallet:c,wallets:d}=P_();let h;h=o?"connecting":r?"connected":a?"disconnecting":c?"has-wallet":"no-wallet";const f=(0,i.useCallback)((()=>{n().catch((()=>{}))}),[n]),p=(0,i.useCallback)((()=>{s().catch((()=>{}))}),[s]);return{buttonState:h,onConnect:"has-wallet"===h?f:void 0,onDisconnect:"disconnecting"!==h&&"no-wallet"!==h?p:void 0,onSelectWallet:(0,i.useCallback)((()=>{t({onSelectWallet:u,wallets:d})}),[t,u,d]),publicKey:l??void 0,walletIcon:c?.adapter.icon,walletName:c?.adapter.name}}({onSelectWallet(){o(!0)}}),[h,f]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),g=(0,i.useRef)(null);(0,i.useEffect)((()=>{const e=e=>{const t=g.current;t&&!t.contains(e.target)&&m(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[]);const y=(0,i.useMemo)((()=>{if(t)return t;if(u){const e=u.toBase58();return e.slice(0,4)+".."+e.slice(-4)}return"connecting"===s||"has-wallet"===s?n[s]:n["no-wallet"]}),[s,t,n,u]);return i.createElement("div",{className:"wallet-adapter-dropdown"},i.createElement(oE,{...r,"aria-expanded":p,style:{pointerEvents:p?"none":"auto",...r.style},onClick:()=>{switch(s){case"no-wallet":o(!0);break;case"has-wallet":a&&a();break;case"connected":m(!0)}},walletIcon:c,walletName:d},y),i.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${p&&"wallet-adapter-dropdown-list-active"}`,ref:g,role:"menu"},u?i.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(u.toBase58()),f(!0),setTimeout((()=>f(!1)),400)},role:"menuitem"},h?n.copied:n["copy-address"]):null,i.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(!0),m(!1)},role:"menuitem"},n["change-wallet"]),l?i.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{l(),m(!1)},role:"menuitem"},n.disconnect):null))}const aE={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function lE(e){return i.createElement(sE,{...e,labels:aE})}const uE=e=>{let{className:t,style:n,disabled:r=!1}=e;return(0,It.jsx)(lE,{className:t,style:n,disabled:r})};function cE(e){return cE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cE(e)}function dE(e){var t=function(e,t){if("object"!==cE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cE(t)?t:String(t)}function hE(e,t,n){return(t=dE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fE{constructor(){hE(this,"t",void 0)}}class pE{constructor(){hE(this,"domain",void 0),hE(this,"address",void 0),hE(this,"statement",void 0),hE(this,"uri",void 0),hE(this,"version",void 0),hE(this,"chainId",void 0),hE(this,"nonce",void 0),hE(this,"issuedAt",void 0),hE(this,"expirationTime",void 0),hE(this,"notBefore",void 0),hE(this,"requestId",void 0),hE(this,"resources",void 0)}}let mE=function(e){return e.EXPIRED_MESSAGE="Expired message.",e.INVALID_DOMAIN="Invalid domain.",e.DOMAIN_MISMATCH="Domain do not match provided domain for verification.",e.NONCE_MISMATCH="Nonce do not match provided nonce for verification.",e.INVALID_ADDRESS="Invalid address.",e.INVALID_URI="URI does not conform to RFC 3986.",e.INVALID_NONCE="Nonce size smaller then 8 characters or is not alphanumeric.",e.NOT_YET_VALID_MESSAGE="Message is not valid yet.",e.INVALID_SIGNATURE="Signature do not match address of the message.",e.INVALID_TIME_FORMAT="Invalid time format.",e.INVALID_MESSAGE_VERSION="Invalid message version.",e.UNABLE_TO_PARSE="Unable to parse the message.",e.MALFORMED_SESSION="Malformed Session",e}({});class gE extends Error{constructor(e,t,n){super(e),hE(this,"type",void 0),hE(this,"expected",void 0),hE(this,"received",void 0),this.type=e,this.expected=t,this.received=n}}var yE=n(889),vE=n.n(yE),bE=n(5699),wE=n.n(bE),xE=n(1916);const kE="(([^:?#]+):)?(([^?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))",_E="([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(.[0-9]+)?(([Zz])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))",SE=`^(?<domain>([^?#]*)) wants you to sign in with your Solana account:\\n(?<address>[a-zA-Z0-9]{32,44})\\n\\n((?<statement>[^\\n]+)\\n)?${`\\nURI: (?<uri>${kE}?)`}\\nVersion: (?<version>1)\\nChain ID: (?<chainId>[0-9]+)\\nNonce: (?<nonce>[a-zA-Z0-9]{8,})${`\\nIssued At: (?<issuedAt>${_E})`}${`(\\nExpiration Time: (?<expirationTime>${_E}))?`}${`(\\nNot Before: (?<notBefore>${_E}))?`}(\\nRequest ID: (?<requestId>[-._~!$&'()*+,;=:@%a-zA-Z0-9]*))?${`(\\nResources:(?<resources>(\\n- ${kE}?)+))?`}$`;class EE{constructor(e){var t,n,r,i,o,s,a,l,u,c,d,h;hE(this,"domain",void 0),hE(this,"address",void 0),hE(this,"statement",void 0),hE(this,"uri",void 0),hE(this,"version",void 0),hE(this,"chainId",void 0),hE(this,"nonce",void 0),hE(this,"issuedAt",void 0),hE(this,"expirationTime",void 0),hE(this,"notBefore",void 0),hE(this,"requestId",void 0),hE(this,"resources",void 0),hE(this,"match",void 0);const f=new RegExp(SE,"g").exec(e);if(!f)throw new Error("Message did not match the regular expression.");this.match=f,this.domain=null===f||void 0===f||null===(t=f.groups)||void 0===t?void 0:t.domain,this.address=null===f||void 0===f||null===(n=f.groups)||void 0===n?void 0:n.address,this.statement=null===f||void 0===f||null===(r=f.groups)||void 0===r?void 0:r.statement,this.uri=null===f||void 0===f||null===(i=f.groups)||void 0===i?void 0:i.uri,this.version=null===f||void 0===f||null===(o=f.groups)||void 0===o?void 0:o.version,this.nonce=null===f||void 0===f||null===(s=f.groups)||void 0===s?void 0:s.nonce,this.chainId=parseInt(null===f||void 0===f||null===(a=f.groups)||void 0===a?void 0:a.chainId),this.issuedAt=null===f||void 0===f||null===(l=f.groups)||void 0===l?void 0:l.issuedAt,this.expirationTime=null===f||void 0===f||null===(u=f.groups)||void 0===u?void 0:u.expirationTime,this.notBefore=null===f||void 0===f||null===(c=f.groups)||void 0===c?void 0:c.notBefore,this.requestId=null===f||void 0===f||null===(d=f.groups)||void 0===d?void 0:d.requestId,this.resources=null===f||void 0===f||null===(h=f.groups)||void 0===h||null===(h=h.resources)||void 0===h?void 0:h.split("\n- ").slice(1)}}const CE=globalThis.crypto||globalThis.msCrypto||{};class AE{constructor(e){if(hE(this,"header",void 0),hE(this,"payload",void 0),hE(this,"signature",void 0),"string"===typeof e){const t=new EE(e);this.payload={domain:t.domain,address:t.address,statement:t.statement,uri:t.uri,version:t.version,nonce:t.nonce,issuedAt:t.issuedAt,expirationTime:t.expirationTime,notBefore:t.notBefore,requestId:t.requestId,chainId:t.chainId,resources:t.resources}}else Object.assign(this,e),"string"===typeof this.payload.chainId&&(this.payload.chainId=parseInt(this.payload.chainId)),this.payload.nonce||(this.payload.nonce=function(e){const t=new Uint8Array(e);return CE.getRandomValues(t),Buffer.from(t)}(8).toString("hex"))}toMessage(){this.validate();const e=`${this.payload.domain} wants you to sign in with your Solana account:`,t=`URI: ${this.payload.uri}`;let n=[e,this.payload.address].join("\n");const r=[t,`Version: ${this.payload.version}`,`Chain ID: ${this.payload.chainId||"1"}`,`Nonce: ${this.payload.nonce}`];if(this.payload.issuedAt&&Date.parse(this.payload.issuedAt),this.payload.issuedAt=this.payload.issuedAt?this.payload.issuedAt:(new Date).toISOString(),r.push(`Issued At: ${this.payload.issuedAt}`),this.payload.expirationTime){const e=`Expiration Time: ${this.payload.expirationTime}`;r.push(e)}this.payload.notBefore&&r.push(`Not Before: ${this.payload.notBefore}`),this.payload.requestId&&r.push(`Request ID: ${this.payload.requestId}`),this.payload.resources&&r.push(["Resources:",...this.payload.resources.map((e=>`- ${e}`))].join("\n"));const i=r.join("\n");return n=[n,this.payload.statement].join("\n\n"),this.payload.statement&&(n+="\n"),[n,i].join("\n")}prepareMessage(){let e;return this.payload.version,e=this.toMessage(),e}validate(){if(0===this.payload.domain.length||!/[^#?]*/.test(this.payload.domain))throw new gE(mE.INVALID_DOMAIN,`${this.payload.domain} to be a valid domain.`);if(!(0,xE.isUri)(this.payload.uri))throw new gE(mE.INVALID_URI,`${this.payload.uri} to be a valid uri.`);if("1"!==this.payload.version)throw new gE(mE.INVALID_MESSAGE_VERSION,"1",this.payload.version);const e=this.payload.nonce.match(/[a-zA-Z0-9]{8,}/);if(!e||this.payload.nonce.length<8||e[0]!==this.payload.nonce)throw new gE(mE.INVALID_NONCE,`Length > 8 (${e.length}). Alphanumeric.`,this.payload.nonce);const t=/([0-9]+)-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])[Tt]([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(([Zz])|([+|-]([01][0-9]|2[0-3]):[0-5][0-9]))/;if(this.payload.issuedAt&&!t.test(this.payload.issuedAt))throw new Error(mE.INVALID_TIME_FORMAT);if(this.payload.expirationTime&&!t.test(this.payload.expirationTime))throw new Error(mE.INVALID_TIME_FORMAT);if(this.payload.notBefore&&!t.test(this.payload.notBefore))throw new Error(mE.INVALID_TIME_FORMAT)}async verify(e){return new Promise((t=>{const{payload:n,signature:r}=e;n.domain&&n.domain!==this.payload.domain&&t({success:!1,data:this,error:new gE(mE.DOMAIN_MISMATCH,n.domain,this.payload.domain)}),n.nonce&&n.nonce!==this.payload.nonce&&t({success:!1,data:this,error:new gE(mE.NONCE_MISMATCH,n.nonce,this.payload.nonce)});const i=new Date;if(this.payload.expirationTime){const e=new Date(this.payload.expirationTime);i.getTime()>=e.getTime()&&t({success:!1,data:this,error:new gE(mE.EXPIRED_MESSAGE,`${i.toISOString()} < ${e.toISOString()}`,`${i.toISOString()} >= ${e.toISOString()}`)})}if(this.payload.notBefore){const e=new Date(this.payload.notBefore);i.getTime()<e.getTime()&&t({success:!1,data:this,error:new gE(mE.EXPIRED_MESSAGE,`${i.toISOString()} >= ${e.toISOString()}`,`${i.toISOString()} < ${e.toISOString()}`)})}const o=this.prepareMessage(),s=(new TextEncoder).encode(o);vE().sign.detached.verify(s,wE().decode(r.s),wE().decode(n.address))||t({success:!1,data:this,error:new gE(mE.INVALID_SIGNATURE,"Signature verfication failed")}),t({success:!0,data:this})}))}}const IE=e=>{let{style:t={},hoverStyle:n={},className:r="",...i}=e;const o=St({});return(0,It.jsx)("button",{className:"Button"+(o.isHovering?" hover":"")+(r.length>0?` ${r}`:""),style:{...t,...n},...o.props,...i})},ME=e=>{let{userId:t}=e;const{publicKey:n,disconnect:r}=P_(),o=(()=>{const{publicKey:e,signMessage:t}=P_(),n=window.location.host,r=window.location.origin,o=(0,i.useCallback)((i=>new Promise((o=>{(async()=>{if(null==e)return;const s=i,a=new fE;a.t="sip99";const l=new pE;l.domain=n,l.address=e.toString(),l.uri=r,l.statement="Sign in with Solana.",l.version="1",l.chainId=1,l.nonce=s;const u=new AE({header:a,payload:l}),c=u.prepareMessage(),d=(new TextEncoder).encode(c);t(d).then((e=>{const t=Wk.encode(e),n={header:u.header,payload:u.payload,signature:{t:u.header.t,s:t}};return o(n)}))})()}))),[n,r,e,t]);return o})(),{auth:s,setAuth:a}=(0,i.useContext)(Tm),l=(0,i.useCallback)((async()=>{try{const e=await o(t);a(e),window.location.reload()}catch(e){window.alert(`${e}`),console.error(e)}}),[o,t,a]),u=(0,i.useCallback)((async()=>{try{await r(),a(null),window.location.reload()}catch(e){window.alert(`${e}`),console.error(e)}}),[r,a]);return s?(0,It.jsxs)("div",{style:{textAlign:"center"},children:[(0,It.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,It.jsx)("div",{children:"Signed in as"}),(0,It.jsx)("div",{style:{fontSize:"13px"},children:lt(s.payload.address,6)})]}),(0,It.jsx)(IE,{style:{width:"200px",height:"56px",marginBottom:"8px"},onClick:u,children:"Disconnect wallet"})]}):(0,It.jsxs)("div",{children:[(0,It.jsx)("div",{style:{textAlign:"center"},children:(0,It.jsx)(uE,{style:{borderRadius:"8px",padding:"8px",cursor:"pointer",width:"200px",height:"56px",justifyContent:"center",fontWeight:"400",transition:"all 0.2s ease",opacity:null==n?1:.75}})}),(0,It.jsx)("div",{style:{textAlign:"center",margin:"8px 0"},children:(0,It.jsx)(IE,{style:{width:"200px",height:"56px",marginBottom:"8px",cursor:null==n?"not-allowed":"pointer"},onClick:()=>{null==n?window.alert("Connect your wallet first!"):l()},children:"Sign-in with Solana"})})]})},jE=()=>{const{serverId:e,windowWidth:t,userData:n}=(0,i.useContext)(Rw);return(0,It.jsxs)("div",{className:"UserSection"+(t<=480?" mobile":""),children:[n&&(0,It.jsx)(ME,{userId:n.userId}),e&&(0,It.jsx)(nE,{showToggle:!0})]})},TE=n.p+"static/media/logo-black.9aee7528bf0a95ccbf62.png",BE=n.p+"static/media/logo-white.88e3c0272257f076f68a.png",PE=e=>{let{showX:t,token:n}=e;const{settings:{theme:r}}=(0,i.useContext)(nx),{slide:o}=(0,i.useContext)(dx),{partyByCid:s,calmByCid:a}=(0,i.useContext)(Rw),{currentChannel:l}=(0,i.useContext)(Yw),u=(()=>{const{currentChannel:e,setCurrentChannel:t}=(0,i.useContext)(Yw),{currentTileIndex:n,replaceTileAt:r}=(0,i.useContext)(px),o=$t();return(0,i.useCallback)((()=>{null!=e&&(o({to:null}),t(null),r(n,fx))}),[e,t,r,n,o])})();return(0,It.jsxs)("div",{className:"SidebarHeader",children:[(0,It.jsxs)("div",{className:"ServerInfo",style:{userSelect:"none"},children:[(0,It.jsx)("img",{src:r.dark||l&&s[l]||l&&a[l]?BE:TE,alt:"Logo",style:{height:"40px",display:"inline-block",cursor:"pointer"},onClick:()=>u()}),(0,It.jsxs)("div",{className:"ServerLinks",children:[n&&(0,It.jsx)("a",{className:"ServerLink",href:(c=n.pair,`https://dexscreener.com/solana/${c}`),rel:"noopener noreferrer nofollow",target:"_blank",children:"chart"}),n&&(0,It.jsx)("span",{className:"ServerLinkDivider",children:"\xa0\xb7\xa0"}),(0,It.jsx)("a",{className:"ServerLink",href:"https://x.com/meowspacelol",rel:"noopener noreferrer nofollow",target:"_blank",children:"social"})]})]}),t&&(0,It.jsx)("div",{className:"CloseButton",onClick:o.reset,children:(0,It.jsx)(X_,{})})]});var c},NE=n.p+"static/media/meditation.10d7ada9b88aa801ea41.gif",RE=e=>{let{showX:t=!1}=e;const{settings:{theme:n}}=(0,i.useContext)(nx),{windowWidth:r,partyByCid:o,calmByCid:s,setShowCreateChannelModal:a}=(0,i.useContext)(Rw),{currentChannel:l,customRooms:u}=(0,i.useContext)(Yw),[c,d]=jw("chartOn",!1),h=(0,i.useMemo)((()=>u.find((e=>e.id===l))),[u,l]),f=(0,i.useMemo)((()=>{if(null!=h)return h.tokens.find((e=>"spl"===e.kind))}),[h]),p=(0,i.useCallback)((()=>{null!=f&&(navigator.clipboard.writeText(f.address),window.alert("Copied contract address to clipboard!"))}),[f]);return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(PE,{token:f,showX:t}),(0,It.jsxs)("div",{className:"SidebarContent",children:[(0,It.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"8px 10px 0 8px"},children:(0,It.jsx)(IE,{onClick:()=>a(!0),style:{width:"100%"},children:"Create new channel"})}),(0,It.jsx)(ZS,{}),(0,It.jsxs)("div",{style:LE,children:[f&&(0,It.jsx)("div",{className:"ca-row",children:(0,It.jsxs)("span",{className:"ca-box",onClick:p,children:[(0,It.jsx)("span",{className:"ca-icon icon-docs"}),f.address]})}),f&&(0,It.jsxs)(IE,{onClick:()=>d((e=>!e)),style:{width:"300px",margin:"0 auto",border:"1px solid #7777",marginBottom:"8px"},children:[c?"Hide":"Show"," chart"]}),"chat"===(null===h||void 0===h?void 0:h.name)&&l&&s[l]?(0,It.jsx)("img",{src:NE,style:{display:"block",width:"70%",margin:"0 auto",padding:"16px",zIndex:0},alt:"computer-cat"}):c&&f?(0,It.jsx)("iframe",{id:"dextools-widget",title:"DEXTools Trading Chart",style:{height:"360px",border:"none"},src:`https://www.dextools.io/widget-chart/en/solana/pe-light/${f.pair}?theme=${n.dark||l&&o[l]||!l||!s[l]?"dark":"light"}&chartType=1&chartResolution=5&drawingToolbars=false`}):h&&h.mainSidebarImageUrl&&(0,It.jsx)("img",{src:h.mainSidebarImageUrl,style:{display:"block",width:"100%",padding:"16px"},alt:"computer-cat"})]}),(0,It.jsx)(jE,{})]})]})},LE={flex:"1",height:"0",position:"relative",display:"flex",flexFlow:"column nowrap",padding:"8px",userSelect:"none",WebkitUserSelect:"none"},OE=[{name:"chat"},{name:"hanbao"},{name:"glorp"}],DE=()=>{const{windowWidth:e}=(0,i.useContext)(Rw);return(0,It.jsx)("div",{className:"WelcomeScreen scrollbar",style:{...zE,whiteSpace:"initial",fontSize:e<=480?"14px":"16px",display:"flex",flexFlow:"column nowrap",overflow:"scroll"},children:(0,It.jsx)("div",{style:{height:"100%",display:"table"},children:(0,It.jsx)("div",{style:{display:"table-cell"},children:(0,It.jsxs)("div",{style:FE,children:[(0,It.jsx)("h2",{style:{textAlign:"center",fontWeight:"normal",margin:"1em 0 2em"},children:"Welcome to MEOWSPACE !!!"}),(0,It.jsx)("p",{children:"Available chat rooms:"}),(0,It.jsx)("div",{style:HE,children:OE.map((e=>(0,It.jsx)(UE,{room:e},e.name)))})]})})})})},UE=e=>{let{room:t}=e;const n=fn(),r=St($E);return(0,It.jsx)("div",{style:WE,children:(0,It.jsxs)("span",{onClick:()=>{n({cid:void 0,cname:t.name})},style:r.style,...r.props,children:[Nt,t.name]})})},zE={flex:"1",padding:"1em 2em"},FE={margin:"0 auto",maxWidth:"480px"},HE={textAlign:"center",color:"var(--link)",paddingLeft:"1.5em"},WE={textAlign:"left"},$E={cursor:"pointer",textDecoration:"underline"},KE=()=>(0,It.jsx)("div",{className:"UnreadMessagesNotice",children:"~ New unread messages ~"}),qE=e=>{let{cid:t,tryLoadMore:n}=e;const{isLoadingMessages:r}=(0,i.useContext)(Hw),o=(0,i.useRef)(null);return(0,It.jsx)("div",{className:"LoadMoreButton",ref:o,onTouchEnd:e=>{var t;e.preventDefault(),e.stopPropagation();const r=e.changedTouches[0];if(!r)return;const i=document.elementFromPoint(r.clientX,r.clientY);null!==(t=o.current)&&void 0!==t&&t.contains(i)&&n()},children:!0===r[t]?"Loading...":"Load more..."})},VE=e=>{let{messagesRef:t}=e;const n=Qp(t),r=(0,i.useCallback)((e=>{null===e||void 0===e||e.preventDefault(),n("smooth")}),[n]);return(0,It.jsx)("div",{className:"ScrollToBottomButton",onClick:r,onTouchEnd:r,children:(0,It.jsx)("span",{className:"icon-arrow-down"})})},GE=e=>{let{cid:t}=e;const{chatEditor:n,chatFor:r,firstUnseenMessage:o,setFirstUnseenMessage:s,doneLoading:a}=(0,i.useContext)(Hw),{replyTo:l}=(0,i.useContext)(Gw),u=(0,i.useMemo)((()=>r(t)),[r,t]),c=(0,i.useRef)(null),{setMessagesRef:d}=pn();(0,i.useEffect)((()=>{d(t,c)}),[d,t]);const h=(0,i.useRef)(""),f=(0,i.useRef)(null),p=(0,i.useRef)(null),m=(0,i.useRef)(null),{tryLoadMore:g}=(e=>{let{messagesRef:t,chan:n,chat:r,firstMsg:i,lastMsg:o,oldestTime:s}=e;const{tryLoadMore:a}=em({messagesRef:t,firstMsg:i,lastMsg:o,oldestTime:s,chan:n,chat:r});return{tryLoadMore:a}})({messagesRef:c,chan:h,chat:u,firstMsg:f,lastMsg:p,oldestTime:m}),y=qm(l),v=Qp(c),{onScroll:b,isAtBottom:w,isHighUp:x}=(0,i.useContext)(Qw),k=qm(w[t]);return(0,i.useEffect)((()=>{w[t]&&!k&&n.trim(t,250)}),[k,w,t,n]),(0,i.useEffect)((()=>{x[t]||null!=l&&null==y&&v("auto")}),[x,t,l,y,v]),(0,i.useEffect)((()=>{const e=()=>{if(!w[t])return;s(null);const e=c.current;null!=e&&e.scroll({top:e.scrollHeight})};return window.addEventListener("mouseup",e),()=>window.removeEventListener("mouseup",e)}),[c,w,t,s]),(0,It.jsxs)(It.Fragment,{children:[(0,It.jsxs)("div",{className:"MessageLog scrollbar",ref:c,onScroll:()=>b(t),children:[window.isHandheld&&t&&!a[t]&&(0,It.jsx)(qE,{cid:t,tryLoadMore:g}),t&&u&&Object.values(u).sort(((e,t)=>e.time-t.time)).map(((e,n,r)=>{0!==n||"active"in e&&e.active||(m.current=e.time,h.current=t);const s=r[n-1],a=null!=e.reference?u[e.reference]:void 0;return(0,It.jsxs)(i.Fragment,{children:[e.trackingId===o&&(0,It.jsx)(KE,{}),(0,It.jsx)(Gp,{_ref:0===n?f:n===r.length-1?p:null,message:e,prevMessage:s,refMessage:a})]},e.trackingId)}))]}),x[t]&&(0,It.jsx)(VE,{messagesRef:c})]})},JE=e=>{const t=e.split(" "),n=[];for(const r of t)if(st(hn,r)){let e=hn[r];"string"!==typeof e&&(e=r),n.push(e)}else{const e=r.toLowerCase();st(hn,e)?n.push(hn[e]):n.push(r)}return n.join(" ")},YE=e=>e.charAt(Math.floor(Math.random()*e.length)),ZE=()=>{const{currentChannel:e}=(0,i.useContext)(Yw),t=(()=>{const{socket:e}=(0,i.useContext)(Rw),t=(0,i.useCallback)((t=>n=>{null!=e&&e.emit(Wt.BeginMessage,{channel:t,...n})}),[e]),n=(0,i.useCallback)((t=>n=>{null!=e&&e.emit(Wt.ChangeMessage,{channel:t,...n})}),[e]),r=(0,i.useCallback)((t=>n=>{null!=e&&e.emit(Wt.RemoveMessage,{channel:t,...n})}),[e]),o=(0,i.useCallback)((t=>n=>{null!=e&&e.emit(Wt.SendMessage,{channel:t,...n})}),[e]);return(0,i.useMemo)((()=>({begin:t,change:n,remove:r,send:o})),[t,n,r,o])})(),[n,r]=(0,i.useState)((()=>{})),[o,s]=(0,i.useState)((()=>{})),[a,l]=(0,i.useState)((()=>{})),[u,c]=(0,i.useState)((()=>{}));return(0,i.useEffect)((()=>{null!=e&&(r((()=>t.begin(e))),s((()=>t.change(e))),l((()=>t.remove(e))),c((()=>t.send(e))))}),[e,t]),(0,i.useMemo)((()=>({begin:n,change:o,remove:a,send:u})),[n,o,a,u])},XE=e=>{let{search:t,cancel:n,onDone:r}=e;const{connections:o,users:s}=(0,i.useContext)(Rw),{currentChannel:a}=(0,i.useContext)(Yw),[l,u]=(0,i.useState)(null),c=(0,i.useMemo)((()=>null==a||null==s[a]?[]:s[a].filter((e=>{var n;const r=t.toLowerCase(),i=o[e].name.toLowerCase(),s=o[e].userId.toLowerCase(),a=(null!==(n=o[e].solAddress)&&void 0!==n?n:"").toLowerCase(),l=i.startsWith(r),u=s.startsWith(r),c=a.startsWith(r);return l||u||c})).sort(((e,t)=>{var n,r;const i=o[e].name.localeCompare(o[t].name),s=o[e].userId.localeCompare(o[t].userId),a=(null!==(n=o[e].solAddress)&&void 0!==n?n:"").localeCompare(null!==(r=o[t].solAddress)&&void 0!==r?r:"");return i||s||a})).slice(0,10)),[a,s,o,t]);(0,i.useEffect)((()=>{c.length>0?u(c[0]):u(null)}),[t,c]),(0,i.useEffect)((()=>{0===c.length&&n()}),[c,n]);const d=(0,i.useCallback)((e=>{null!=a&&("Tab"!==e.key&&9!==e.keyCode||!1!==e.shiftKey||(e.preventDefault(),l&&r(o[l])),"Enter"!==e.key&&13!==e.keyCode||!1!==e.shiftKey||(e.preventDefault(),l&&r(o[l])),"ArrowUp"!==e.key&&38!==e.keyCode||(e.preventDefault(),u((e=>{if(null==e)return null;const t=c.indexOf(e),n=c.length;return c[((t-1)%n+n)%n]}))),"ArrowDown"!==e.key&&40!==e.keyCode||(e.preventDefault(),u((e=>{if(null==e)return null;const t=c.indexOf(e),n=c.length;return c[((t+1)%n+n)%n]}))))}),[a,o,c,r,l]);(0,i.useEffect)((()=>(document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)})),[d]);const h=(0,i.useRef)(null);return Wm(h,(()=>{n()})),0===c.length?null:(0,It.jsxs)("div",{className:"Suggestions",ref:h,children:[(0,It.jsx)("div",{className:"header",children:"Users"}),c.map((e=>{const t=o[e];return(0,It.jsx)(QE,{c:t,selected:e===l,onClick:()=>l&&r(t)},e)}))]})},QE=e=>{var t;let{c:n,selected:r,onClick:o}=e;const s=(0,i.useRef)(null);et(s,"--user-hue",String(null!==(t=n.color)&&void 0!==t?t:yt(n.userId)));const a=Hm(s,{onLeftClick:o}),l=Pw(s,{onTap:o});return(0,It.jsxs)("div",{className:"row"+(a.isHovering?" hover":"")+(l.isTouching?" touch":"")+(r?" selected":""),ref:s,children:[(0,It.jsx)("span",{className:"name",children:n.name}),(0,It.jsx)("span",{className:"id",children:(0,It.jsx)(eC,{userId:n.userId})})]})},eC=e=>{let{userId:t}=e;return(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)("span",{className:"short",children:t.slice(0,7)}),(0,It.jsx)("span",{className:"long",children:t.slice(7)}),44===t.length&&(0,It.jsx)(It.Fragment,{children:"\xa0"})]})},tC=(e,t)=>{const{modes:n}=(0,i.useContext)(Rw),{channels:r,lastSeen:o,lastRead:s}=(0,i.useContext)(Yw),a=In(),l=(0,i.useMemo)((()=>a(r).map((e=>({...e})))),[a,r]),u=(0,i.useCallback)((e=>{var t;return null!=(null!==(t=n.get(e))&&void 0!==t?t:[]).find((e=>"S"===e.mode))}),[n]),c=(0,i.useCallback)((e=>o[e]!==s[e]),[o,s]),d=(0,i.useMemo)((()=>l.filter((t=>{var n;const r=e.toLowerCase(),i=t.name.toLowerCase().includes(r),o=null===(n=t.userId)||void 0===n?void 0:n.toLowerCase().includes(r);return i||o})).map((e=>{const t=c(e.id);return{...e,hasUnread:t}})).sort(((e,t)=>{const n=Number(t.hasUnread)-Number(e.hasUnread),r=e.name.localeCompare(t.name);return n||r})).slice(0,t.limit).map((e=>{const t=u(e.id);return{...e,isSpace:t}}))),[l,e,t.limit,u,c]);return d},nC=e=>{let{search:t,cancel:n,onDone:r}=e;const o=tC(t,{limit:10}),[s,a]=(0,i.useState)(null);(0,i.useEffect)((()=>{o.length>0?a(o[0]):a(null)}),[t,o]),(0,i.useEffect)((()=>{0===o.length&&n()}),[o,n]);const l=(0,i.useCallback)((e=>{"Tab"!==e.key&&9!==e.keyCode||!1!==e.shiftKey||(e.preventDefault(),s&&r(s.name,s.isSpace?Rt:Nt)),"Enter"!==e.key&&13!==e.keyCode||!1!==e.shiftKey||(e.preventDefault(),s&&r(s.name,s.isSpace?Rt:Nt)),"ArrowUp"!==e.key&&38!==e.keyCode||(e.preventDefault(),a((e=>{if(null==e)return null;const t=o.findIndex((t=>t.id===e.id)),n=o.length;return o[((t-1)%n+n)%n]}))),"ArrowDown"!==e.key&&40!==e.keyCode||(e.preventDefault(),a((e=>{if(null==e)return null;const t=o.findIndex((t=>t.id===e.id)),n=o.length;return o[((t+1)%n+n)%n]})))}),[o,r,s]);(0,i.useEffect)((()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)})),[l]);const u=(0,i.useRef)(null);return Wm(u,(()=>{n()})),0===o.length?null:(0,It.jsxs)("div",{className:"Suggestions",ref:u,children:[(0,It.jsx)("div",{className:"header",children:"Rooms"}),o.map((e=>{let{id:t,name:n,isSpace:i}=e;return(0,It.jsx)(rC,{name:n,isSpace:i,selected:t===(null===s||void 0===s?void 0:s.id),onClick:()=>s&&r(n,i?Rt:Nt)},t)}))]})},rC=e=>{let{name:t,isSpace:n,selected:r,onClick:o}=e;const s=(0,i.useRef)(null),a=Hm(s,{onLeftClick:o}),l=Pw(s,{onTap:o});return(0,It.jsx)("div",{className:"row"+(a.isHovering?" hover":"")+(l.isTouching?" touch":"")+(r?" selected":""),ref:s,children:(0,It.jsxs)("span",{children:[(0,It.jsx)("span",{className:"hash",children:n?Rt:Nt}),(0,It.jsx)("span",{className:"name",children:t})]})})},iC=[Nt,Rt],oC=e=>{let{data:{name:t,color:n,content:r},close:i}=e;const o=Jp(r);return(0,It.jsxs)("div",{className:"ReplyingTo",children:[(0,It.jsx)("div",{children:(0,It.jsx)("div",{children:(0,It.jsxs)("span",{className:"text",children:["Replying to ",(0,It.jsx)("span",{style:{color:n},children:t})," ",o]})})}),(0,It.jsx)("span",{className:"CloseButton",onClick:()=>i(),children:(0,It.jsx)(X_,{})})]})},sC=()=>{const{clearFile:e,uploadData:t}=(0,i.useContext)(Gw);return(0,It.jsx)("div",{className:"StagedFiles",children:t.local.map((t=>(0,It.jsxs)("div",{className:"PreviewContainer"+("waiting"===t.state?" uploadWaiting":"")+("failure"===t.state?" uploadFailure":"")+("success"===t.state?" uploadSuccess":""),children:[t.type.startsWith("image/")&&null!=t.result?(0,It.jsx)("img",{className:"PreviewFile",src:t.result.toString(),alt:"Preview"}):(0,It.jsxs)("div",{className:"PreviewFile anyFile",children:[(0,It.jsx)("span",{className:"icon icon-paper-clip"}),(0,It.jsx)("span",{className:"filename",children:t.name})]}),(0,It.jsx)("div",{className:"PreviewOverlay",children:(0,It.jsx)("div",{className:"CloseButton",onClick:()=>e(t),children:(0,It.jsx)(X_,{})})})]},t.batchId+t.index)))})},aC=[":"],lC={limit:20},uC=e=>{let{search:t,cancel:n,onDone:r}=e;const o=((e,t)=>{const{serverEmojis:n}=(0,i.useContext)(Rw),r=(0,i.useMemo)((()=>Object.entries(n).map((e=>{let[t,n]=e;return{name:t,url:`${Pt}/${n}?s=${ot}`}}))),[n]),o=(0,i.useMemo)((()=>r.filter((t=>{const n=e.toLowerCase();return t.name.toLowerCase().includes(n)})).sort(((e,t)=>e.name.localeCompare(t.name))).slice(0,t.limit)),[r,t,e]);return o})(t,lC),[s,a]=(0,i.useState)(null);(0,i.useEffect)((()=>{o.length>0?a(o[0]):a(null)}),[t,o]),(0,i.useEffect)((()=>{0===o.length&&n()}),[o,n]);const l=(0,i.useCallback)((e=>{"Tab"!==e.key&&9!==e.keyCode||!1!==e.shiftKey||(e.preventDefault(),s&&r(s.name,":",":")),"Enter"!==e.key&&13!==e.keyCode||!1!==e.shiftKey||(e.preventDefault(),s&&r(s.name,":",":")),"ArrowUp"!==e.key&&38!==e.keyCode||(e.preventDefault(),a((e=>{if(null==e)return null;const t=o.findIndex((t=>t.name===e.name)),n=o.length;return o[((t-1)%n+n)%n]}))),"ArrowDown"!==e.key&&40!==e.keyCode||(e.preventDefault(),a((e=>{if(null==e)return null;const t=o.findIndex((t=>t.name===e.name)),n=o.length;return o[((t+1)%n+n)%n]})))}),[o,r,s]);(0,i.useEffect)((()=>(document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)})),[l]);const u=(0,i.useRef)(null);return Wm(u,(()=>{n()})),0===o.length?null:(0,It.jsxs)("div",{className:"Suggestions",ref:u,children:[(0,It.jsx)("div",{className:"header",children:"Emojis"}),o.map((e=>{let{name:t,url:n}=e;return(0,It.jsx)(cC,{name:t,url:n,selected:t===(null===s||void 0===s?void 0:s.name),onClick:()=>s&&r(t,":",":")},t)}))]})},cC=e=>{let{name:t,url:n,selected:r,onClick:o}=e;const s=(0,i.useRef)(null),a=Hm(s,{onLeftClick:o}),l=Pw(s,{onTap:o});return(0,It.jsx)("div",{className:"row"+(a.isHovering?" hover":"")+(l.isTouching?" touch":"")+(r?" selected":""),style:{padding:"0",margin:"0"},ref:s,children:(0,It.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,It.jsx)("img",{src:n,className:"name",alt:"Emoji",style:{width:"20px",height:"20px"}}),(0,It.jsx)("span",{className:"hash",children:t})]})})},dC=e=>{const t=1===(e=ct(e)).length&&"/"===e[0],n=e.length>=2&&"/"===e[0]&&"/"!==e[1];return t||n},hC=e=>{let{tid:t,currentChannel:n,cmdOnly:r,cmdOnlyPlaceholder:o,cmdOnlyMessage:s,...a}=e;const{settings:{shy:l,useEmojis:u}}=(0,i.useContext)(nx),c=(0,i.useRef)(null),{setInputRef:d}=Sn();(0,i.useEffect)((()=>{d(`${t}`,c)}),[d,t]);const{windowWidth:h,chordKeyDown:f,serverId:p}=(0,i.useContext)(Rw),{channels:m}=(0,i.useContext)(Yw),{activeMessage:g,chatEditor:y,sendState:v,setSendState:b,retryQueue:w,setPendingMessages:x}=(0,i.useContext)(Hw),{replyTo:k,setReplyTo:_,clearFiles:S,uploadData:E}=(0,i.useContext)(Gw),C=ox(),A=qm(k),I=(e=>{const{channels:t}=(0,i.useContext)(Yw);return(0,i.useMemo)((()=>e&&t.includes(e)?"Meow...":"Enter a command"),[e,t])})(n),M=(()=>{const{settings:e,reset:t}=(0,i.useContext)(nx),{debugLog:n,socket:r,userData:o,modes:s,serverEmojis:a,setShowDonations:l}=(0,i.useContext)(Rw),{channels:u,currentChannel:c,channelData:d,setTrackedChannels:h,setChannelData:f,setShowRoomBrowser:p,setShowCssEditor:m}=(0,i.useContext)(Yw),{clearChannel:g,createServerMessage:y}=(0,i.useContext)(Hw),{getMessagesRef:v}=pn(),b=Kt(),w=qt(),x=fn(),{toggleNotif:k}=mn(),{toggleShowStyle:_}=gn(),S=(0,i.useCallback)((async i=>{n("Got command:",i);const o=i.trim().slice(1).split(/\s+/),l=(o[0].toLowerCase(),i.slice(o[0].length+2,i.length).trim());switch(o[0].toLowerCase()){case"mban":{const[e,t]=l.split(" ");r.emit(Wt.SetMode,{cid:c,modes:[{mode:"b",arg:JSON.stringify({messageId:e,duration:t}),enable:!0}]});break}case"uban":{const e=l.trim();r.emit(Wt.SetMode,{cid:c,modes:[{mode:"b",arg:JSON.stringify({userId:e}),enable:!0}]});break}case"kick":{const e=l.trim();r.emit(Wt.Kick,{cid:c,connId:e,reason:""});break}case"mode":{let e,t=l,[n,o]=gt(t," ").map((e=>e.trim()));if(n.charAt(0)===Nt&&n.length>1&&(e=n.slice(1),t=o),void 0===t){y(c,`Invalid mode command ${i}.`,!0);break}let[s,a]=gt(t," ").map((e=>e.trim()));if(2!==s.length&&"+"!==t[0]&&"-"!==t[0]){y(c,`Invalid mode command ${i}.`,!0);break}if(null!=a&&a.charAt(0)===Nt){const e=a.slice(1),t=b(e);null!=t&&(a=t)}r.emit(Wt.SetMode,{cid:null==e?c:void 0,cname:e,modes:[{mode:s[1],arg:a,enable:"+"===s[0]}]});break}case"info":{if(null==c)return;let e=c,t=l,[n,r]=gt(t," ").map((e=>e.trim()));n.charAt(0)===Nt&&n.length>1&&(e=b(n.slice(1)),t=r);const i=w(e);null==t&&(t="");const o=s.get(e);if(null==o)return;let a="";if(0===t.length){const e=o.filter((e=>{let{mode:t}=e;return!rn[t]})).sort(sn).map((e=>{let{mode:t,arg:n}=e;return`    ${an({mode:t,arg:n})}`}));e.length>0?a+=`\n#${i} modes:\n\n`+e.join("\n"):a+=`\n#${i} modes: none.`,a+="\n\nView list modes by typing /info <mode>, where <mode> can be b (ban list), I (invite list), K (key list) or ops (operators)."}else if("ops"===t){const e=o.filter((e=>{let{mode:t}=e;return null!=nn[t]})).sort(sn).map((e=>{let{mode:t,arg:n}=e;return`    ${an({mode:t,arg:n})}`}));e.length>0?a+=`\n#${i} operators:\n\n`+e.join("\n"):a+=`\n#${i} operators: none.`}else if("b"===t||"c"===t||"I"===t||"z"===t||"K"===t){const e=o.filter((e=>{let{mode:n}=e;return n===t})).sort(sn).map((e=>{let{mode:t,arg:n}=e;return`    ${an({mode:t,arg:n})}`}));e.length>0?a+=`\n#${i} mode list ${t}:\n\n`+e.join("\n"):a+=`\n#${i} mode list ${t} is empty.`}else a+=`Invalid argument ${t}.`,a+="\n\nView all modes by typing /info, or list modes by typing /info <mode>, where <mode> can be b (ban list), c (child list), I (invite list), K (key list) or ops (operators).";y(c,a,!0);break}case"bans":{if(null==c)return;const e=s.get(c);if(null==e)return;let t="";const n=e.filter((e=>{let{mode:t}=e;return"b"===t})).sort(sn).map((e=>{let{arg:t}=e;return`    ${ln(t)}`}));n.length>0?t+="\nChannel bans:\n\n"+n.join("\n"):t+="\nThere are no channel bans.",y(c,t,!0);break}case"mutes":{if(null==c)return;const e=s.get(c);if(null==e)return;let t="";const n=e.filter((e=>{let{mode:t}=e;return"M"===t})).sort(sn).map((e=>{let{arg:t}=e;return`    ${ln(t)}`}));n.length>0?t+="\nChannel mutes:\n\n"+n.join("\n"):t+="\nThere are no channel mutes.",y(c,t,!0);break}case"password":case"pass":e.setPass(l);break;case"color":dt(l)?e.setHue(parseInt(l)):y(c,"Color must be a value between 0 and 360.",!0);break;case"clear":r.emit(Wt.ClearByUserId,{userId:o[1]});break;case"serverban":r.emit(Wt.BanByMessageId,{messageId:o[1],reason:o[2]});break;case"theme":e.setTheme(Zt(e.theme));break;case"notif":case"notifs":if(null==c)return;k(c,(e=>{y(c,`#${c} notifications: ${e}`,!0)}));break;case"font":if("sans"===e.font){e.setFont("mono");break}if("mono"===e.font){e.setFont("sans");break}break;case"style":e.setCozy(!e.cozy);break;case"shy":y(c,"Shy mode: "+(e.shy?"OFF":"ON"),!0),e.setShy(!e.shy);break;case"emojis":y(c,"Emojis:\n\n"+Object.entries(hn).map((e=>{let[t,n]=e;return`  ${n}   ${t}`})).join("\n")+"\n"+Object.keys(a).map((e=>`  :${e}:   \\:${e}:`)).join("\n"));{const e=v(c),t=null===e||void 0===e?void 0:e.current;if(null==t)return;const{offsetBottom:n}=xt(t);n<=1&&setTimeout((()=>{t.scrollBy({top:t.scrollHeight,behavior:"smooth"})}),50)}break;case"sound":case"mute":e.setMuted(!e.muted),y(c,"Sound: "+(e.muted?"OFF":"ON"),!0);break;case"reset":t();break;case"j":case"join":if(1===o.length)y(c,"channels:"+u.sort(((e,t)=>e.localeCompare(t))).map((e=>`\n ${e===c?">":" "} #`+e)).join(""));else{let e=l;for(;e.charAt(0)===Nt;)e=e.substring(1);let[t,n]=gt(e,"+p").map((e=>e.trim()));if(null==t||0===t.length)return;null==n&&(n=""),x({cid:void 0,cname:t,pass:n})}break;case"l":case"leave":r.emit(Wt.LeaveChannel,{cid:c});break;case"clearall":localStorage.clear(),window.location.reload(!0);break;case"debug":y(c,`Debug ${e.debugActive?"disabled":"enabled"}.`,!0),e.setDebugActive((e=>!e));break;case"version":y(c,`Version: ${Tt}`,!0);break;case"raid":{if(null==c)return;let[e,t]=gt(l," ").map((e=>e.trim()));if(null==e||0===e.length)return;if(null==t||0===t.length)return;r.emit(Wt.Raid,{cid:c,text:t,url:e,flash:!0});break}case"party":if(null==c)return;r.emit(Wt.Party,{cid:c,partyMode:!0});break;case"partyoff":if(null==c)return;r.emit(Wt.Party,{cid:c,partyMode:!1});break;case"calm":if(null==c)return;r.emit(Wt.Calm,{cid:c,calmMode:!0});break;case"calmoff":if(null==c)return;r.emit(Wt.Calm,{cid:c,calmMOde:!1});break;case"raidnoflash":{if(null==c)return;let[e,t]=gt(l," ").map((e=>e.trim()));if(null==e||0===e.length)return;if(null==t||0===t.length)return;r.emit(Wt.Raid,{cid:c,text:t,url:e,flash:!1});break}default:n("Unrecognized command:",o)}}),[v,u,y,c,n,b,w,x,t,a,e,r,s,k]);return S})(),{begin:j,change:T,remove:B,send:P}=ZE(),{trackActiveMessage:N,clearActiveMessage:R,constructMessage:L,createFakeMessage:O}=(()=>{const{settings:e}=(0,i.useContext)(nx),{serverId:t,userData:n}=(0,i.useContext)(Rw),{pbWallet:r}=(0,i.useContext)(Kw),{activeMessage:o,setActiveMessage:s}=(0,i.useContext)(Hw),a=(0,i.useCallback)((e=>{var t,n;return null!==(t=null===(n=o[e])||void 0===n?void 0:n.trackingId)&&void 0!==t?t:(Mn()+Mn()).slice(0,7)}),[o]),l=(0,i.useCallback)((e=>{var t,n;return null!==(t=null===(n=o[e])||void 0===n?void 0:n.time)&&void 0!==t?t:Date.now()}),[o]),u=(0,i.useCallback)((e=>{const t=a(e);s((n=>({...n,[e]:{trackingId:t}})))}),[a,s]),c=(0,i.useCallback)(((e,t)=>{s((n=>st(n,e)?(null!=t&&t(),vt(n,e)):n))}),[s]),d=(0,i.useCallback)((async t=>{let{channel:n,content:i,reference:o,attachments:s,mentions:u}=t;const d=a(n),h=l(n);c(n);const f={content:i,trackingId:d,time:h,reference:o,attachments:s,mentions:u};if(null!=r&&e.signMessages){const e=Math.floor(Date.now()/1e3)+300,t=yn({content:i,deadline:e}),{sig:n}=await r.sign(t),o=n;return{...f,signature:o,deadline:e}}return{...f,signature:void 0,deadline:void 0}}),[r,e.signMessages,a,l,c]),h=(0,i.useCallback)((e=>{if(null!=t&&null!=n)return{...e,connId:t,active:!1,unsent:!0,...n,shortId:ht(n.userId)}}),[t,n]);return{getTrackingId:a,getActiveTime:l,trackActiveMessage:u,clearActiveMessage:c,constructMessage:d,createFakeMessage:h}})(),[D,U]=(0,i.useState)(!1),[z,F]=(0,i.useState)(""),[H,W]=(0,i.useState)([]),[$,K]=(0,i.useState)(null),{handleTagList:q,handleDone:V}=(e=>{const t=(0,i.useCallback)((t=>{const n=t.selectionStart,r=t.value.slice(0,n),i=r.split(/\s/),o=i[i.length-1],s=r.endsWith(o)?r.length-o.length:-1;if("@"!==r[s])return void e(null);const a=r.slice(s+1);e({pos:s,text:a})}),[e]),n=(0,i.useCallback)(((t,n,r)=>{const i=t.value.slice(0,r.pos),o=t.value.slice(r.pos+1+r.text.length),s=`${i}${n}${o}`;t.value=s,t.dispatchEvent(new Event("input",{bubbles:!0}));const a=s.length-o.length;t.selectionStart=a,t.selectionEnd=a,e(null)}),[e]);return{handleTagList:t,handleDone:n}})(K),[G,J]=(0,i.useState)(null),{handleChanList:Y,handleChanDone:Z}=(e=>{const t=(0,i.useCallback)((t=>{const n=t.selectionStart,r=t.value.slice(0,n),i=r.split(/\s/),o=i[i.length-1],s=r.endsWith(o)?r.length-o.length:-1,a=r[s];if(!iC.includes(a))return void e(null);const l=r.slice(s+1);e({pos:s,text:l})}),[e]),n=(0,i.useCallback)(((t,n,r)=>{const i=t.value.slice(0,r.pos),o=t.value.slice(r.pos+1+r.text.length),s=`${i}${n}${o}`;t.value=s,t.dispatchEvent(new Event("input",{bubbles:!0}));const a=s.length-o.length;t.selectionStart=a,t.selectionEnd=a,e(null)}),[e]);return{handleChanList:t,handleChanDone:n}})(J),[X,Q]=(0,i.useState)(null),{handleEmoteList:ee,handleEmoteDone:te}=(e=>{const t=(0,i.useCallback)((t=>{const n=t.selectionStart,r=t.value.slice(0,n),i=r.split(/\s/),o=i[i.length-1],s=r.endsWith(o)?r.length-o.length:-1,a=r[s];if(!aC.includes(a))return void e(null);const l=r.slice(s+1);e({pos:s,text:l})}),[e]),n=(0,i.useCallback)(((t,n,r)=>{const i=t.value.slice(0,r.pos),o=t.value.slice(r.pos+1+r.text.length),s=`${i}${n}${o}`;t.value=s,t.dispatchEvent(new Event("input",{bubbles:!0}));const a=s.length-o.length;t.selectionStart=a,t.selectionEnd=a,e(null)}),[e]);return{handleEmoteList:t,handleEmoteDone:n}})(Q),ne=qm(n);(0,i.useEffect)((()=>{""===z&&(K(null),J(null),Q(null),R(n))}),[z,R,n]);const re=(0,i.useCallback)((()=>{null!=c&&null!=c.current&&(F(""),c.current.value="",W([]),_(null),U(!1))}),[c,_]);(0,i.useEffect)((()=>{null!=ne&&null!=n&&ne!==n&&(re(),S(),R(ne,(()=>{if(null!=p&&null!=m&&m.includes(ne)){const e=ne,t=p;C.removeMessage({channel:e,connId:t},!0),B({channel:e})}})))}),[ne,n,re,S,R,p,m,C,B]);const ie=(0,i.useCallback)((e=>{if(f)return;if(null==p)return;if(null==n)return;e.length>512&&(e=e.slice(0,512));const t=z;if(F(e),"ready"!==v)return;if(0===t.length&&0===e.length)return;if(ct(t)===ct(e))return;const i=dC(e),o=dC(t),s=t.length>0,a=0===t.replace(/\s/g,"").length,c=0===e.replace(/\s/g,"").length;o&&!i?U(!1):i&&!o&&U(!0),e=e.replace(/^\s+|\s+$/g,"");let d="???";i?!o&&s&&(d="remove"):(o&&!c||a&&!c?d="begin":!o&&s&&c?d="remove":!o&&t.trim().length>0&&(d="change"),e.startsWith("//")&&(e=e.slice(1))),e=e.replaceAll(/<@(![123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{7})>/g,((e,t)=>{const n=H.find((e=>e.hook===t));return null==n?e:`@${n.name}`})),l&&(e=(e=>{const t=e.length;let n="";for(let r=0;r<t;r++)"\n"===e[r]?n+="\n":n+=YE("\u28fe\u28fd\u28fb\u28bf\u287f\u28df\u28ef\u28f7\u2801\u2802\u2804\u2840\u2880\u2820\u2810\u2808");return n})(e)),u&&(e=JE(e));const h=n,m=p;if(r)"remove"===d&&(C.removeMessage({channel:h,connId:m},!0),B({channel:h}));else switch(i?R(h):""!==e&&N(h),d){case"begin":{const t=null!=k?k.messageId:void 0;C.beginMessage({channel:h,connId:m,content:e,time:Date.now(),reference:t},!0),j({channel:h,content:e,reference:t});break}case"change":if(k!==A){const t=null!=k?k.messageId:qs;C.changeMessage({channel:h,connId:m,content:e,reference:t},!0),T({channel:h,content:e,reference:t})}else C.changeMessage({channel:h,connId:m,content:e},!0),T({channel:h,content:e});break;case"remove":C.removeMessage({channel:h,connId:m},!0),B({channel:h})}}),[z,n,v,l,u,N,R,H,k,A,j,T,B,p,C,r,f]),oe=(0,i.useCallback)((async e=>{if(e&&e.preventDefault(),f)return;if(null==n)return;if(ut(z))return;for(const n of E.local)if("waiting"===n.state){const e=E.local.length>1?"s":"";return void alert(`Wait for the file${e} to finish uploading.`)}if(D)return M(z),void re();if(r)return void alert(s);if(!w.isEmpty())return;let t=z;t.startsWith("//")&&(t=t.slice(1)),u&&(t=JE(t));const i=null==g[n];let o;null!=k?o=k.messageId:null!=A&&(o=qs);const a=n,l=await L({channel:a,content:t,reference:o,attachments:E.attachments.length>0?E.attachments.map((e=>e.inner)):void 0,mentions:H.length>0?H.filter((e=>t.includes(`<@${e.hook}>`))):void 0});if(i){const e=O(l);y.set(a,l.trackingId,e)}const c=()=>{P({channel:a,...l}),S()};b("sent"),c(),x((e=>({...e,[l.trackingId]:c}))),re()}),[D,z,E,S,M,u,n,b,L,O,re,g,P,H,k,A,r,s,y,w,x,f]),se=(0,i.useCallback)((e=>{if("Enter"!==e.key&&13!==e.keyCode||!1!==e.shiftKey){if("Escape"===e.key||27===e.keyCode)return K(null),J(null),void _(null);r||setTimeout((()=>{e.target instanceof HTMLTextAreaElement&&(q(e.target),Y(e.target),ee(e.target))}),10)}else{if(null!=$)return;if(null!=G)return;if(null!=X)return;oe(e)}}),[oe,$,G,X,q,Y,ee,_,r]),ae=(0,i.useRef)(null);(0,i.useEffect)((()=>{const e=e=>{ae.current&&e.target instanceof Element&&!ae.current.contains(e.target)&&(c&&c.current&&c.current.blur(),window.scrollTo(0,0))};return document.addEventListener("touchmove",e),()=>{document.removeEventListener("touchmove",e)}}),[c]);const le=E.local.length>0,ue=null!=k;return(0,It.jsxs)("div",{className:"MessageInputBox"+(le||ue?" extended":""),ref:ae,style:{position:"relative"},children:[n&&null!=$&&(0,It.jsx)(XE,{search:$.text,cancel:()=>{K(null)},onDone:e=>{if(null==c.current)return;const t=ht(e.userId),n={hook:t,userId:e.userId,name:e.name,color:e.color};W((e=>e.filter((e=>e.hook!==n.hook)).concat(n)));const r=`<@${t}> `;V(c.current,r,$)}}),n&&null!=G&&(0,It.jsx)(nC,{search:G.text,cancel:()=>{J(null)},onDone:(e,t)=>{if(null==c.current)return;const n=`${t}${e} `;Z(c.current,n,G)}}),n&&null!=X&&(0,It.jsx)(uC,{search:X.text,cancel:()=>{Q(null)},onDone:(e,t,n)=>{if(null==c.current)return;const r=`${t}${e}${n} `;te(c.current,r,X),c.current.focus()}}),(0,It.jsxs)("div",{className:"inner",children:[(le||ue)&&(0,It.jsxs)("div",{className:"ComposerExtra",children:[ue&&(0,It.jsx)(oC,{data:k,close:()=>_(null)}),le&&(0,It.jsx)(sC,{})]}),(0,It.jsx)("div",{className:"grow-wrap","data-replicated-value":z,children:(0,It.jsx)("textarea",{ref:c,className:D?" __w_cmdMode":r?" cmdOnly":"",rows:1,placeholder:r?o:I,value:z,onInput:e=>ie(e.currentTarget.value),onKeyDown:se,spellCheck:!1,...a})})]}),h<=820&&(0,It.jsx)("div",{className:"SendMessageButton",onClick:oe,onTouchEnd:oe,children:(0,It.jsx)("span",{className:"icon-arrow-right"})})]})},fC=e=>{let{...t}=e;return(0,It.jsx)("div",{className:"MessageInputBox",children:(0,It.jsx)("div",{className:"grow-wrap",children:(0,It.jsx)("textarea",{rows:1,placeholder:"Not connected...",disabled:!0,...t})})})},pC=e=>{let{cid:t}=e;const{windowWidth:n,socket:r,userData:o}=(0,i.useContext)(Rw),s=Gt(t),a=jn(t),l=(0,i.useMemo)((()=>a("q")),[a]),u=(0,i.useMemo)((()=>a("n")),[a]),c=(0,i.useMemo)((()=>a("t")),[a]),d=null!=(0,i.useMemo)((()=>a("s")),[a]),h=null!=(0,i.useMemo)((()=>a("i")),[a]),f=(0,i.useCallback)((()=>{if(null==r)return;if(null==o)return;const e=o.userId;window.confirm(`Register ${u} as ${e}?`)&&r.emit(Wt.SetMode,{cid:t,modes:[{mode:"q",arg:e,enable:!0}]})}),[t,r,o,u]),{children:p}=nm(t);return(0,It.jsx)("div",{className:"scrollbar",style:{padding:"1em",whiteSpace:"initial",fontSize:n<=480?"14px":"16px",overflow:"scroll"},children:(0,It.jsxs)("div",{style:{margin:"0 auto",maxWidth:"768px"},children:[(0,It.jsxs)("div",{style:{fontSize:"32px",marginBottom:"16px"},children:[(0,It.jsx)("span",{style:{color:"var(--dull)",fontSize:"24px",marginRight:"8px"},children:Rt}),u]}),(0,It.jsxs)("div",{style:{color:"var(--sub)",marginBottom:"32px"},children:[d?"Secret":"Visible",", ",h?"invite-only":"open"," space with"," ",0===s?"No":s," cat",1!==s?"s":"","."]}),(0,It.jsx)("div",{style:{fontSize:"20px",fontStyle:"italic",color:"var(--sub)",marginBottom:"16px"},children:c}),null==l&&(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)("div",{style:{marginBottom:"8px"},children:"This space does not have an owner."}),(0,It.jsx)("div",{children:(0,It.jsx)(IE,{onClick:f,children:"Register"})})]}),p.map((e=>(0,It.jsx)(mC,{cid:e.id,name:e.name,topic:e.topic},e.id)))]})})},mC=e=>{let{cid:t,name:n,topic:r}=e;const o=jn(t),s=(0,i.useMemo)((()=>o("n")),[o]),a=(0,i.useMemo)((()=>o("t")),[o]),l=(0,i.useMemo)((()=>null!==s&&void 0!==s?s:n),[s,n]),u=(0,i.useMemo)((()=>null!==a&&void 0!==a?a:r),[a,r]),c=fn();return(0,It.jsxs)("div",{style:{padding:"8px 16px",margin:"16px 8px",border:"1px solid var(--muted)",background:"var(--bg)",borderRadius:"4px",cursor:"pointer"},onClick:()=>c({cid:t,cname:void 0}),children:[(0,It.jsxs)("div",{children:[(0,It.jsx)("span",{style:{fontStyle:"italic",color:"var(--dull)",marginRight:"4px"},children:Nt}),(0,It.jsx)("span",{style:{fontWeight:"bold"},children:l})]}),u&&(0,It.jsx)("div",{style:{color:"var(--sub)",marginTop:"4px"},children:u})]})},gC=e=>{let{tid:t,cid:n}=e;const r=jn(n),o=(0,i.useMemo)((()=>null!=r("S")),[r]);return null==n?(0,It.jsx)("div",{className:"ChatBox",children:(0,It.jsx)(DE,{})}):o?(0,It.jsx)("div",{className:"ChatBox",children:(0,It.jsx)(pC,{cid:n})}):(0,It.jsx)(Jw,{children:(0,It.jsx)(yC,{tid:t,cid:n})})},yC=e=>{var t;let{tid:n,cid:r}=e;const{socket:o,serverUrl:s,serverId:a,connections:l,userData:u,modes:c}=(0,i.useContext)(Rw),{customRooms:d}=(0,i.useContext)(Yw),{newVersion:h}=(0,i.useContext)(ux),{currentTileIndex:f}=(0,i.useContext)(px),{handlePasteText:p,handleFile:m,clearFiles:g}=(0,i.useContext)(Gw),y=(0,i.useMemo)((()=>d.find((e=>e.id===r))),[d,r]),v=null!=o&&null!=a&&a in l,b=(Vt(r),(0,i.useMemo)((()=>{var e;return null!=(null!==(e=c.get(r))&&void 0!==e?e:[]).find((e=>"m"===e.mode))}),[c,r])),w=Zp(r,null!==(t=null===u||void 0===u?void 0:u.userId)&&void 0!==t?t:""),x=(w?en[w]:0)>=en.v,k="M"===w,_=(0,i.useMemo)((()=>{if(x)return!0;if(k)return!1;if(b)return!1;if(y){if(!y.passedGate)return!1;if(y.tokens.some((e=>e.gateAmount>0))&&(null===u||void 0===u||!u.solAddress))return!1}return!0}),[x,k,b,y,u]),S=(0,i.useRef)(null),E=((0,i.useRef)(null),(0,i.useMemo)((()=>n===f),[n,f])),{currentInputRef:C}=Sn();return((e,t)=>{let{onPasteText:n,onPasteFile:r}=t;const o=(0,i.useCallback)((e=>{null!=e.clipboardData&&(e.clipboardData.files.length>0?r(e.clipboardData.files):n(e.clipboardData.getData("text"),e))}),[r,n]);(0,i.useEffect)((()=>{if(null==e)return;const t=e.current;return null!=t?(t.addEventListener("paste",o),()=>{t.removeEventListener("paste",o)}):void 0}),[e,o])})(C,{onPasteText:(e,t)=>E&&p(e,t),onPasteFile:e=>E&&m(e)}),Km((()=>{E&&g()})),(0,It.jsxs)("div",{className:"ChatBox",ref:S,children:[(0,It.jsx)("div",{className:"MessagesBox",children:v?(0,It.jsx)(GE,{cid:r}):(0,It.jsx)("div",{className:"MessageLog",children:(0,It.jsx)("div",{style:{padding:"0 1em"},children:s?`Trying to connect to the server (${s})...`:"Refresh to reconnect."})})}),h&&h.value&&(0,It.jsx)(vC,{}),v?(0,It.jsx)(hC,{tid:n,currentChannel:r,cmdOnly:!_,cmdOnlyPlaceholder:(null===y||void 0===y?void 0:y.blockReason)||"You can not talk in this channel.",cmdOnlyMessage:"You do not have speaking permissions in this channel."}):(0,It.jsx)(fC,{})]})},vC=()=>(0,It.jsx)("div",{className:"NewVersionNotice",onClick:()=>{window.location.assign("/")},children:(0,It.jsx)("span",{children:"New version available! Click here to update."})}),bC=()=>{const{currentChannel:e}=(0,i.useContext)(Yw),{tiles:t,currentTileIndex:n,selectTile:r}=(0,i.useContext)(px),o=(0,i.useMemo)((()=>t[0]),[t]),s=(0,i.useMemo)((()=>t[1]),[t]),a=(0,i.useMemo)((()=>t[2]),[t]);return null==e||0===t.length||null==o.cid?(0,It.jsx)("div",{className:"ChatBox",children:(0,It.jsx)(DE,{})}):(0,It.jsxs)(wC,{direction:"horizontal",children:[o&&(0,It.jsx)(xC,{selected:0===n,onClick:()=>r(0),children:(0,It.jsx)(gC,{tid:0,cid:o.cid})}),s&&(0,It.jsxs)(wC,{direction:"vertical",children:[s&&(0,It.jsx)(xC,{selected:1===n,onClick:()=>r(1),children:(0,It.jsx)(gC,{tid:1,cid:s.cid})}),a&&(0,It.jsx)(xC,{selected:2===n,onClick:()=>r(2),children:(0,It.jsx)(gC,{tid:2,cid:a.cid})})]})]})},wC=e=>{let{direction:t,children:n}=e;return(0,It.jsx)("div",{className:`SplitPane ${t}`,children:n})},xC=e=>{let{selected:t,onClick:n,children:r}=e;return(0,It.jsx)("div",{className:"Tile"+(t?" selected":""),onClick:n,children:r})},kC=(e,t)=>{const n="customSkin",r=document.getElementById(n);var i;if(null==e||null==t||""===t)return void(null===r||void 0===r||null===(i=r.parentNode)||void 0===i||i.removeChild(r));const o=`https://srv.meowspace.lol/css/${e}/${t}.css`;if(r)r.setAttribute("href",o);else{const e=document.createElement("link");e.id=n,e.type="text/css",e.rel="stylesheet",e.href=o,document.head.appendChild(e)}},_C=e=>{let{isOpen:t,close:n,closeOnEscape:r,closeOnClickOutside:o,children:s}=e;const a=(0,i.useCallback)((()=>{n()}),[n]);return Km((()=>r&&a())),t?(0,It.jsx)("div",{className:"Modal ModalBoxOverlay",onClick:e=>{e.stopPropagation(),o&&a()},children:(0,i.cloneElement)(s,{onClose:a})}):null},SC=e=>{let{kind:t,children:n}=e;return(0,It.jsx)("div",{className:`setting skind-${t}`,children:(0,It.jsx)("div",{children:n})})},EC=e=>{let{children:t}=e;return(0,It.jsx)("span",{className:"setting-title",children:t})},CC=e=>{let{onClick:t,label:n,checked:r,disabled:i=!1}=e;const o=St(IC);return(0,It.jsx)("span",{onClick:e=>!i&&t(e),style:{...AC,...o.style,...r&&MC,...i&&jC},...o.props,children:n})},AC={marginRight:"0.5em"},IC={cursor:"pointer"},MC={textDecoration:"underline"},jC={color:"var(--muted)",cursor:"not-allowed"},TC=e=>{let{children:t}=e;return(0,It.jsx)("div",{className:"setting-notice",children:t})},BC=e=>{let{title:t,kind:n,children:r}=e;const{windowWidth:o}=(0,i.useContext)(Rw);return(0,It.jsxs)("div",{className:`settings-category ckind-${n}`,children:[(0,It.jsx)("div",{className:"category-title"+(o<444?" small":""),children:t}),(0,It.jsx)("div",{className:"category-content",children:r})]})},PC=e=>{let{children:t}=e;return(0,It.jsx)("span",{className:"setting-options",children:t})},NC=e=>{let{show:t,setShow:n}=e;const{settings:{theme:r,setTheme:o,font:s,setFont:a,muted:l,setMuted:u,cozy:c,setCozy:d,shy:h,setShy:f,notifType:p,setNotifType:m,warnOnPasteText:g,setWarnOnPasteText:y,useEmojis:v,setUseEmojis:b,embedImages:w,setEmbedImages:x,signMessages:k,setSignMessages:_,chatHistoryLength:S,setChatHistoryLength:E,debugActive:C,setDebugActive:A},reset:I}=(0,i.useContext)(nx),{windowWidth:M,perm:j,setPerm:T,setPastSecrets:B}=(0,i.useContext)(Rw),{setVerifiedMessageIds:P}=(0,i.useContext)(Kw),N=(0,i.useCallback)((()=>{window.confirm('This will remove your memory of:\n- which messages are verified, and\n- which paswords you have used (so you will only be able to delete a message if you remember the secret used to "sign" it).')&&(P({}),B({}))}),[P,B]),R=(0,i.useRef)(null);return(0,i.useEffect)((()=>{t&&null!=R.current&&R.current.scrollTo({top:0})}),[t]),(0,It.jsxs)("div",{className:"Modal ClientSettings scrollbar",ref:R,onClick:e=>{e.stopPropagation()},children:[(0,It.jsxs)("span",{className:"close",children:[M>=620&&(0,It.jsx)("span",{style:{color:"var(--sub)"},children:"esc to close /"}),(0,It.jsx)("span",{className:"CloseButton",onClick:()=>n(!1),children:(0,It.jsx)(X_,{})})]}),(0,It.jsxs)("div",{className:"inner",children:[(0,It.jsx)("div",{className:"heading",children:"Settings"}),(0,It.jsx)(BC,{title:"User profile",kind:"user-profile",children:(0,It.jsx)(SC,{kind:"user-settings",children:(0,It.jsx)(nE,{showToggle:!1})})}),(0,It.jsxs)(BC,{title:"Appearance",kind:"appearance",children:[(0,It.jsxs)(SC,{kind:"theme",children:[(0,It.jsx)(EC,{children:"Theme"}),(0,It.jsx)(PC,{children:Xt.map((e=>(0,It.jsx)(CC,{onClick:()=>o(e),checked:r.className===e.className,label:e.label},e.className)))})]}),(0,It.jsxs)(SC,{kind:"font",children:[(0,It.jsx)(EC,{children:"Font"}),(0,It.jsxs)(PC,{children:[(0,It.jsx)(CC,{onClick:()=>a("sans"),checked:"sans"===s,label:"Sans"}),(0,It.jsx)(CC,{onClick:()=>a("mono"),checked:"mono"===s,label:(0,It.jsx)("span",{className:"mono",children:"Mono"})})]})]}),(0,It.jsxs)(SC,{kind:"message-style",children:[(0,It.jsx)(EC,{children:"Message style"}),(0,It.jsxs)(PC,{children:[(0,It.jsx)(CC,{onClick:()=>d(!1),checked:!c,label:"Compact"}),(0,It.jsx)(CC,{onClick:()=>d(!0),checked:c,label:"Modern"})]})]})]}),(0,It.jsxs)(BC,{title:"Notifications",kind:"notifications",children:[j&&(0,It.jsxs)(SC,{kind:"popup-notifications",children:[(0,It.jsx)(EC,{children:"Private message notifications"}),(0,It.jsxs)(PC,{children:[(0,It.jsx)(CC,{onClick:()=>m("off"),checked:"off"===p,label:"Off"}),(0,It.jsx)(CC,{onClick:()=>m("sound-off"),checked:"sound-off"===p,label:"Sound off"}),(0,It.jsx)(CC,{onClick:()=>m("all"),checked:"all"===p,label:"On"})]}),"denied"===j&&(0,It.jsxs)(TC,{children:["Notifications are off. Make sure",(0,It.jsx)("br",{}),"to allow them in your browser."]}),"default"===j&&(0,It.jsxs)(TC,{children:["Notifications are off."," ",(0,It.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClick:async()=>{T(await Notification.requestPermission())},children:"Enable"}),"."]})]}),(0,It.jsxs)(SC,{kind:"mention-notification-sound",children:[(0,It.jsx)(EC,{children:"Mention notification sound"}),(0,It.jsxs)(PC,{children:[(0,It.jsx)(CC,{onClick:()=>u(!0),checked:l,label:"Off"}),(0,It.jsx)(CC,{onClick:()=>u(!1),checked:!l,label:"On"})]})]})]}),(0,It.jsxs)(BC,{title:"Miscellaneous",kind:"miscellaneous",children:[(0,It.jsxs)(SC,{kind:"trim-chat-history",children:[(0,It.jsx)(EC,{children:"Trim chat history"}),(0,It.jsx)(TC,{children:"Choose how messages will stay in the chat log."}),(0,It.jsxs)(PC,{children:[(0,It.jsx)(CC,{onClick:()=>E("unbounded"),checked:"unbounded"===S,label:"Unbounded"}),(0,It.jsx)(CC,{onClick:()=>E("channel"),checked:"channel"===S,label:"Per room"}),(0,It.jsx)(CC,{onClick:()=>E(250),checked:250===S,label:"250"}),(0,It.jsx)(CC,{onClick:()=>E(50),checked:50===S,label:"50"}),(0,It.jsx)(CC,{onClick:()=>E(25),checked:25===S,label:"25"})]})]}),(0,It.jsxs)(SC,{kind:"paste-warning",children:[(0,It.jsx)(EC,{children:"Warn before pasting text"}),(0,It.jsxs)(PC,{children:[(0,It.jsx)(CC,{onClick:()=>y(!1),checked:!g,label:"No"}),(0,It.jsx)(CC,{onClick:()=>y(!0),checked:g,label:"Yes"})]})]}),(0,It.jsxs)(SC,{kind:"text-to-emojis",children:[(0,It.jsx)(EC,{children:"Convert text to emojis"}),(0,It.jsxs)(PC,{children:[(0,It.jsx)(CC,{onClick:()=>b(!1),checked:!v,label:"No"}),(0,It.jsx)(CC,{onClick:()=>b(!0),checked:v,label:"Yes"})]})]}),(0,It.jsxs)(SC,{kind:"embed-files",children:[(0,It.jsx)(EC,{children:"Embed files"}),(0,It.jsxs)(PC,{children:[(0,It.jsx)(CC,{onClick:()=>x(!1),checked:!w,label:"No"}),(0,It.jsx)(CC,{onClick:()=>x(!0),checked:w,label:"Yes"})]})]}),(0,It.jsxs)(SC,{kind:"shy-mode",children:[(0,It.jsx)(EC,{children:"Shy mode"}),(0,It.jsx)(TC,{children:"Obfuscate your message until you send it."}),(0,It.jsxs)(PC,{children:[(0,It.jsx)(CC,{onClick:()=>f(!1),checked:!h,label:"Off"}),(0,It.jsx)(CC,{onClick:()=>f(!0),checked:h,label:"On"})]})]}),(0,It.jsxs)(SC,{kind:"debug-output",children:[(0,It.jsx)(EC,{children:"Show debug output"}),(0,It.jsx)(TC,{children:"Show debug output in the develop console."}),(0,It.jsxs)(PC,{children:[(0,It.jsx)(CC,{onClick:()=>A(!1),checked:!C,label:"No"}),(0,It.jsx)(CC,{onClick:()=>A(!0),checked:C,label:"Yes"})]})]}),(0,It.jsxs)(SC,{kind:"sign-public-messages",children:[(0,It.jsx)(EC,{children:"Sign public messages"}),(0,It.jsx)(TC,{children:"Sign your messages using the private key generated by your password, allowing recipients to verify your messages using the public key represented by your tripcode."}),(0,It.jsxs)(PC,{children:[(0,It.jsx)(CC,{onClick:()=>_(!1),checked:!k,label:"No"}),(0,It.jsx)(CC,{onClick:()=>_(!0),checked:k,label:"Yes"})]})]})]}),(0,It.jsxs)(BC,{title:"Reset",kind:"reset",children:[(0,It.jsxs)(SC,{kind:"reset-default-settings",children:[(0,It.jsx)(EC,{children:"Reset default settings"}),(0,It.jsx)(TC,{children:"Return all settings to their default values. Does not affect user profile settings."}),(0,It.jsx)("div",{children:(0,It.jsx)(IE,{onClick:()=>I(),children:"Reset"})})]}),(0,It.jsxs)(SC,{kind:"forget-participation",children:[(0,It.jsx)(EC,{children:"Forget participation"}),(0,It.jsx)(TC,{children:"Remove all memory of which messages are verified, and which paswords you have used previously."}),(0,It.jsx)("div",{children:(0,It.jsx)(IE,{onClick:()=>N(),children:"Forget"})})]})]})]})]})},RC=()=>{const{showSettings:e,setShowSettings:t}=(0,i.useContext)(Rw),[n,r]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{e&&r(e)}),[e]),(0,i.useEffect)((()=>{e||setTimeout((()=>r(!1)),200)}),[e]),n?(0,It.jsx)("div",{className:"ModalOverlay"+(e?" fadeIn scaleUp":" fadeOut scaleDown"),style:{display:n?"flex":"none"},onClick:()=>t(!1),children:(0,It.jsx)(NC,{show:n,setShow:t})}):null},LC=e=>{let{text:t,onChange:n=(()=>{}),onSubmit:r,disabled:o=!1}=e;const[s,a]=(0,i.useState)(t);(0,i.useEffect)((()=>{a(t)}),[t]);const l=(0,i.useCallback)((()=>{r(s.trim())}),[r,s]);return(0,It.jsx)("input",{className:"InputBox",value:s,placeholder:"None",onChange:e=>{const t=e.target.value;t.length>0&&!OC(t)||(a(e.target.value),n(e.target.value.trim()))},onKeyDown:e=>"Enter"===e.key&&l(),onBlur:l,disabled:o})},OC=e=>/^\d+$/.test(e),DC=e=>{let{channel:t,mode:n,disabled:r}=e;const o=tm(t),s=jn(t),[a,l]=(0,i.useState)((()=>{var e;return null!==(e=s(n))&&void 0!==e?e:""}));return(0,It.jsxs)(PC,{children:[(0,It.jsx)(LC,{text:a,onSubmit:l,disabled:r}),!r&&(0,It.jsx)(IE,{onClick:()=>o(n,a,a.length>0),children:"Update"})]})},UC=e=>{let{channel:t,mode:n,disabled:r}=e;const i=tm(t),o=null!=jn(t)(n);return(0,It.jsxs)(PC,{children:[(0,It.jsx)(CC,{onClick:()=>i(n,"",!1),checked:!o,label:"No",disabled:r}),(0,It.jsx)(CC,{onClick:()=>i(n,"",!0),checked:o,label:"Yes",disabled:r})]})},zC=e=>{let{_ref:t,text:n,onSubmit:r,placeholder:o="",disabled:s=!1,style:a={}}=e;const[l,u]=(0,i.useState)(n);(0,i.useEffect)((()=>{u(n)}),[n]);const c=(0,i.useCallback)((()=>{r(l.trim())}),[r,l]);return(0,It.jsx)("input",{ref:t,className:"InputBox",style:{...FC,...a},value:l,placeholder:o,onChange:e=>u(e.target.value),onKeyDown:e=>"Enter"===e.key&&c(),onBlur:c,disabled:s})},FC={width:"100%"},HC={display:"flex",flexFlow:"row nowrap",alignItems:"center"},WC={flex:"0 0 32px",display:"flex",justifyContent:"center"},$C={display:"flex",flexFlow:"row nowrap",justifyContent:"center",alignItems:"center",userSelect:"none",cursor:"pointer"},KC={flex:"0 0 60px"},qC={flex:"1",fontFamily:"var(--font-mono)",fontSize:"14px",wordBreak:"break-all",width:"200px",userSelect:"text",WebkitUserSelect:"text"},VC=e=>{let{channel:t,mode:n,placeholder:r}=e;const o=tm(t),[s,a]=(0,i.useState)("");return(0,It.jsxs)("div",{style:HC,children:[(0,It.jsx)("span",{style:WC,onClick:()=>{o(n,s,!0),a("")},children:(0,It.jsx)("span",{style:{cursor:"pointer"},children:"+"})}),(0,It.jsx)("span",{style:qC,children:(0,It.jsx)(zC,{text:s,onSubmit:a,placeholder:r})})]})},GC=e=>{let{channel:t,mode:n,disabled:r}=e;const o=tm(t),s=jn(t),[a,l]=(0,i.useState)((()=>{var e;return null!==(e=s(n))&&void 0!==e?e:""}));return(0,It.jsxs)(PC,{children:[(0,It.jsx)(zC,{text:a,onSubmit:l,placeholder:"None",disabled:r}),!r&&(0,It.jsx)(IE,{onClick:()=>o(n,a,a.length>0),children:"Update"})]})},JC=e=>{var t;let{channel:n,mode:r}=e;const{modes:o}=(0,i.useContext)(Rw),s=tm(n);return(0,It.jsx)(It.Fragment,{children:(null!==(t=o.get(n))&&void 0!==t?t:[]).filter((e=>e.mode===r)).sort(sn).map((e=>(0,It.jsxs)("div",{style:HC,children:[(0,It.jsx)("span",{style:WC,children:(0,It.jsx)("span",{style:$C,onClick:()=>s(e.mode,e.arg,!1),children:(0,It.jsx)(X_,{})})}),(0,It.jsx)("span",{style:qC,children:ln(e.arg)})]},e.arg)))})},YC=e=>{var t;let{channel:n,mode:r}=e;const{modes:o}=(0,i.useContext)(Rw),s=tm(n);return(0,It.jsx)(It.Fragment,{children:(null!==(t=o.get(n))&&void 0!==t?t:[]).filter((e=>e.mode===r)).sort(sn).map((e=>(0,It.jsxs)("div",{style:HC,children:[(0,It.jsx)("span",{style:WC,children:(0,It.jsx)("span",{style:$C,onClick:()=>s(e.mode,e.arg,!1),children:(0,It.jsx)(X_,{})})}),(0,It.jsx)("span",{style:qC,children:e.arg})]},e.arg)))})},ZC=e=>{let{channel:t,can:n}=e;const r=tm(t),[o,s]=(0,i.useState)({mode:"",arg:""});return n("v")||n("z")?(0,It.jsxs)("div",{style:{...HC,marginBottom:"0.5em"},children:[(0,It.jsx)("span",{style:WC,onClick:()=>{console.log("role:",o),r(o.mode,o.arg,!0)},children:(0,It.jsx)("span",{style:{cursor:"pointer"},children:"+"})}),(0,It.jsx)("span",{style:qC,children:(0,It.jsx)(zC,{text:o.arg,onSubmit:e=>s((t=>({...t,arg:e}))),placeholder:"Add operator"})}),(0,It.jsx)("span",{style:{...KC,flex:"0 0 110px"},children:(0,It.jsxs)("select",{className:"Select",defaultValue:"",onChange:e=>s((t=>({...t,mode:e.target.value}))),style:{color:"var(--text)",background:"var(--bg)",border:"1px solid var(--border)",outline:"none",borderRadius:"4px",padding:"2px",width:"100%"},children:[(0,It.jsx)("option",{value:"",disabled:!0,children:"Select role"}),n("a")&&(0,It.jsx)("option",{value:"a",children:on.a}),n("o")&&(0,It.jsx)("option",{value:"o",children:on.o}),n("h")&&(0,It.jsx)("option",{value:"h",children:on.h}),n("v")&&(0,It.jsx)("option",{value:"v",children:on.v}),n("z")&&(0,It.jsx)("option",{value:"z",children:on.z})]})})]}):null},XC=e=>{var t;let{channel:n}=e;const{modes:r}=(0,i.useContext)(Rw),o=tm(n);return(0,It.jsx)(It.Fragment,{children:(null!==(t=r.get(n))&&void 0!==t?t:[]).filter((e=>null!=nn[e.mode]||"z"===e.mode)).sort(sn).map((e=>(0,It.jsxs)("div",{style:HC,children:[(0,It.jsx)("span",{style:WC,children:(0,It.jsx)("span",{style:$C,onClick:()=>o(e.mode,e.arg,!1),children:(0,It.jsx)(X_,{})})}),(0,It.jsx)(QC,{userId:e.arg}),(0,It.jsx)("span",{style:{...KC,flex:"0 0 110px",color:"var(--sub)"},children:on[e.mode]})]},e.arg)))})},QC=e=>{let{userId:t}=e;return(0,It.jsx)("div",{style:qC,children:t})},eA=e=>{var t;let{channel:n,mode:r}=e;const{modes:o}=(0,i.useContext)(Rw),s=tm(n);return(0,It.jsx)(It.Fragment,{children:(null!==(t=o.get(n))&&void 0!==t?t:[]).filter((e=>e.mode===r)).sort(sn).map((e=>(0,It.jsxs)("div",{style:HC,children:[(0,It.jsx)("span",{style:WC,children:(0,It.jsx)("span",{style:$C,onClick:()=>s(e.mode,e.arg,!1),children:(0,It.jsx)(X_,{})})}),(0,It.jsx)("span",{style:qC,children:ln(e.arg)})]},e.arg)))})},tA=e=>{let{channel:t,disabled:n}=e;const{children:r}=nm(t,!0),i=tm(t);return(0,It.jsx)(It.Fragment,{children:r.map((e=>(0,It.jsxs)("div",{style:HC,children:[!n&&(0,It.jsx)("span",{style:WC,children:(0,It.jsx)("span",{style:$C,onClick:()=>{i("c",e.id,!1)},children:(0,It.jsx)(X_,{})})}),(0,It.jsxs)("span",{style:qC,children:[Nt,e.name]})]},e.id)))})},nA=e=>{let{channel:t,can:n}=e;const{modes:r}=(0,i.useContext)(Rw),o=En(),s=(0,i.useMemo)((()=>o.filter((e=>{var t;return null==(null!==(t=r.get(e.id))&&void 0!==t?t:[]).find((e=>"S"===e.mode))}))),[o,r]),a=tm(t),[l,u]=(0,i.useState)(null);return n("c")?(0,It.jsxs)("div",{style:{...HC,marginBottom:"0.5em"},children:[(0,It.jsx)("span",{style:WC,onClick:()=>{null!=l&&a("c",l,!0)},children:(0,It.jsx)("span",{style:{cursor:"pointer"},children:"+"})}),(0,It.jsx)("span",{style:{...KC,flex:"0 0 240px"},children:(0,It.jsxs)("select",{className:"Select",defaultValue:"",onChange:e=>u(e.target.value),style:{color:"var(--text)",background:"var(--bg)",border:"1px solid var(--border)",outline:"none",borderRadius:"4px",padding:"2px",width:"100%"},children:[(0,It.jsx)("option",{value:"",disabled:!0,children:"Select room"}),s.map((e=>(0,It.jsxs)("option",{value:e.id,children:[Nt," ",e.name]},e.id)))]})})]}):null},rA=e=>{let{channel:t,can:n}=e;const{socket:r,modes:o}=(0,i.useContext)(Rw),[s,a]=(0,i.useState)(null),l=tm(t),u=Tn(t),c=u.pcid,d=u.check;(0,i.useEffect)((()=>{null!=r&&null!=c&&r.emitSync(235,{cids:[c]},1e4,(e=>{a(e.rooms)}))}),[r,c]),(0,i.useEffect)((()=>()=>{a(null)}),[]);const h=(0,i.useMemo)((()=>{var e,t,n,r,i;if(null==s)return null;if(null==c)return null;const a=null!==(e=null!==(t=null===(n=s[c])||void 0===n?void 0:n.n)&&void 0!==t?t:null===(r=(null!==(i=o.get(c))&&void 0!==i?i:[]).find((e=>"n"===e.mode)))||void 0===r?void 0:r.arg)&&void 0!==e?e:"<unknown>";return{id:c,name:a}}),[s,o,c]),f=En(),p=(0,i.useMemo)((()=>f.filter((e=>{var t;return null!=(null!==(t=o.get(e.id))&&void 0!==t?t:[]).find((e=>"S"===e.mode))})).filter((e=>e.id!==c))),[f,o,c]),[m,g]=(0,i.useState)((()=>c)),[y,v]=(0,i.useState)((()=>d.split(""))),b=(0,i.useCallback)((e=>{""===e.target.value?g(null):g(e.target.value),v([])}),[]);return n("p")?(0,It.jsxs)(It.Fragment,{children:[(0,It.jsxs)("div",{style:{...HC,marginBottom:"0.5em"},children:[(0,It.jsx)("div",{children:(0,It.jsx)("span",{style:{...KC,flex:"0 0 240px"},children:(0,It.jsxs)("select",{className:"Select",value:null!==m&&void 0!==m?m:"",onChange:b,style:oA,children:[(0,It.jsx)("option",{value:"",children:null===h?"Select space":"None"}),h&&(0,It.jsxs)("option",{value:h.id,children:[Rt," ",h.name]}),p.map((e=>(0,It.jsxs)("option",{value:e.id,children:[Rt," ",e.name]},e.id)))]})})}),c!==m&&(0,It.jsx)("span",{style:lA,children:"(edited)"})]}),null!=m&&(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(TC,{children:"Which modes to inherit from the space."}),"aohvIMb".split("").map((e=>(0,It.jsx)(iA,{label:`+${e}: ${on[e]}s`,localChecked:y.includes(e),remoteChecked:d.includes(e),onToggle:()=>v((t=>{const n=t.filter((t=>t!==e));return t.includes(e)?n:n.concat(e)}))},e)))]}),(0,It.jsx)("div",{children:(0,It.jsx)(IE,{style:{marginTop:"8px"},onClick:()=>{if(null!=m){const e=y.join("");l("p",m+":"+e,!0)}else l("p","",!1)},children:"Save"})})]}):(0,It.jsx)("div",{style:{...HC,marginBottom:"0.5em"},children:(0,It.jsx)("span",{style:{...KC,flex:"0 0 240px"},children:h?(0,It.jsxs)(It.Fragment,{children:[Rt," ",h.name]}):"None"})})},iA=e=>{let{label:t,localChecked:n,remoteChecked:r,onToggle:i}=e;return(0,It.jsxs)("div",{style:sA,children:[(0,It.jsx)("span",{style:{...aA,background:n?"var(--text)":"none"},onClick:()=>i()}),(0,It.jsxs)("span",{children:[t,r!==n&&(0,It.jsx)("span",{style:lA,children:"(edited)"})]})]})},oA={color:"var(--text)",background:"var(--bg)",border:"1px solid var(--border)",outline:"none",borderRadius:"4px",padding:"2px",width:"100%"},sA={display:"flex",alignItems:"center",padding:"4px 16px"},aA={border:"1px solid var(--text)",width:"16px",height:"16px",display:"inline-block",marginRight:"8px",cursor:"pointer"},lA={fontSize:"14px",color:"var(--sub)",marginLeft:"4px",verticalAlign:"bottom"},uA=e=>{var t;let{channel:n,setChannel:r}=e;const{windowWidth:o,userData:s}=(0,i.useContext)(Rw),a=jn(n),l=Vt(n),u=Zp(n,null!==(t=null===s||void 0===s?void 0:s.userId)&&void 0!==t?t:""),c=u?en[u]:0,d=(0,i.useCallback)((e=>c>=en[tn[e]]),[c]),h=null!=a("S"),f=h?Rt:Nt,p=(0,i.useRef)(null);return(0,i.useEffect)((()=>{null!=p.current&&p.current.scrollTo({top:0})}),[]),(0,It.jsxs)("div",{className:"Modal ChannelSettings scrollbar",ref:p,onClick:e=>{e.stopPropagation()},children:[(0,It.jsxs)("span",{className:"close",children:[o>=620&&(0,It.jsx)("span",{style:{color:"var(--sub)"},children:"esc to close /"}),(0,It.jsx)("span",{className:"CloseButton",onClick:()=>r(null),children:(0,It.jsx)(X_,{})})]}),(0,It.jsxs)("div",{className:"inner",children:[(0,It.jsxs)("div",{className:"heading",children:[f,l," settings"]}),(0,It.jsx)(BC,{title:"Organization",kind:"organization",children:h?(0,It.jsxs)(SC,{kind:"room-list",children:[(0,It.jsx)(EC,{children:"Channels"}),(0,It.jsx)(TC,{children:"The channels that should be part of this space."}),(0,It.jsx)(nA,{channel:n,can:d}),(0,It.jsx)(tA,{channel:n,disabled:!d("c")})]}):(0,It.jsxs)(SC,{kind:"space",children:[(0,It.jsx)(EC,{children:"Space"}),(0,It.jsx)(TC,{children:"The space to which this channel belongs. The channel will only show up as part of the space if explicitly listed by it."}),(0,It.jsx)(rA,{channel:n,can:d})]})}),(0,It.jsxs)(BC,{title:"Settings",kind:"settings",children:[(0,It.jsxs)(SC,{kind:"name",children:[(0,It.jsx)(EC,{children:"Name"}),(0,It.jsx)(TC,{children:"The name of this channel."}),(0,It.jsx)(GC,{channel:n,mode:"n",disabled:!d("n")})]}),(0,It.jsxs)(SC,{kind:"secret",children:[(0,It.jsx)(EC,{children:"Secret"}),(0,It.jsx)(TC,{children:"The channel will not show up in the channel list."}),(0,It.jsx)(UC,{channel:n,mode:"s",disabled:!d("s")})]}),(0,It.jsxs)(SC,{kind:"topic",children:[(0,It.jsx)(EC,{children:"Topic"}),(0,It.jsx)(TC,{children:"A short description or subject of the channel."}),(0,It.jsx)(GC,{channel:n,mode:"t",disabled:!d("t")})]}),(0,It.jsxs)(SC,{kind:"join-limit",children:[(0,It.jsx)(EC,{children:"Join limit"}),(0,It.jsx)(TC,{children:"Limit how many users can join. The owner and users on the invite list can always join."}),(0,It.jsx)(DC,{channel:n,mode:"l",disabled:!d("l")})]}),(0,It.jsxs)(SC,{kind:"message-limit",children:[(0,It.jsx)(EC,{children:"Message limit"}),(0,It.jsx)(TC,{children:"Limit how many messages are logged."}),(0,It.jsx)(DC,{channel:n,mode:"L",disabled:!d("L")})]})]}),(0,It.jsxs)(BC,{title:"Keys",kind:"keys",children:[(0,It.jsxs)(SC,{kind:"key-protected",children:[(0,It.jsx)(EC,{children:"Key protected"}),(0,It.jsx)(TC,{children:"Users must supply a key to join."}),(0,It.jsx)(UC,{channel:n,mode:"k",disabled:!d("k")})]}),(0,It.jsxs)(SC,{kind:"key-list",children:[(0,It.jsxs)(EC,{children:["Key list (",null!=a("k")?"active":"inactive",")"]}),(0,It.jsx)(TC,{children:"The list of keys that may be used to join the channel."}),d("K")&&(0,It.jsx)(VC,{channel:n,mode:"K",placeholder:"Add key"}),(0,It.jsx)(YC,{channel:n,mode:"K"})]})]}),(0,It.jsxs)(BC,{title:"Moderation",kind:"moderation",children:[(0,It.jsxs)(SC,{kind:"moderated",children:[(0,It.jsx)(EC,{children:"Moderated"}),(0,It.jsx)(TC,{children:"Only operators and voiced users may send messages."}),(0,It.jsx)(UC,{channel:n,mode:"m",disabled:!d("m")})]}),(0,It.jsxs)(SC,{kind:"role-list",children:[(0,It.jsx)(EC,{children:"Role list"}),(0,It.jsx)(ZC,{channel:n,can:d}),(0,It.jsx)(XC,{channel:n})]})]}),(0,It.jsxs)(BC,{title:"Invites",kind:"invites",children:[(0,It.jsxs)(SC,{kind:"invite-only",children:[(0,It.jsx)(EC,{children:"Invite only"}),(0,It.jsx)(TC,{children:"Users must be on the invite list to join."}),(0,It.jsx)(UC,{channel:n,mode:"i",disabled:!d("i")})]}),(0,It.jsxs)(SC,{kind:"invite-list",children:[(0,It.jsxs)(EC,{children:["Invite list (",null!=a("i")?"active":"inactive",")"]}),(0,It.jsx)(TC,{children:"The list of users that may join the channel."}),d("I")&&(0,It.jsx)(VC,{channel:n,mode:"I",placeholder:"Add invite exemption"}),(0,It.jsx)(YC,{channel:n,mode:"I"})]})]}),(0,It.jsx)(BC,{title:"Bans",kind:"bans",children:(0,It.jsxs)(SC,{kind:"ban-list",children:[(0,It.jsx)(EC,{children:"Ban list"}),(0,It.jsx)(TC,{children:"The list of users that may not join the channel."}),(0,It.jsx)(JC,{channel:n,mode:"b"})]})}),(0,It.jsx)(BC,{title:"Mutes",kind:"mutes",children:(0,It.jsxs)(SC,{kind:"mute-list",children:[(0,It.jsx)(EC,{children:"Mute list"}),(0,It.jsx)(TC,{children:"The list of users that may not speak in the channel."}),(0,It.jsx)(eA,{channel:n,mode:"M"})]})})]})]})},cA=()=>{const{showChannelSettings:e,setShowChannelSettings:t}=(0,i.useContext)(Rw),[n,r]=(0,i.useState)(null);return(0,i.useEffect)((()=>{e&&r(e)}),[e]),(0,i.useEffect)((()=>{e||setTimeout((()=>r(null)),200)}),[e]),null==n?null:(0,It.jsx)("div",{className:"ModalOverlay"+(e?" fadeIn scaleUp":" fadeOut scaleDown"),style:{display:n?"flex":"none"},onClick:()=>t(null),children:(0,It.jsx)(uA,{channel:n,setChannel:t})})},dA=e=>{let{auth:t,order:n,setOrder:r}=e;const[o,s]=(0,i.useState)(!1),a=(()=>{const{connection:e}=yx(),{publicKey:t,sendTransaction:n}=P_(),r=(0,i.useCallback)((async r=>{if(!t)throw new Mx;const i=Math.floor(2e9),o=lh.transfer({fromPubkey:t,toPubkey:new wd(r),lamports:i}),s=(new $d).add(o),{context:{slot:a},value:{blockhash:l,lastValidBlockHeight:u}}=await e.getLatestBlockhashAndContext(),c=await n(s,e,{minContextSlot:a});console.log("sent transaction",c);const d=await e.confirmTransaction({blockhash:l,lastValidBlockHeight:u,signature:c});console.log("confirmed transaction",d)}),[t,n,e]);return r})(),l=((0,i.useCallback)((async()=>{try{const{paymentAddress:e}=n;s(!0),await a(e)}catch(e){e instanceof Mx?(window.alert("Something went wrong. Try disconnecting and then connecting your wallet again."),console.error(e)):(window.alert(`${e}`),console.error(e))}finally{s(!1)}}),[n,a]),hA(t,n,r));return(0,i.useEffect)((()=>{const e=setInterval((()=>{l()}),1e4);return()=>clearInterval(e)}),[l]),(0,It.jsxs)("div",{style:{textAlign:"center"},children:[(0,It.jsxs)("div",{style:{margin:"16px 0 8px"},children:["Send ",2," SOL to"]}),(0,It.jsx)("div",{children:(0,It.jsx)("span",{style:{fontSize:"14px",fontFamily:"var(--font-mono)",background:"#7772",border:"1px solid #8882",padding:"2px"},children:n.paymentAddress})}),(0,It.jsx)("div",{style:{margin:"16px 0 0"},children:"After sending your payment, please wait. It should not take more than a minute. You may close this window in the meantime."})]})},hA=(e,t,n)=>(0,i.useCallback)((async()=>{try{const{paymentAddress:r}=t,i=await(async e=>{let{auth:t}=e;const n="check-payment",r=JSON.stringify({...t}),i=await fetch(`${Tp}/${n}`,{method:"POST",body:r,headers:{"Content-Type":"application/json"}}),o=await i.json();if(o.error)throw new Error(`POST /${n} failed: ${o.error}`);return o})({auth:e});if(!i.ok)return console.log("Payment has not been received yet!");const{status:o}=i;n({paymentAddress:r,status:o})}catch(r){console.log(`${r}`)}}),[e,t,n]),fA=e=>{let{onClose:t,order:n}=e;const{settings:{pass:r}}=(0,i.useContext)(nx),o=fn(),[s,a]=(0,i.useState)(""),[l,u]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[h,f]=(0,i.useState)(""),[p,m]=(0,i.useState)(0),[g,y]=(0,i.useState)(0),v=(0,i.useCallback)((e=>{a(e.target.value)}),[]),b=(0,i.useCallback)((e=>{u(e.target.value)}),[]),w=(0,i.useCallback)((e=>{d(e.target.value)}),[]),x=(0,i.useCallback)((e=>{let t=e.target.value;for(;"$"===t.charAt(0);)t=t.substring(1);f(t)}),[]),k=(0,i.useCallback)((e=>{y(Number.parseInt(e.target.value))}),[]);(0,i.useEffect)((()=>{0===p&&y(0)}),[p]);const _=(0,i.useCallback)((()=>{if(0===s.trim().length)return window.alert("Channel name is missing!");if(0===l.trim().length)return window.alert("Token address is missing!");if(0===c.trim().length)return window.alert("Pair address is missing!");if(0===h.trim().length)return window.alert("Ticker is missing!");window.confirm(`Create channel "${s}"?\n`)&&(o({cid:void 0,cname:s,paymentPublicKey:n.paymentAddress,tokenAddress:l,pairAddress:c,ticker:h,ckind:p,tokenGateAmount:g}),t())}),[o,s,l,c,h,p,g,n.paymentAddress,t]);return(0,It.jsxs)("div",{children:[(0,It.jsx)("div",{style:{marginBottom:"8px",textAlign:"center"},children:"The payment has been received!"}),(0,It.jsx)("div",{style:{height:"16px"}}),(0,It.jsx)("input",{className:"InputBox",style:{flex:0,padding:"0.5em",width:"100%",border:"1px solid #7777"},value:s,placeholder:"Channel name",onChange:v}),(0,It.jsx)("div",{style:{fontSize:"13px",margin:"2px 0 0",color:"var(--sub)",fontStyle:"italic"},children:"You cannot change this later."}),(0,It.jsx)("div",{style:{height:"16px"}}),(0,It.jsx)("input",{className:"InputBox",style:{flex:0,padding:"0.5em",width:"100%",border:"1px solid #7777"},value:l,placeholder:"Token address",onChange:b}),(0,It.jsxs)("div",{style:{fontSize:"13px",margin:"2px 0 0",color:"var(--sub)",fontStyle:"italic"},children:['Use the token address (the "CA"), NOT the pair address.',(0,It.jsx)("br",{}),"You cannot change this later."]}),(0,It.jsx)("div",{style:{height:"16px"}}),(0,It.jsx)("input",{className:"InputBox",style:{flex:0,padding:"0.5em",width:"100%",border:"1px solid #7777"},value:c,placeholder:"Pair address",onChange:w}),(0,It.jsxs)("div",{style:{fontSize:"13px",margin:"2px 0 0",color:"var(--sub)",fontStyle:"italic"},children:["Use the pair address, NOT the token address.",(0,It.jsx)("br",{}),"You cannot change this later."]}),(0,It.jsx)("div",{style:{height:"16px"}}),(0,It.jsx)("input",{className:"InputBox",style:{flex:0,padding:"0.5em",width:"100%",border:"1px solid #7777"},value:h,placeholder:"Ticker",onChange:x}),(0,It.jsx)("div",{style:{fontSize:"13px",margin:"2px 0 0",color:"var(--sub)",fontStyle:"italic"},children:"You cannot change this later."}),(0,It.jsx)("div",{style:{height:"20px"}}),(0,It.jsx)("div",{style:{margin:"8px 0 16px",fontSize:"20px",textAlign:"center"},children:"Token gating"}),(0,It.jsxs)(PC,{children:[(0,It.jsx)(CC,{onClick:()=>m(0),checked:0===p,label:"Off"}),"\xa0\xa0",(0,It.jsx)(CC,{onClick:()=>m(1),checked:1===p,label:"Hold to talk"}),"\xa0\xa0",(0,It.jsx)(CC,{onClick:()=>m(2),checked:2===p,label:"Hold to join"})]}),0===p&&(0,It.jsx)("div",{style:{fontStyle:"italic",fontSize:"14px"},children:"Anyone can join and talk."}),1===p&&(0,It.jsx)("div",{style:{fontStyle:"italic",fontSize:"14px"},children:"Anyone can join, but only holders can talk."}),2===p&&(0,It.jsx)("div",{style:{fontStyle:"italic",fontSize:"14px"},children:"Only holders can join."}),(0,It.jsx)("div",{style:{fontSize:"14px",margin:"8px 0 0"},children:"Tokens required:"}),(0,It.jsx)("input",{className:"InputBox",style:{flex:0,padding:"0.5em",width:"100%",border:"1px solid #7777",...0===p&&{background:"#aaa",color:"#222",cursor:"not-allowed"}},value:g,type:"number",placeholder:"Token gate amount",onChange:k,disabled:0===p}),(0,It.jsx)("div",{style:{height:"20px"}}),(0,It.jsx)("div",{style:{margin:"8px 0 16px",fontSize:"20px",textAlign:"center"},children:"Final steps"}),(0,It.jsxs)("div",{style:{fontSize:"15px"},children:[(0,It.jsxs)("div",{children:["Make sure to write down ",(0,It.jsx)("span",{style:{fontWeight:"bold"},children:"your admin password"}),":"]}),(0,It.jsx)("div",{style:{margin:"12px 0",textAlign:"center"},children:(0,It.jsx)("span",{style:{background:"#7772",padding:"2px 4px",border:"1px solid #8882",fontSize:"15px",WebkitUserSelect:"all",MozUserSelect:"all",msUserSelect:"element",userSelect:"all"},children:r})}),(0,It.jsxs)("div",{style:{margin:"8px 0"},children:["You may type"," ",(0,It.jsxs)("span",{style:{fontFamily:"var(--font-mono)",whiteSpace:"nowrap",fontSize:"13px",color:"var(--accent)"},children:["/pass ",r]})," ","in the chat at any time to activate admin mode."]})]}),(0,It.jsx)("div",{style:{height:"16px"}}),(0,It.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,It.jsx)(IE,{style:{fontSize:"20px",background:"var(--bg-hover)"},onClick:_,children:"Create"})})]})},pA=e=>{let{order:t}=e;return(0,It.jsxs)("div",{children:[(0,It.jsxs)("p",{children:["Order to ",t.paymentAddress," is complete."]}),(0,It.jsx)("p",{children:(0,It.jsx)("a",{href:"/#",children:"Go back to see your order."})})]})},mA=e=>{let{onClose:t,auth:n}=e;const[r,o]=(0,i.useState)(null),[s,a]=(0,i.useState)(!1),[l,u]=(0,i.useState)(!0),c=(0,i.useCallback)((async()=>{try{const e=await(async e=>{let{auth:t}=e;const n="get-order",r=JSON.stringify({...t}),i=await fetch(`${Tp}/${n}`,{method:"POST",body:r,headers:{"Content-Type":"application/json"}}),o=await i.json();if(o.error)throw new Error(`POST /${n} failed: ${o.error}`);return o})({auth:n});e.found?o(e):(o(null),a(!0))}catch(e){console.error(e)}finally{u(!1)}}),[n]),d=(0,i.useCallback)((async()=>{try{const e=await(async e=>{let{auth:t}=e;const n="create-order",r=JSON.stringify({...t}),i=await fetch(`${Tp}/${n}`,{method:"POST",body:r,headers:{"Content-Type":"application/json"}}),o=await i.json();if(o.error)throw new Error(`POST /${n} failed: ${o.error}`);return o})({auth:n});o(e),a(!1)}catch(e){alert(`${e}`),console.error(e)}}),[n]);if((0,i.useEffect)((()=>{c()}),[c]),s)return(0,It.jsxs)("div",{style:{textAlign:"center"},children:[(0,It.jsxs)("div",{children:["Creating a channel costs ",2," SOL."]}),(0,It.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"24px 0 0"},children:(0,It.jsx)(IE,{style:gA,onClick:d,children:"Continue"})})]});if(l)return(0,It.jsx)("div",{style:{textAlign:"center"},children:"Loading..."});if(null==r)return(0,It.jsx)("div",{style:{textAlign:"center"},children:"Something went wrong. Please contact the dev."});switch(r.status){case"created":return(0,It.jsx)(dA,{auth:n,order:r,setOrder:o});case"paid":return(0,It.jsx)(fA,{onClose:t,auth:n,order:r,setOrder:o});case"done":return(0,It.jsx)(pA,{order:r})}},gA={marginLeft:"8px",background:"var(--bg-hover)"},yA=e=>{let{auth:t}=e;const[n,r]=(0,i.useState)([]),o=(0,i.useCallback)((async()=>{try{const{orders:e}=await(async e=>{let{auth:t}=e;const n="get-finalized-orders",r=JSON.stringify({...t}),i=await fetch(`${Tp}/${n}`,{method:"POST",body:r,headers:{"Content-Type":"application/json"}}),o=await i.json();if(o.error)throw new Error(`POST /${n} failed: ${o.error}`);return o})({auth:t});r(e)}catch(e){console.error(e)}}),[t]);return(0,i.useEffect)((()=>{o()}),[o]),0===n.length?(0,It.jsx)("div",{style:{textAlign:"center"},children:"Your previous orders will show up here."}):(0,It.jsx)("div",{children:n.map((e=>(0,It.jsxs)("div",{style:{fontSize:"12px",fontFamily:"var(--font-mono)"},children:[e.paymentAddress," - ",e.status]},e.paymentAddress)))})},vA=e=>{let{close:t}=e;const n=(0,i.useCallback)((()=>{t()}),[t]),[r,o]=(0,i.useState)(!1),{auth:s}=(0,i.useContext)(Tm);return s?(0,It.jsxs)("div",{className:"ModalBox"+(window.isHandheld?" ModalBoxMobile":" ModalBoxDesktop ModalBoxDesktopSmall"),onClick:e=>e.stopPropagation(),children:[(0,It.jsx)("span",{style:{position:"absolute",top:"8px",right:"8px"},className:"CloseButton",onClick:()=>n(),children:(0,It.jsx)(X_,{})}),r?(0,It.jsxs)("div",{children:[(0,It.jsx)("div",{style:{...bA,fontSize:"1.25em"},children:"Order history"}),(0,It.jsx)(yA,{auth:s}),(0,It.jsx)("div",{style:{margin:"16px 0",textAlign:"center",color:"#777"},children:". \xb7 . \xb7 . \xb7 . \xb7 . \xb7 . \xb7 . "}),(0,It.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,It.jsx)("span",{style:wA,onClick:()=>o(!1),children:"Go back"})})]}):(0,It.jsxs)("div",{children:[(0,It.jsx)("div",{style:bA,children:"Create a channel"}),(0,It.jsx)(mA,{onClose:n,auth:s}),(0,It.jsx)("div",{style:{margin:"16px 0",textAlign:"center",color:"#777"},children:". \xb7 . \xb7 . \xb7 . \xb7 . \xb7 . \xb7 . "}),(0,It.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,It.jsx)("span",{style:wA,onClick:()=>o(!0),children:"Show order history"})})]})]}):(0,It.jsxs)("div",{className:"ModalBox"+(window.isHandheld?" ModalBoxMobile":" ModalBoxDesktop ModalBoxDesktopSmall"),onClick:e=>e.stopPropagation(),children:[(0,It.jsx)("span",{style:{position:"absolute",top:"8px",right:"8px"},className:"CloseButton",onClick:()=>n(),children:(0,It.jsx)(X_,{})}),(0,It.jsxs)("div",{children:[(0,It.jsx)("div",{style:bA,children:"Create a channel"}),(0,It.jsx)("div",{children:"Log in with a Solana wallet first."})]})]})},bA={fontSize:"1.5em",marginBottom:"0.75em",textAlign:"center"},wA={marginRight:"8px",color:"var(--dull)",borderBottom:"1px solid var(--dull)",cursor:"pointer",fontSize:"14px"},xA=e=>{let{search:t,cancel:n,onDone:r}=e;const o=(0,i.useMemo)((()=>0===t.length?50:10),[t]),s=tC(t,{limit:o}),[a,l]=(0,i.useState)(null);(0,i.useEffect)((()=>{s.length>0?l(s[0]):l(null)}),[t,s]),(0,i.useEffect)((()=>{0===s.length&&n()}),[s,n]);const u=(0,i.useCallback)((e=>{"Enter"!==e.key&&13!==e.keyCode||!1!==e.shiftKey||(e.preventDefault(),a&&r(a)),"ArrowUp"!==e.key&&38!==e.keyCode||(e.preventDefault(),l((e=>{if(null==e)return null;const t=s.findIndex((t=>t.id===e.id)),n=s.length;return s[((t-1)%n+n)%n]}))),"ArrowDown"!==e.key&&40!==e.keyCode||(e.preventDefault(),l((e=>{if(null==e)return null;const t=s.findIndex((t=>t.id===e.id)),n=s.length;return s[((t+1)%n+n)%n]})))}),[s,r,a]);(0,i.useEffect)((()=>(document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)})),[u]);const c=(0,i.useRef)(null);return Wm(c,(()=>{n()})),0===s.length?(0,It.jsx)("div",{className:"Jumper",ref:c,children:(0,It.jsx)("div",{className:"row",children:(0,It.jsx)("span",{className:"name",children:"No channels found."})})}):(0,It.jsx)("div",{className:"Jumper",ref:c,children:s.map((e=>(0,It.jsx)(kA,{result:e,selected:e.id===(null===a||void 0===a?void 0:a.id),onClick:()=>a&&r(a)},e.id)))})},kA=e=>{var t;let{result:n,selected:r,onClick:o}=e;const s=(0,i.useRef)(null),a=Hm(s,{onLeftClick:o}),l=Pw(s,{onTap:o});return et(s,"--user-hue",String(null!==(t=n.color)&&void 0!==t?t:0)),(0,i.useEffect)((()=>{var e;r&&(null===(e=s.current)||void 0===e||e.scrollIntoView({block:"nearest"}))}),[r]),(0,It.jsx)("div",{className:"row"+(a.isHovering?" hover":"")+(l.isTouching?" touch":"")+(r?" selected":""),style:{width:"100%",display:"inline-flex",justifyContent:"space-between"},ref:s,children:(0,It.jsxs)("span",{children:[n.hasUnread?(0,It.jsx)("span",{className:"dot"}):(0,It.jsx)("span",{className:"hash",children:n.isSpace?Rt:Nt}),(0,It.jsx)("span",{className:"name",children:n.name})]})})},_A=e=>{let{close:t}=e;const n=fn(),[r,o]=(0,i.useState)(""),s=(0,i.useCallback)((e=>{let t=e.target.value;for(;t.charAt(0)===Nt;)t=t.substring(1);o(t)}),[]),a=(0,i.useCallback)((()=>{o(""),t()}),[t]),{currentInputRef:l}=Sn(),u=(0,i.useRef)(null);return(0,i.useEffect)((()=>{setTimeout((()=>{var e;null===(e=u.current)||void 0===e||e.focus()}),0);const e=null===l||void 0===l?void 0:l.current;return()=>{o(""),null===e||void 0===e||e.focus()}}),[l]),(0,It.jsxs)("div",{className:"ModalBox"+(window.isHandheld?" ModalBoxMobile":" ModalBoxDesktop ModalBoxDesktopMedium"),onClick:e=>e.stopPropagation(),children:[(0,It.jsx)("input",{ref:u,className:"InputBoxPlain",style:{flex:0,padding:"0.5em",width:"100%"},value:r,placeholder:"Jump to channel",onChange:s}),(0,It.jsx)("div",{className:"scrollbar",style:{borderTop:"1px solid var(--border)",paddingTop:"8px"},children:(0,It.jsx)(xA,{search:r,cancel:()=>{},onDone:e=>{n({cid:e.id,cname:void 0}),a()}})})]})},SA=e=>{let{data:t,close:n}=e;const{windowWidth:r,windowHeight:o}=(0,i.useContext)(Rw);return null==t?null:(0,It.jsxs)("div",{className:"ModalBox"+(window.isHandheld?" ModalBoxMobile":" ModalBoxDesktopAdjustable"),onClick:e=>e.stopPropagation(),style:{background:"var(--bg)"},children:[(0,It.jsx)("img",{src:t.fullUrl,alt:t.filename,style:{display:"block",minWidth:"160px",maxWidth:.75*r,maxHeight:.75*o,borderRadius:"4px 4px 0 0"}}),(0,It.jsx)("div",{style:{padding:"4px 4px 2px",borderRadius:"0 0 4px 4px"},children:(0,It.jsx)("a",{style:{color:"var(--text)",textDecoration:"none"},href:t.fullUrl,rel:"noopener noreferrer nofollow",target:"_blank",children:"Open in browser"})})]})},EA=e=>{let{data:t,close:n}=e;const{windowWidth:r,windowHeight:o}=(0,i.useContext)(Rw);return null==t?null:(0,It.jsxs)("div",{className:"ModalBox"+(window.isHandheld?" ModalBoxMobile":" ModalBoxDesktopAdjustable"),onClick:e=>e.stopPropagation(),style:{background:"var(--bg)"},children:[(0,It.jsx)("iframe",{title:"User profile",style:{border:"none",display:"block",minWidth:"600px",minHeight:"400px",maxWidth:.75*r,maxHeight:.75*o,borderRadius:"4px 4px 0 0"},src:`https://my.meowspace.lol/${t.address}?embed=1`}),(0,It.jsx)("div",{style:{padding:"4px 4px 2px",borderRadius:"0 0 4px 4px"},children:(0,It.jsx)("a",{style:{color:"var(--text)",textDecoration:"none"},href:`https://my.meowspace.lol/${t.address}`,rel:"noopener noreferrer nofollow",target:"_blank",children:"Open in browser"})})]})},CA=()=>{const{showAddChannelModal:e,setShowAddChannelModal:t,showCreateChannelModal:n,setShowCreateChannelModal:r,showJumperModal:o,setShowJumperModal:s,showHelp:a,setShowHelp:l,showEmbedPopup:u,setShowEmbedPopup:c,showProfilePopup:d,setShowProfilePopup:h}=(0,i.useContext)(Rw),{showRoomBrowser:f,setShowRoomBrowser:p,showCssEditor:m,setShowCssEditor:g}=(0,i.useContext)(Yw);return(()=>{const{chordKeyDown:e,showDonations:t,setShowDonations:n,showSettings:r,setShowSettings:o,showChannelSettings:s,setShowChannelSettings:a,showAddChannelModal:l,setShowAddChannelModal:u,showCreateChannelModal:c,setShowCreateChannelModal:d,showJumperModal:h,setShowJumperModal:f,showHelp:p}=(0,i.useContext)(Rw),{currentChannel:m,showRoomBrowser:g,setShowRoomBrowser:y,showCssEditor:v,setShowCssEditor:b}=(0,i.useContext)(Yw);Km((0,i.useCallback)((()=>{n(!1),o(!1),a(null),u(!1),f(!1),y(!1)}),[n,o,a,u,f,y]));const w=(0,i.useMemo)((()=>!1!==t||!1!==v||!1!==r||null!=s||!1!==l||!1!==c||!1!==g||!1!==h||!1!==p),[t,v,r,s,l,c,g,h,p]);$m(e,["c","C"],(0,i.useCallback)((()=>{w||b((e=>!e))}),[w,b])),$m(e,["k","K"],(0,i.useCallback)((()=>{w&&!h||f((e=>!e))}),[w,h,f])),$m(e,["u","U"],(0,i.useCallback)((()=>{w&&!r||o((e=>!e))}),[w,r,o])),$m(e,["r","R"],(0,i.useCallback)((()=>{w&&null==s||a((e=>null==e?m:null))}),[w,s,a,m])),$m(e,["l","L"],(0,i.useCallback)((()=>{w&&!g||y((e=>!e))}),[w,g,y]))})(),(0,It.jsxs)(It.Fragment,{children:[(0,It.jsx)(RC,{}),(0,It.jsx)(cA,{}),(0,It.jsx)(_C,{isOpen:n,close:()=>r(!1),children:(0,It.jsx)(vA,{close:()=>r(!1)})}),(0,It.jsx)(_C,{isOpen:o,close:()=>s(!1),closeOnClickOutside:!0,closeOnEscape:!0,children:(0,It.jsx)(_A,{close:()=>s(!1)})}),(0,It.jsx)(_C,{isOpen:null!=u,close:()=>c(null),closeOnClickOutside:!0,closeOnEscape:!0,children:(0,It.jsx)(SA,{data:u,close:()=>c(null)})}),(0,It.jsx)(_C,{isOpen:null!=d,close:()=>h(null),closeOnClickOutside:!0,closeOnEscape:!0,children:(0,It.jsx)(EA,{data:d,close:()=>h(null)})})]})},AA=()=>{const{settings:{theme:e,setTheme:t}}=(0,i.useContext)(nx),n=(0,i.useCallback)((async()=>{t(Zt(e))}),[t,e]);return(0,It.jsx)("div",{className:"ToggleButton NotificationToggle",style:{transform:"translate(-0px, 1.5px)"},onClick:n,children:(0,It.jsx)("span",{className:e.dark?"icon-star":"icon-cup",style:{position:"relative"}})})},IA=()=>{const{settings:{theme:e,font:t}}=(0,i.useContext)(nx),{isMobile:n,windowWidth:r}=(0,i.useContext)(Rw),{currentChannel:o}=(0,i.useContext)(Yw),{slide:s}=(0,i.useContext)(dx),{bind:a,x:l,setPos:u,setNeg:c}=s,{tiles:d}=(0,i.useContext)(px),[h,f]=(0,i.useState)(!0),[p,m]=(0,i.useState)(!0),g=null==o,y=h&&r>=620,v=p&&!n&&!g,b=(0,i.useMemo)((()=>({})),[]),w=(0,i.useMemo)((()=>({transform:l.to([0,r],["translateX(-100%)","translateX(0%)"])})),[r,l]),x=(0,i.useMemo)((()=>({transform:l.to([0,-r],["translateX(100%)","translateX(0%)"])})),[r,l]),k=jn(o)("C"),{getShowStyle:_}=gn(),S=(0,i.useMemo)((()=>o?_(o):null),[_,o]);(0,i.useEffect)((()=>{window.isHandheld||(d.length>1||"off"===S?kC(null,null):kC(o,k))}),[S,o,k,d]);const{partyByCid:E,calmByCid:C}=(0,i.useContext)(Rw),{customRooms:A}=(0,i.useContext)(Yw),I=(0,i.useMemo)((()=>A.find((e=>e.id===o))),[A,o]),M=!!o&&E[o],j=!!o&&C[o];return(0,It.jsxs)("div",{id:"App",className:`AppWrapper theme-neutral-${e.dark?"dark":"light"} ${I&&o&&!M&&!j?`theme-${I.name}-${e.dark?"dark":"light"}`:o&&M?"theme-chat-dark theme-chat-party":o&&j?"theme-chat-dark theme-chat-calm":e.className} ${t} `+(n?"mobile":"desktop"),style:{backgroundImage:I?`url(${I.backgroundImageUrl})`:"none"},...window.isHandheld?a():{},children:[(0,It.jsx)(CA,{}),(0,It.jsx)("div",{className:"OuterWrapper",children:(0,It.jsxs)("div",{className:"OuterBox",children:[(0,It.jsx)(pS,{}),(0,It.jsxs)("div",{className:"MainBox",children:[n&&!g&&(0,It.jsx)(Mw.div,{className:"UserSidebar UserSidebarMobile menu-mobile",style:x,children:(0,It.jsx)(hS,{showX:!0})}),(0,It.jsx)(Mw.div,{className:"Sidebar"+(y?" SidebarDesktop":" SidebarMobile"),style:y?{}:w,children:(0,It.jsx)(RE,{showX:!y})}),(0,It.jsxs)(Mw.div,{className:"ChannelBox",style:b,children:[(0,It.jsxs)("div",{className:"ChannelHeader",children:[(0,It.jsxs)("div",{className:"ChannelHeaderGrouping",style:{...TA.Grouping},children:[!y&&(0,It.jsx)(CS,{on:h,onClick:()=>n?u():f((e=>!e))}),!y&&(0,It.jsx)(jA,{}),!g&&(0,It.jsx)(ES,{})]}),(0,It.jsxs)("div",{className:"ChannelHeaderGrouping",style:{...TA.Grouping,flex:"0 0 auto",marginLeft:"1.5em"},children:[r>480&&(0,It.jsx)(mS,{}),(0,It.jsx)(MA,{}),(0,It.jsx)(AA,{}),(0,It.jsx)(jA,{}),!window.isHandheld&&!g&&(0,It.jsx)(IS,{}),!window.isHandheld&&!g&&(0,It.jsx)(jA,{}),!g&&(0,It.jsx)(AS,{on:!n&&p,onClick:()=>n?c():m((e=>!e))})]})]}),(0,It.jsxs)("div",{className:"ChannelContent",children:[(0,It.jsx)("div",{className:"ChatWrapper",children:(0,It.jsx)(bC,{})}),(0,It.jsx)("div",{className:"UserSidebar UserSidebarDesktop menu-desktop "+(v?"show":"hide"),children:(0,It.jsx)(hS,{})})]})]})]})]})})]})},MA=()=>(0,It.jsx)("div",{style:TA.Vspace4}),jA=()=>(0,It.jsx)("div",{style:TA.Vspace}),TA={Grouping:{display:"flex",flexFlow:"row nowrap",alignItems:"center",minWidth:"0"},Vspace:{width:"8px",flex:"1 0 auto"},Vspace4:{width:"4px",flex:"1 0 auto"},Xmas:{backgroundPosition:"50%",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:"url(/xmas.jpg)"}},BA=()=>{const{newVersion:e}=(0,i.useContext)(ux),{settings:{theme:t,font:n}}=(0,i.useContext)(nx),{socket:r,serverId:o,connections:s,isMobile:a}=(0,i.useContext)(Rw),l=!(e&&e.breaking)&&null!==r&&null!=o&&o in s,u=(0,i.useMemo)((()=>Date.now()),[]),[c,d]=(0,i.useState)(!1),[h,f]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{if(!l)return;const e=Date.now(),t=u+1100-e;setTimeout((()=>d(!0)),Math.max(0,t))}),[l,u]),(0,i.useEffect)((()=>{c&&setTimeout((()=>f(!0)),200)}),[c]),h?null:(0,It.jsxs)("div",{className:"LoadingScreen "+n+" "+t.className+" variables",style:{...PA,opacity:c?"0%":"100%",fontSize:c?a?"48px":"96px":a?"32px":"64px",transition:"all 200ms ease-in-out"},children:[(0,It.jsx)("img",{src:TE,alt:"Logo",style:{display:"inline-block",width:"100%",maxWidth:"600px"}}),e&&e.breaking&&(0,It.jsxs)("div",{style:{fontSize:"18px",lineHeight:"140%",maxWidth:"480px",textAlign:"center",marginTop:"1em",padding:"0 1em"},children:["Your version of MeowSpace is outdated. Please try refreshing, and if you still see this message, wait a few minutes and refresh again.",(0,It.jsx)("br",{}),(0,It.jsx)("br",{}),(0,It.jsx)(IE,{onClick:()=>window.location.assign("/"),children:"Refresh"})]})]})},PA={fontFamily:"Avenir",background:"hsl(340, 100%, 97%)",color:"hsl(340, 50%, 5%)",userSelect:"none",WebkitUserSelect:"none",display:"flex",flexFlow:"column nowrap",justifyContent:"center",alignItems:"center",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"100%",height:"100%",zIndex:"100",overflowY:"scroll"},NA=()=>(0,It.jsx)(Z_,{children:(0,It.jsx)(Bm,{children:(0,It.jsx)(rx,{children:(0,It.jsx)(Lw,{children:(0,It.jsx)(Zw,{children:(0,It.jsx)(hx,{children:(0,It.jsx)(qw,{children:(0,It.jsx)(Ww,{children:(0,It.jsx)(ex,{children:(0,It.jsx)(mx,{children:(0,It.jsx)(Uw,{children:(0,It.jsxs)(cx,{children:[(0,It.jsx)(BA,{}),(0,It.jsx)(IA,{})]})})})})})})})})})})})});window.Buffer=wa.Buffer,s.render((0,It.jsx)(i.StrictMode,{children:(0,It.jsx)(ye,{children:(0,It.jsxs)(fe,{children:[(0,It.jsx)(de,{path:"/:room",element:(0,It.jsx)(NA,{})}),(0,It.jsx)(de,{index:!0,element:(0,It.jsx)(NA,{})})]})})}),document.getElementById("root")),t()})()})();